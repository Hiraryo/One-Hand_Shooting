	#include "hsp3util.as"	//emes 命令などに使用
	#include "user32.as"	//Win32 API関数に使用
	#include "hspda.as"		//vsave 命令などに使用
	#include "hspogg.as"	//.oggファイルを再生するために使用
	dmmini
	#include "hspinet.as"	//インターネットに接続するための命令などに使用
	#include "hspext.as"	//ファイルなどの移動に使用
	#define FILE "OHS-test.rnk"	//ノーマルクエストのランキングデータの名前を定義
	#define FILE2 "Limit_breaking.rnk"	//限界突破ステージのランキングデータの名前を定義
	
	path = dir_exe
	
	screen 0,300,30,0,0,0
	exec "RunDll32.exe InetCpl.cpl,ClearMyTracksByProcess 8"
	mes "データダウンロード中..."
	
	netinit
	if stat : dialog "ネット接続できません。" : end
	
	neturl "http://expresshr99.html.xdomain.jp/ohsranking/"
	netload FILE
	netload FILE2
	
	neturl "http://expresshr99.html.xdomain.jp/OHS_new/"
	netload "zip_expansion.exe"
	netload "htp.exe"
	
	/*
	adr = "sv2.html.xdomain.ne.jp"
	user= "expresshr99.html.xdomain.jp"
	pass= "O-H-S.1999.2017"
	
	ftpopen adr,user,pass
	if stat != 0 : dialog "FTP接続エラーです" : end

	
	
	//ftpdir start_dir,"ohsranking"
	ftpget "version_z.txt"
	ftpget "version_h.txt"
	ftpget "OHS-test.rnk"
	ftpget "Limit_breaking.rnk"
	if stat != 0 : dialog "ランキングデータがダウンロードできませんでした...\n(インターネット接続を確認してください)\nエラー0" : ftpclose : end
	
	exist path+"\\sound\\wave\\kettei.wav"
	if strsize = -1 {
		ftpdir start_dir,"sound"
	
		ftpget "kettei.wav"
		if stat != 0 : dialog "ゲームデータがダウンロードできませんでした...\n(インターネット接続を確認してください)\nエラー1" : ftpclose : end
	}
	exist path+"\\hspext.dll"
	if strsize = -1 {
		ftpdir start_dir,"sound"
	
		ftpget "hspext.dll"
		if stat != 0 : dialog "ゲームデータがダウンロードできませんでした...\n(インターネット接続を確認してください)\nエラー2" : ftpclose : end
	}
	
	notesel htp
	noteload "version_h.txt"
	noteget ver_h, 0
	if ver_h == 1{
		ftpdir start_dir,"sound"
	
		ftpget "htp.exe"	//how to play の略
		file_name = "htp.exe"
		if stat != 0 : dialog "ゲームデータがダウンロードできませんでした...\n(インターネット接続を確認してください)\nエラー4" : ftpclose : end
		fxren file_name,"遊び方.exe"
		
	}
	
	exist path+"\\htp.exe"
	if strsize != -1 {
		delete "htp.exe"
	}
	
	notesel zip
	noteload "version_z.txt"
	noteget ver_z, 0
	if ver_z == 1{
			ftpdir start_dir,"sound"
		
			ftpget "zip_expansion.exe"
			if stat != 0 : dialog "ゲームデータがダウンロードできませんでした...\n(インターネット接続を確認してください)\nエラー5" : ftpclose : end
	}
	
	ftpclose
*/
	#define SIZE 200
	
	
	;path = "F:\\OHS"
	
	
	/*
	item1 = "kettei.wav"
	item2 = "84.ogg"
	fxcopy item1,path+"\\sound\\wave",1	//item1のファイルをwaveフォルダーに移動
	fxcopy item2,path+"\\sound\\ogg",1	//item1のファイルをwaveフォルダーに移動
*/
	goto *file_pack
	
*file_pack
	#packopt runtime "OHS.hrt"	//アイコン画像をパック
//-----------------------画像データを実行ファイルに埋め込む---------------------------------------
#epack "graphics\\size60.png"
#epack "graphics\\size642.png"
#epack "graphics\\size16.png"
#epack "graphics\\title2.jpg"
;#epack "graphics\\enter2.png"
;#epack "graphics\\magic.png"
#epack "graphics\\ziki1.png"
#epack "graphics\\boss1.png",
#epack "button\\b_64.jpg"
#epack "button\\b_65.jpg"
#epack "button\\ranking.png"
#epack "button\\b_63.png"
#epack "graphics\\dialog1.jpg"
#epack "graphics\\ziki4.png"
#epack "graphics\\ziki2.png"
#epack "graphics\\ziki3.png"
#epack "graphics\\warning.png"
#epack "graphics\\select1.png"
#epack "button\\b_66.jpg"
#epack "button\\wasd.png"
#epack "button\\uesita.png"
#epack "button\\ki-.png"
#epack "button\\back.png"
#epack "button\\uesita2.png"
#epack "effect\\1e.png"
#epack "button\\b_24.bmp"
#epack "graphics\\banner.png"
#epack "button\\b_38.png"
#epack "button\\b_41.png"
#epack "button\\b_42.png"
#epack "button\\b_43.png"
#epack "button\\b_44.png"
#epack "button\\b_45.png"
#epack "button\\b_46.png"
#epack "button\\b_47.png"
#epack "button\\b_48.png"
#epack "button\\b_49.png"
#epack "button\\b_50.png"
#epack "button\\b_51.png"
#epack "button\\b_52.png"
#epack "button\\b_53.png"
#epack "button\\b_54.png"
#epack "button\\b_55.png"
#epack "button\\b_56.png"
#epack "button\\b_57.png"
#epack "button\\b_58.png"
#epack "button\\b_59.png"
#epack "button\\b_60.png"
#epack "button\\b_61.png"
#epack "graphics\\exp1.png"
#epack "graphics\\exp2.png"
#epack "effect\\2e.png"
#epack "button\\b_67.png"
#epack "graphics\\special.jpg"
#epack "button\\b_68.png"
#epack "graphics\\ziki13.png"
#epack "graphics\\ziki14.png"
#epack "graphics\\ziki15.png"
#epack "graphics\\ziki16.png"
#epack "graphics\\ziki17.png"
#epack "graphics\\ziki18.png"
#epack "graphics\\ziki19.png"
#epack "graphics\\ziki20.png"
#epack "button\\b_69.png"
#epack "movie\\3.png"
#epack "graphics\\top01.jpg"
#epack "graphics\\top02.jpg"
#epack "graphics\\top03.jpg"
#epack "graphics\\top04.jpg"
#epack "graphics\\top05.jpg"
#epack "graphics\\top06.jpg"
#epack "graphics\\top07.jpg"
#epack "graphics\\top08.jpg"
#epack "graphics\\top09.jpg"
#epack "graphics\\top10.jpg"
#epack "graphics\\top11.jpg"
#epack "graphics\\top12.jpg"
#epack "graphics\\top13.jpg"
#epack "graphics\\top14.jpg"
#epack "graphics\\top15.jpg"
#epack "graphics\\top16.jpg"
#epack "graphics\\top17.jpg"
#epack "graphics\\top18.jpg"
#epack "graphics\\top19.jpg"
#epack "graphics\\top20.jpg"
#epack "button\\b_70.png"
#epack "button\\b_71.png"
#epack "button\\b_72.png"
#epack "button\\b_73.png"
#epack "button\\b_74.png"
#epack "button\\b_75.png"
#epack "button\\b_76.png"
#epack "graphics\\ziki1_u.png"
#epack "graphics\\ziki2_u.png"
#epack "graphics\\ziki3_u.png"
#epack "graphics\\ziki4_u.png"
#epack "graphics\\ziki5_u.png"
#epack "graphics\\ziki6_u.png"
#epack "graphics\\ziki7_u.png"
#epack "graphics\\ziki8_u.png"
#epack "graphics\\ziki9_u.png"
#epack "graphics\\ziki10_u.png"
#epack "graphics\\ziki11_u.png"
#epack "graphics\\ziki12_u.png"
#epack "graphics\\ziki13_u.png"
#epack "graphics\\ziki14_u.png"
#epack "graphics\\ziki15_u.png"
#epack "graphics\\ziki16_u.png"
#epack "graphics\\ziki17_u.png"
#epack "graphics\\ziki18_u.png"
#epack "graphics\\ziki19_u.png"
#epack "graphics\\ziki20_u.png"
#epack "button\\b_77.png"
#epack "button\\b_78.png"
#epack "graphics\\m01.jpg"
#epack "graphics\\m02.jpg"
#epack "graphics\\m03.jpg"
#epack "graphics\\m04.jpg"
#epack "graphics\\m05.jpg"
#epack "graphics\\m06.jpg"
#epack "graphics\\m07.jpg"
#epack "graphics\\m08.jpg"
#epack "graphics\\m09.jpg"
#epack "graphics\\m10.jpg"
#epack "graphics\\m11.jpg"
#epack "graphics\\m12.jpg"
#epack "graphics\\m13.jpg"
#epack "graphics\\m14.jpg"
#epack "graphics\\m15.jpg"
#epack "graphics\\m16.jpg"
#epack "graphics\\m17.jpg"
#epack "graphics\\m18.jpg"
#epack "graphics\\m19.jpg"
#epack "graphics\\m20.jpg"
//-----------------------画像データを実行ファイルに埋め込み終了---------------------------------------

	
	//プログラム実行時の初期設定
	#define global GWIDTH 1024		//ゲーム画面の幅
	#define global GHEIGHT 615		//ゲーム画面の高さ
	#define ENEMAX 64		//敵の最大数
	#define BOSSMAX 1	    //ボスの最大数
	#define ESHOTMAX 80	//敵の弾の最大数
	#define BSHOTMAX 35	//ボスの弾の最大数

//http://www.rinku.zaq.ne.jp/ultimate/のサイトの「HSPBC -> HSP講座 -> 脱入門講座 -> 第02章-03 フラッシュ暗算(完成)」を参考にしていましたが、リンクが切れてしまいました。
	#module
	#deffunc countdown int count, local r
		click@ = 0
		r = ginfo(20) - SIZE@, ginfo(21) - SIZE@, ginfo(20) + SIZE@, ginfo(21) + SIZE@
		font msmincho, SIZE@ / 3 * 2
		repeat , 29
			if click@ ! 0 | cnt / 29 = count : r = count * 29 - cnt : break
			if count ! 0 & cnt \ 29 = 0 {
				redraw 2
				color 255, 255, 255 : boxf r.0 / 2, r.1 / 2
				if count - cnt / 29 > 3 : color : else : color 255
				circle r.0 / 2, r.1 / 2, r.2 / 2, r.3 / 2
				pos (ginfo(20) - SIZE@ / 3 * 2) / 2, (ginfo(21) - SIZE@ / 3 * 2) / 2
				mes count - cnt / 29
				color 255, 255, 255
				circle (r.0 + 15) / 2, (r.1 + 15) / 2, (r.2 - 15) / 2, (r.3 - 15) / 2, 0
				pos (ginfo(20) - ginfo_mesx) / 2, (ginfo(21) - ginfo_mesy) / 2
				mes count - cnt / 29
				redraw 1
			}
			await 33
		loop
		return r
	#global
//------------------------------------------------------------------------------------------------------------------------------

screen 0,300,35,0,0,0
// 実行ファイル名(※大文字小文字まで一致しないと正常にDLできない)
#define AppName "One-Hand-Shooting" // case sensitive
// 現行(この.exeの)バージョン
#define VERSION "5.2.7"


#packopt name AppName

#define UpdateSiteName         "http://expresshr99.html.xdomain.jp/"
#define UpdateVersionFileName  "version.txt"


	title "更新データ確認 ver " + VERSION
	objsize 150,35
	button "更新チェック", *updateCheck
	objsize 150,35
	pos 150,0
	button "更新を確認せずに遊ぶ",*login
	onexit gosub *exit2
	stop


if 0 {
// downloadFile URL文字列, ファイル名, タイムアウト時間[ms]
// @return netexecの結果 | タイムアウトなら0
#deffunc downloadFile str url, str fileName, int timeout
	neturl UpdateSiteName
	netrequest fileName
	
	repeat timeout/5
		netexec res
		if (res != 0) : break
		await 5
	loop
	return res
}

*updateCheck
	
	netinit
	if stat {
		dialog "ネットに接続されていないため、更新を確認できません。", 1, "Error"
		stop
	}

	mes "バージョンを確認しています..."
	
	downloadFile UpdateSiteName, UpdateVersionFileName, 500000
	res = stat
	
	if (res == 0) { // タイムアウト
		dialog "タイムアウトしました。", 1, "Error"
		stop
	}
	if (res < 0) { // 取得失敗
	Dialog ""+UpdateSiteName+"\n"+UpdateVersionFileName+"\n"
		neterror estr
		dialog "更新を確認できませんでした。\n" + estr + "\nWebブラウザを起動します。", 1, "Error"
		goto *web_ie
		stop
	}
	
	// 正常にDL完了の場合
	notesel buf
	noteload UpdateVersionFileName
	noteget ver, 0
	noteunsel
	if (ver == VERSION) { // バージョン表記文字列が同じなら同バージョンと見なす
		dialog "お使いのプログラムは最新版です。"
		goto *login
		stop
	}
	// 更新がある場合
	dialog "更新可能なバージョンがあります。更新し、再起動します。", 0
	
	if (res == 0) { // タイムアウト
		dialog "タイムアウトしました。", 1, "Error"
		stop
	}
	if (res < 0) { // 取得失敗
		neterror estr
		dialog "更新を確認できませんでした。\n" + estr + "\nWebブラウザを起動します。", 1, "Error"
		goto *web_ie
		stop
	}
	
	exec "zip_expansion.exe" : end
	


*login
notesel data
yuza = ""
keyword=""
kaiin = ""

goto *login2
//ログインシステム
*login2
	onexit gosub *exit2
	screen 0,500,250,0,0,0
	title "ログインシステム(ユーザー登録)"
	sinki = 0
	sonzai = 0
	chdir path
	dirlist x, path+"\\database", 5
	if stat = 0 : dialog "databaseフォルダーが存在しません。\nフォルダーを作成します．．．" :mkdir ""+path+"\\database"
	
	font "MS ゴシック",10,0
	pos 10,10
	mes "新規のユーザー様はアカウントを作成してください。"
	pos 70,75:mes "ユーザー名（ここで決めた名前はランキング登録時に使用されます。）"
	objsize 70,20
	pos 70,105
	input yuza
	
	color 0,0,0
	font "MS ゴシック",10,0
	pos 70,135:mes "パスワード"
	objsize 70,20
	pos 70,145
	input keyword
	objsize 100,20
	pos 300,145
	
	sendmsg objinfo(stat, 2),$CC,'*'
	//noteget a,0
	pos 300,220
	objsize 150,20
	button "アカウントをお持ちの方",*yuzasan
	objsize 50,20
	pos 140,145
	
	
	//BMSCRを取得(これが必要)
	mref BMSCR, 67
	//スタイルを変更
	//$50000000と必要なスタイルをorする
	BMSCR(70) = $50000000 | $2000
	//input作成
	pos 70,185:mes "会員番号(１桁目を１以上から始まる4ケタを自由に入力してください)"
	objsize 70,20,3
	pos 70,195
	input kaiin,,,4
	objsize 100,20
	// デフォルトへ戻す
	BMSCR(70) = $50000000
	pos 70,220
	button "ログイン",*touroku
	stop 
*touroku
	exist "database\\O-H-S-"+kaiin+"\\O-H-S-"+kaiin+".dat"
	if strsize >= 0{
		dialog "このパスワードまたは、会員番号はすでに登録されております",1,"エラー"
		stop
	}
	if yuza = ""{
		dialog "ユーザー名を入力してください",1,"エラー"
		goto *login
	}if yuza = "製作者" | yuza = "(~_~;)" | yuza = "琥珀"{
		dialog "そのユーザー名は使用できません。",1,"警告"
		goto *login
	}if keyword = ""{
		dialog "パスワードを入力してください",1,"エラー"
		goto *login
	}if yuza = "" & keyword = ""{
		dialog "ユーザー名とパスワードを入力してください",1,"エラー"
		goto *login
	}if kaiin = ""{
		dialog "会員番号を入力してください",1,"エラー"
		goto *login
	}
	kai = int(kaiin)
	if kai < 1000{
		dialog "会員番号を正しく入力してください",1,"エラー"
		goto *login
	}else{
	noteadd yuza,0
	noteadd keyword,1

//	ファイルとして出力する
	chdir path
	mkdir "database\\O-H-S-"+kaiin+""
	boss = 0
	noption=0
	BGM = 0
	haikei = 0
	score = 0
	muteki_cnt = 0
	stage_no = 1
	clear_stage = 0
	interval = 128
	n_myship = 30
	myship_state = 1	//1:通常　2:爆発中　3:復活中
	stage_MAX = 0
	extsc = 2000
	extcnt = 0
	stage_finish = 0
	OHS_finish = 0
	extscr = 2000
	anim=0 
	mutekiowari = 25
	boss_state = 0 		//０：出現してない　1：出現中　2：死亡
	kitai_Lv_1 = 1
	kitai_Lv_2 = 1
	kitai_Lv_3 = 1
	kitai_Lv_4 = 1
	kitai_Lv_5 = 1
	kitai_Lv_6 = 1
	kitai_Lv_7 = 1
	kitai_Lv_8 = 1
	kitai_Lv_9 = 1
	kitai_Lv_10 = 1
	kitai_Lv_11 = 1
	kitai_Lv_12 = 1
	kitai_Lv_13 = 1
	kitai_Lv_14 = 1
	kitai_Lv_15 = 1
	kitai_Lv_16 = 1
	kitai_Lv_17 = 1
	kitai_Lv_18 = 1
	kitai_Lv_19 = 1
	kitai_Lv_20 = 1
	notesave path+"\\database\\O-H-S-"+kaiin+"\\O-H-S-"+kaiin+".dat"
	vsave_start
	vsave_put	keikenti
	vsave_put	play
	vsave_put	gold
	vsave_put	hiscore
	vsave_put	noption
	vsave_put	BGM
	vsave_put	haikei
	vsave_put	muteki_cnt
	vsave_put	stage_no
	vsave_put	interval
	vsave_put	gameover_cnt
	vsave_put	stage_MAX
	vsave_put	anim
	vsave_put	mutekiowari
	vsave_put	boss		//０：出現してない　1：出現中　2：死亡
	vsave_put	block_state
	vsave_put	n_myship
	vsave_put	extcnt
	vsave_put	stage_finish
	vsave_put	OHS_finish
	vsave_put	kitai_Lv_1
	vsave_put	kitai_Lv_2
	vsave_put	kitai_Lv_3
	vsave_put	kitai_Lv_4
	vsave_put	kitai_Lv_5
	vsave_put	kitai_Lv_6
	vsave_put	kitai_Lv_7
	vsave_put	kitai_Lv_8
	vsave_put	kitai_Lv_9
	vsave_put	kitai_Lv_10
	vsave_put	kitai_Lv_11
	vsave_put	kitai_Lv_12
	vsave_put	kitai_Lv_13
	vsave_put	kitai_Lv_14
	vsave_put	kitai_Lv_15
	vsave_put	kitai_Lv_16
	vsave_put	kitai_Lv_17
	vsave_put	kitai_Lv_18
	vsave_put	kitai_Lv_19
	vsave_put	kitai_Lv_20
	vsave_put	invincible1
	vsave_put	invincible2
	vsave_put	invincible3
	vsave_put	invincible4
	vsave_put	invincible5
	vsave_put	invincible6
	vsave_put	invincible7
	vsave_put	invincible8
	vsave_put	invincible9
	vsave_put	invincible10
	vsave_put	invincible11
	vsave_put	invincible12
	vsave_put	invincible13
	vsave_put	invincible14
	vsave_put	invincible15
	vsave_put	invincible16
	vsave_put	invincible17
	vsave_put	invincible18
	vsave_put	invincible19
	vsave_put	invincible20
	vsave_put	mode_cnt
	vsave_end path+"\\database\\O-H-S-"+kaiin+"\\O-H-S-"+kaiin+".sav"
	dialog "ログインしました",0,"ログイン"
	goto *research
}
*yuzasan
	
	cls 0
	font "MS ゴシック",10,0
	pos 140,145
	//BMSCRを取得(これが必要)
	mref BMSCR, 67
	//スタイルを変更
	//$50000000と必要なスタイルをorする
	BMSCR(70) = $50000000 | $2000
	//input作成
	pos 70,100:mes "登録した会員番号を入力してください"
	objsize 70,20,3
	pos 250,100
	input kaiin,,,4
	objsize 100,20
	// デフォルトへ戻す
	BMSCR(70) = $50000000
	pos 250,150
	button "確認",*handan
	font "MS ゴシック",10,0
	pos 100,125:mes "パスワードを入力してください"
	objsize 70,20
	pos 250,125
	input keyword
	objsize 100,20
	pos 300,145
	sendmsg objinfo(stat, 2),$CC,'*'
	pos 0,0
	objsize 150,20
	button "もどる",*login
	stop
	
*handan 
	exist "database\\O-H-S-"+kaiin+"\\O-H-S-"+kaiin+".dat"
	if strsize = -1{
		dialog "この会員番号は登録されておりません",1,"エラー"
		stop
	}
	aa=kaiin
	notesel data
	noteload "database\\O-H-S-"+kaiin+"\\O-H-S-"+kaiin+".dat"

//	インデックスを指定して取り出す
	
	noteget a,0
	pos -100,-100:mes "1行目:"+a+""
	noteget b,1
	pos -100,-100:mes "2行目:"+b+""
	
	if kaiin = ""{
		dialog "会員番号を入力してください",1,"エラー"
		goto *yuzasan
	}
	if keyword = b : goto *yes2 
	goto *no2
	stop
	kai = int(kaiin)
	if kai < 1000{
		dialog "会員番号を正しく入力してください",1,"エラー"
		goto *yuzasan
	}else{
	if kaiin = aa :goto *yes 
	goto *no
	stop
}

*yes
	dialog "受け付けました",0,"受け付けました"
	goto *research
	stop
	
*yes2
	dialog "ログインしました",0,"ログイン"
	sonzai = 1
	chdir path+"\\database\\O-H-S-"+kaiin+""
	exist "O-H-S-"+kaiin+".sav"
	if strsize = -1{
		boss = 0
	noption=0
	BGM = 0
	haikei = 0
	score = 0
	muteki_cnt = 0
	stage_no = 1
	clear_stage = 0
	interval = 128
	n_myship = 30
	myship_state = 1	//1:通常　2:爆発中　3:復活中
	stage_MAX = 0
	extsc = 2000
	extcnt = 0
	extscr = 2000
	anim=0 
	mutekiowari = 25
	OHS_finish = 0
	boss_state = 0 		//０：出現してない　1：出現中　2：死亡
	kitai_Lv_1 = 1
	kitai_Lv_2 = 1
	kitai_Lv_3 = 1
	kitai_Lv_4 = 1
	kitai_Lv_5 = 1
	kitai_Lv_6 = 1
	kitai_Lv_7 = 1
	kitai_Lv_8 = 1
	kitai_Lv_9 = 1
	kitai_Lv_10 = 1
	kitai_Lv_11 = 1
	kitai_Lv_12 = 1
	kitai_Lv_13 = 1
	kitai_Lv_14 = 1
	kitai_Lv_15 = 1
	kitai_Lv_16 = 1
	kitai_Lv_17 = 1
	kitai_Lv_18 = 1
	kitai_Lv_19 = 1
	kitai_Lv_20 = 1
	vsave_start
	vsave_put	keikenti
	vsave_put	play
	vsave_put	gold
	vsave_put	hiscore
	vsave_put	noption
	vsave_put	BGM
	vsave_put	haikei
	vsave_put	muteki_cnt
	vsave_put	stage_no
	vsave_put	interval
	vsave_put	gameover_cnt
	vsave_put	stage_MAX
	vsave_put	anim
	vsave_put	mutekiowari
	vsave_put	boss		//０：出現してない　1：出現中　2：死亡
	vsave_put	block_state
	vsave_put	n_myship
	vsave_put	extcnt
	vsave_put	stage_finish
	vsave_put	OHS_finish
	vsave_put	kitai_Lv_1
	vsave_put	kitai_Lv_2
	vsave_put	kitai_Lv_3
	vsave_put	kitai_Lv_4
	vsave_put	kitai_Lv_5
	vsave_put	kitai_Lv_6
	vsave_put	kitai_Lv_7
	vsave_put	kitai_Lv_8
	vsave_put	kitai_Lv_9
	vsave_put	kitai_Lv_10
	vsave_put	kitai_Lv_11
	vsave_put	kitai_Lv_12
	vsave_put	kitai_Lv_13
	vsave_put	kitai_Lv_14
	vsave_put	kitai_Lv_15
	vsave_put	kitai_Lv_16
	vsave_put	kitai_Lv_17
	vsave_put	kitai_Lv_18
	vsave_put	kitai_Lv_19
	vsave_put	kitai_Lv_20
	vsave_put	invincible1
	vsave_put	invincible2
	vsave_put	invincible3
	vsave_put	invincible4
	vsave_put	invincible5
	vsave_put	invincible6
	vsave_put	invincible7
	vsave_put	invincible8
	vsave_put	invincible9
	vsave_put	invincible10
	vsave_put	invincible11
	vsave_put	invincible12
	vsave_put	invincible13
	vsave_put	invincible14
	vsave_put	invincible15
	vsave_put	invincible16
	vsave_put	invincible17
	vsave_put	invincible18
	vsave_put	invincible19
	vsave_put	invincible20
	vsave_put	mode_cnt
	vsave_end "O-H-S-"+kaiin+".sav"
	}
	goto *research
	stop
	
	
*no
	dialog "会員番号が違います",1,"エラー"
	goto *login
	stop
*no2
	dialog "パスワードが違います",1,"エラー"
	goto *yuzasan
	stop
*research
	chdir path+"\\database\\O-H-S-"+kaiin+""
	screen 0,350,300,0,0,0
	notesel data
	noteload "O-H-S-"+kaiin+".dat"
	color 255,255,255 : boxf
	color 0,0,0
	pos 0,0
	kou = str(kou)
	vload_start	"O-H-S-"+kaiin+".sav"
	vload_get	keikenti
	vload_get	gold
	vload_get	play
	vload_get	hiscore
	vload_get	noption
	vload_get	BGM
	vload_get	haikei
	vload_get	muteki_cnt
	vload_get	stage_no
	vload_get	interval
	vload_get	gameover_cnt
	vload_get	stage_MAX
	vload_get	anim
	vload_get	mutekiowari
	vload_get	boss		//０：出現してない　1：出現中　2：死亡
	vload_get	block_state
	vload_get	n_myship
	vload_get	extcnt
	vload_get	stage_finish
	vload_get	OHS_finish
	vload_get	kitai_Lv_1
	vload_get	kitai_Lv_2
	vload_get	kitai_Lv_3
	vload_get	kitai_Lv_4
	vload_get	kitai_Lv_5
	vload_get	kitai_Lv_6
	vload_get	kitai_Lv_7
	vload_get	kitai_Lv_8
	vload_get	kitai_Lv_9
	vload_get	kitai_Lv_10
	vload_get	kitai_Lv_11
	vload_get	kitai_Lv_12
	vload_get	kitai_Lv_13
	vload_get	kitai_Lv_14
	vload_get	kitai_Lv_15
	vload_get	kitai_Lv_16
	vload_get	kitai_Lv_17
	vload_get	kitai_Lv_18
	vload_get	kitai_Lv_19
	vload_get	kitai_Lv_20
	vload_get	invincible1
	vload_get	invincible2
	vload_get	invincible3
	vload_get	invincible4
	vload_get	invincible5
	vload_get	invincible6
	vload_get	invincible7
	vload_get	invincible8
	vload_get	invincible9
	vload_get	invincible10
	vload_get	invincible11
	vload_get	invincible12
	vload_get	invincible13
	vload_get	invincible14
	vload_get	invincible15
	vload_get	invincible16
	vload_get	invincible17
	vload_get	invincible18
	vload_get	invincible19
	vload_get	invincible20
	vload_get	mode_cnt
	vload_end 
	if play == 1 | gameover_cnt == 1 | n_myship == 0{ myship_state = 1}
	noteget aa,0
	mes "ユーザー名:"+aa
	mes "HI-SCORE:"+hiscore+"pt"
	mes "クリアしたステージ数:"+stage_MAX+"ステージ"
	mes "残機数"+n_myship+"体"
	mes "所持金"+gold+"ウォルテッド"
	mes "所持経験値"+keikenti+"EX"
	mes "\nゲームはこのデータの続きからとなります。"
	
	
	objsize 90,30
	pos 260,270
	button "ログアウト",*loguout
	
	pos 0,270 
	
	button goto "新規で始める",*start1 
	
		objsize 100,30
		pos 160,270
		sinki = 2
		button goto "続きから始める",*start
	abc = 0 : def = 0
	stop
	
*loguout
	dialog "ログアウトしました",0,"ログアウト"
	goto *login

*start1
	chdir path+"\\database\\O-H-S-"+kaiin+"
	delete "O-H-S-"+kaiin+".sav"
	sinki = 1
	boss = 0
	noption=0
	BGM = 0
	haikei = 0
	score = 0
	muteki_cnt = 0
	stage_no = 1
	clear_stage = 0
	interval = 128
	n_myship = 30
	myship_state = 1	//1:通常　2:爆発中　3:復活中
	stage_MAX = 0
	extsc = 2000
	extcnt = 0
	extscr = 2000
	anim=0 
	mutekiowari = 25
	boss_state = 0 		//０：出現してない　1：出現中　2：死亡
	keikenti = 0
	play = 0
	gold = 0
	hiscore = 0
	gameover_cnt = 0
	mode_cnt = 0
	OHS_finish = 0
	kitai_Lv_1 = 1
	kitai_Lv_2 = 1
	kitai_Lv_3 = 1
	kitai_Lv_4 = 1
	kitai_Lv_5 = 1
	kitai_Lv_6 = 1
	kitai_Lv_7 = 1
	kitai_Lv_8 = 1
	kitai_Lv_9 = 1
	kitai_Lv_10 = 1
	kitai_Lv_11 = 1
	kitai_Lv_12 = 1
	kitai_Lv_13 = 1
	kitai_Lv_14 = 1
	kitai_Lv_15 = 1
	kitai_Lv_16 = 1
	kitai_Lv_17 = 1
	kitai_Lv_18 = 1
	kitai_Lv_19 = 1
	kitai_Lv_20 = 1
	vsave_start
	vsave_put	keikenti
	vsave_put	play
	vsave_put	gold
	vsave_put	hiscore
	vsave_put	noption
	vsave_put	BGM
	vsave_put	haikei
	vsave_put	muteki_cnt
	vsave_put	stage_no
	vsave_put	interval
	vsave_put	gameover_cnt
	vsave_put	stage_MAX
	vsave_put	anim
	vsave_put	mutekiowari
	vsave_put	boss		//０：出現してない　1：出現中　2：死亡
	vsave_put	block_state
	vsave_put	n_myship
	vsave_put	extcnt
	vsave_put	stage_finish
	vsave_put	OHS_finish
	vsave_put	kitai_Lv_1
	vsave_put	kitai_Lv_2
	vsave_put	kitai_Lv_3
	vsave_put	kitai_Lv_4
	vsave_put	kitai_Lv_5
	vsave_put	kitai_Lv_6
	vsave_put	kitai_Lv_7
	vsave_put	kitai_Lv_8
	vsave_put	kitai_Lv_9
	vsave_put	kitai_Lv_10
	vsave_put	kitai_Lv_11
	vsave_put	kitai_Lv_12
	vsave_put	kitai_Lv_13
	vsave_put	kitai_Lv_14
	vsave_put	kitai_Lv_15
	vsave_put	kitai_Lv_16
	vsave_put	kitai_Lv_17
	vsave_put	kitai_Lv_18
	vsave_put	kitai_Lv_19
	vsave_put	kitai_Lv_20
	vsave_put	invincible1
	vsave_put	invincible2
	vsave_put	invincible3
	vsave_put	invincible4
	vsave_put	invincible5
	vsave_put	invincible6
	vsave_put	invincible7
	vsave_put	invincible8
	vsave_put	invincible9
	vsave_put	invincible10
	vsave_put	invincible11
	vsave_put	invincible12
	vsave_put	invincible13
	vsave_put	invincible14
	vsave_put	invincible15
	vsave_put	invincible16
	vsave_put	invincible17
	vsave_put	invincible18
	vsave_put	invincible19
	vsave_put	invincible20
	vsave_put	mode_cnt
	vsave_end "O-H-S-"+kaiin+".sav"
	goto *start
*start
	chdir path
	onexit gosub *exit
//	あらかじめ最大サイズでウィンドウ作成
	screen 0, 1024, 615,0,0,0
	title "One-Hand shooting 〜貴方の片手で限界を突破せよ！〜"
//	実際に表示するサイズを指定
	width 1024, 670

	gosub *rank_load
	gsel 0,1
	
	txt == ""
	
	gosub *Clear_Screen

	//仮想画面に絵を読み込む
	buffer 2
	celload "size60.png", 1
	celdiv 1, 50, 53
	celload "size642.png", 2
	celdiv 2, 64, 64
	celload "size16.png", 3
	celdiv 3, 16, 16
	celload "title2.jpg", 4
	celdiv 4, 640, 480
	;celload "enter2.png", 5
	;celdiv 5, 222, 50
	;celload "magic.png", 6
	;celdiv 6, 220, 220
	celload "ziki1.png", 7
	celdiv 7, 50, 73
	celload "Boss1.png", 25
	celdiv 25, 171, 100
	celload "b_64.jpg", 22
	celdiv 22, 150, 38
	celload "b_65.jpg", 23
	celdiv 23, 150, 38
	celload "ranking.png", 24
	celdiv 24, 272, 40
	
	celload "b_63.png", 16
	celdiv 16, 150, 40
	
	celload "dialog1.jpg",43
	celdiv 43,329,173


	celload "ziki4.png", 47
	celdiv 47, 50, 102
	celload "ziki1.png", 48
	celdiv 48, 50, 108
	celload "ziki2.png", 49
	celdiv 49, 50, 73
	celload "ziki3.png", 50
	celdiv 50, 50, 73
	
	buffer 26
	celload "warning.png", 26
	celdiv 26, 454, 133
	buffer 61 ,ginfo(20),ginfo(21)
	gzoom 454,133,26,0,0,454,133,1
	
	buffer 19
	celload "select1.png", 19
	celdiv 19, 250, 45
	buffer 63 ,ginfo(20),ginfo(21)
	gzoom 400,45,19,0,0,250,45,1
	
	celload "b_66.jpg", 65
	celdiv 65, 150, 38
	celload "wasd.png",66
	celdiv 66,297,45
	celload "uesita.png",67
	celdiv 67,308,45
	celload "ki-.png",68
	celdiv 68,274,47
	
	celload "back.png",70
	celdiv 70,130,47
	celload "uesita2.png",71
	celdiv 71,308,45
	
	celload "1e.png",81
	celdiv 81,320,180

	celload "b_24.bmp",84
	celdiv 84,150,30
	
	celload "banner.png",89
	celdiv 89,1024,150
	celload "b_38.png",90
	celdiv 90,197,100
	celload "b_41.png",93
	celdiv 93,197,100
	celload "b_42.png",94
	celdiv 94,197,100
	celload "b_43.png",95
	celdiv 95,197,100
	celload "b_44.png",96
	celdiv 96,197,100
	celload "b_45.png",97
	celdiv 97,197,100
	celload "b_46.png",98
	celdiv 98,197,100
	celload "b_47.png",99
	celdiv 99,197,100
	celload "b_48.png",100
	celdiv 100,197,100
	celload "b_49.png",101
	celdiv 101,197,100
	celload "b_50.png",102
	celdiv 102,197,100
	celload "b_51.png",103
	celdiv 103,197,100
	celload "b_52.png",104
	celdiv 104,197,100
	celload "b_53.png",105
	celdiv 105,197,100
	celload "b_54.png",106
	celdiv 106,197,100
	celload "b_55.png",107
	celdiv 107,197,100
	celload "b_56.png",108
	celdiv 108,197,100
	celload "b_57.png",109
	celdiv 109,197,100
	celload "b_58.png",110
	celdiv 110,197,100
	celload "b_59.png",111
	celdiv 111,197,100
	celload "b_60.png",112
	celdiv 112,197,100
	celload "b_61.png",113
	celdiv 113,197,100

	celload "exp1.png",121
	celdiv 121,64,64
	celload "exp2.png",122
	celdiv 122,64,64
	
	celload "2e.png",124
	celdiv 124,320,180

	celload "b_67.png",126
	celdiv 126,630,140
	celload "special.jpg", 127
	celdiv 127, 750, 615
	celload "b_68.png",128
	celdiv 128,150,46
	celload "ziki13.png",129
	celdiv 129,137,50
	celload "ziki14.png",130
	celdiv 130,169,50
	celload "ziki15.png",131
	celdiv 131,52,50
	celload "ziki16.png",132
	celdiv 132,74,50
	celload "ziki17.png",133
	celdiv 133,51,50
	celload "ziki18.png",134
	celdiv 134,83,50
	celload "ziki19.png",135
	celdiv 135,76,50
	celload "ziki20.png",136
	celdiv 136,40,50
	celload "b_69.png",140
	celdiv 140,630,140
	celload "b_70.png",141
	celdiv 141,630,140
	celload "b_71.png",143
	celdiv 143,160,46
	celload "b_72.png",144
	celdiv 144,160,46
	celload "b_73.png",145
	celdiv 145,80,80
	celload "b_74.png",146
	celdiv 146,625,105
	celload "ziki1_u.png",147
	celdiv 147,458,260
	celload "ziki2_u.png",148
	celdiv 148,446,364
	celload "ziki3_u.png",149
	celdiv 149,343,400
	celload "ziki4_u.png",150
	celdiv 150,445,418
	celload "ziki5_u.png",151
	celdiv 151,484,320
	celload "ziki6_u.png",152
	celdiv 152,533,374
	celload "ziki7_u.png",153
	celdiv 153,529,458
	celload "ziki8_u.png",154
	celdiv 154,476,343
	celload "ziki9_u.png",155
	celdiv 155,450,284
	celload "ziki10_u.png",156
	celdiv 156,539,337
	celload "ziki11_u.png",157
	celdiv 157,450,190
	celload "ziki12_u.png",158
	celdiv 158,565,425
	celload "b_75.png",159
	celdiv 159,59,68
	celload "b_76.png",160
	celdiv 160,59,68
	celload "b_77.png",161
	celdiv 161,231,78
	celload "ziki13_u.png",162
	celdiv 162,450,288
	celload "ziki14_u.png",163
	celdiv 162,450,113
	celload "ziki15_u.png",164
	celdiv 164,538,287
	celload "ziki16_u.png",165
	celdiv 165,425,390
	celload "ziki17_u.png",166
	celdiv 166,450,258
	celload "ziki18_u.png",167
	celdiv 167,404,253
	celload "ziki19_u.png",168
	celdiv 168,295,169
	celload "ziki20_u.png",169
	celdiv 169,487,317
	celload "b_78.png",170
	celdiv 170,180,50
	celload "m01.jpg",171
	celdiv 171,220,220
	celload "m02.jpg",172
	celdiv 172,220,220
	celload "m03.jpg",173
	celdiv 173,220,220
	celload "m04.jpg",174
	celdiv 174,220,220
	celload "m05.jpg",175
	celdiv 175,220,220
	celload "m06.jpg",176
	celdiv 176,220,220
	celload "m07.jpg",177
	celdiv 177,220,220
	celload "m08.jpg",178
	celdiv 178,220,220
	celload "m09.jpg",179
	celdiv 179,220,220
	celload "m10.jpg",180
	celdiv 180,220,220
	celload "m11.jpg",181
	celdiv 181,220,220
	celload "m12.jpg",182
	celdiv 182,220,220
	celload "m13.jpg",183
	celdiv 183,220,220
	celload "m14.jpg",184
	celdiv 184,220,220
	celload "m15.jpg",185
	celdiv 185,220,220
	celload "m16.jpg",186
	celdiv 186,220,220
	celload "m17.jpg",187
	celdiv 187,220,220
	celload "m18.jpg",188
	celdiv 188,220,220
	celload "m19.jpg",189
	celdiv 189,220,220
	celload "m20.jpg",190
	celdiv 190,220,220

	dim enemy_x, ENEMAX
	dim enemy_y, ENEMAX
	dim enemy_dx, ENEMAX
	dim enemy_dy, ENEMAX
	dim enemy_state, ENEMAX	//0:存在しない　1:通常　2:爆発中
	dim enemy_kind, ENEMAX
	dim enemy_phase, ENEMAX
	dim enemy_cnt, ENEMAX
	dim eneexplode_cnt, ENEMAX
	dim eshot_x, ESHOTMAX
	dim eshot_y, ESHOTMAX
	dim eshot_dx, ESHOTMAX
	dim eshot_dy, ESHOTMAX
	dim eshot_f, ESHOTMAX
	dim block_state, BLOCKMAX
	dim block_x, BLOCKMAX
	dim block_y, BLOCKMAX
	dim boss_x , BOSSMAX
	dim boss_y , BOSSMAX
	dim boss_dx , BOSSMAX
	dim boss_dy , BOSSMAX
	dim boss, BOSSMAX	//0:存在しない　1:通常　2:爆発中
	dim boss_kind, BOSSMAX
	dim boss_phase , BOSSMAX
	dim boss_cnt, BOSSMAX
	dim bossexplode_cnt, BOSSMAX
	dim bshot_x, BSHOTMAX
	dim bshot_y, BSHOTMAX
	dim bshot_dx, BSHOTMAX
	dim bshot_dy, BSHOTMAX
	dim bshot_f, BSHOTMAX

	zkey = 0
	upkey = 0
	downkey = 0
	tmp = "gscore"
	tmp = ranking
	tmp2 = limit_break_ranking

	b_name = ""
	
	hiscore = hiscore

	//効果音を読み込む
	dmmload "sound\\wave\\shot.wav",0 		//ショット音(9)
	dmmload "sound\\wave\\bom.wav",1   		//敵の爆破音(10)
	dmmload "sound\\wave\\exp.wav",2  			//自機の爆破音(11)
	dmmload "sound\\wave\\1up.wav",3 				//(12)
	dmmload "sound\\wave\\alert.wav",5
	dmmload "sound\\wave\\keikoku1.wav",66
	mmload "sound\\wave\\warp1.wav",68
	mmload "sound\\wave\\slash1.wav",69
	mmload "sound\\wave\\slash2.wav",70
	
	

//OP再生
onexit gosub *exit
	play += 1
	ziki_kind = 0
	mode == 0
	celload "3.png",76
	celdiv 76,1024,605
	//フェードイン
celload "3.png",76
celdiv 76,1024,605
gcopy 76,0,0,1024,605
mmplay 68
gsel 0
repeat 58
redraw 0
pos 0,0
celput 81,ani2,3.2,3.45
gmode 2
pos 0,0:gcopy 76,0,0,1024,605
redraw 1
await 24
ani2+1
if ani2 = 29 : ani2 = 0
loop

//フェードアウト
buffer 76,1024,605
pos 0,0
gcopy 0,0,0,1024,605

gsel 0
repeat 257
redraw 0
color:boxf
pos 0,0
gmode 3,,,256-cnt
gcopy 76,0,0,1024,605
wait 1
redraw 1
loop


	//タイトル画面
	
*Title_Screen
	chdir path+"\\database\\O-H-S-"+kaiin+""
	kou = str(kou)
	vload_start	"O-H-S-"+kaiin+".sav"
	vload_get	keikenti
	vload_get	gold
	vload_get	play
	vload_get	hiscore
	vload_get	noption
	vload_get	BGM
	vload_get	haikei
	vload_get	muteki_cnt
	vload_get	stage_no
	vload_get	interval
	vload_get	gameover_cnt
	vload_get	stage_MAX
	vload_get	anim
	vload_get	mutekiowari
	vload_get	boss		//０：出現してない　1：出現中　2：死亡
	vload_get	block_state
	vload_get	n_myship
	vload_get	extcnt
	vload_get	stage_finish
	vload_get	OHS_finish
	vload_get	kitai_Lv_1
	vload_get	kitai_Lv_2
	vload_get	kitai_Lv_3
	vload_get	kitai_Lv_4
	vload_get	kitai_Lv_5
	vload_get	kitai_Lv_6
	vload_get	kitai_Lv_7
	vload_get	kitai_Lv_8
	vload_get	kitai_Lv_9
	vload_get	kitai_Lv_10
	vload_get	kitai_Lv_11
	vload_get	kitai_Lv_12
	vload_get	kitai_Lv_13
	vload_get	kitai_Lv_14
	vload_get	kitai_Lv_15
	vload_get	kitai_Lv_16
	vload_get	kitai_Lv_17
	vload_get	kitai_Lv_18
	vload_get	kitai_Lv_19
	vload_get	kitai_Lv_20
	vload_get	invincible1
	vload_get	invincible2
	vload_get	invincible3
	vload_get	invincible4
	vload_get	invincible5
	vload_get	invincible6
	vload_get	invincible7
	vload_get	invincible8
	vload_get	invincible9
	vload_get	invincible10
	vload_get	invincible11
	vload_get	invincible12
	vload_get	invincible13
	vload_get	invincible14
	vload_get	invincible15
	vload_get	invincible16
	vload_get	invincible17
	vload_get	invincible18
	vload_get	invincible19
	vload_get	invincible20
	vload_get	mode_cnt
	vload_end
	if play == 1 | gameover_cnt == 1 | n_myship == 0{ n_myship = 30 : myship_state = 1}
	
	chdir path
	
	logo = "One-hand shooting"
	menu_no = 0
	
*init
	dmmload "sound\\ogg\\ranking.ogg",16
	dmmloop 16
	dmmplay 16
	rank_hen = 1
*init2
	chdir path
	gosub *rank_load
	gosub *rank_draw
	color 255,255,0:font "HG明朝E",25:pos 0,0:mes "Enterキー、もしくはコントローラーのAボタンでで開始"
	color 255,255,0:font "HG明朝E",15:pos 0,40:mes "ここに登録されている総スコアは\n「ゲームスコア+(残機×1000)+(クリアしたステージ数×500)＝総スコア」で計算され、登録されます。（↑↓キーでランキング移動）"
	pos 800,10
	objsize 150,30
	objimage 84
	button "ランキング更新",*ranking_change
	
	
	
	if OHS_finish = 1{
		pos 350,10
		objsize 160,46
		objimage 143
		button gosub "",*rank_draw2//ノーマルクエスト
		
		
		pos 540,10
		objsize 160,46
		objimage 144
		button gosub "",*rank_draw_limit2//限界突破ステージ
		
	}
	
	repeat 
		await 20
		stick key_s,0
			if (key_s&32):break:dmmstop -1
		if rank_hen = 1{
			stick rank_key,10
			if rank_key & 8{
				ranking_Y += 20
				rank_pos = 0
				gosub *rank_draw2
				if ranking_Y >= 1500{
					ranking_Y == 1480
				}
			}
			if rank_key & 2{
				if pos_Y = 0 | pos_Y = pos_YY{
					rank_pos = 1
				}else{
					rank_pos = 0
					ranking_Y -= 20
				}
				
				gosub *rank_draw2
			}
		}
		if rank_hen = 2{
			stick rank_key2,10
			if rank_key2 & 8{
				ranking_Y2 += 20
				rank_pos2 = 0
				gosub *rank_draw_limit2
				if ranking_Y2 >= 1500{
					ranking_Y2 == 1480
				}
				
			}
			if rank_key2 & 2{
				if pos_Y2 = 0 | pos_Y2 = pos_YY2{
					rank_pos2 = 1
				}else{
					rank_pos2 = 0
					ranking_Y2 -= 20
				}
				
				gosub *rank_draw_limit2
			}
		}
	loop
	goto *opening_act12
	
*opening_act12
	dmmstop -1
	dmmload "sound\\ogg\\33.ogg",6
	dmmloop 6
	dmmplay 6 
//文字が上がってくる途中でEnterキーを押すと*openingにジャンプ
	cls 4
	repeat 48
	redraw 0
	color 0,0,0
	boxf
		stick key,0
			if (key&32):break:goto *opening
		font msgothic,60,1
		pos 220,ginfo(27)-cnt*10-4
		color 255,255,255
		mes logo
		pos 224,ginfo(27)-cnt*10
		color 255,0,0
		mes logo
		wait 8
		redraw 1
	loop
	

	ki = 3
//OP画面。文字固定。
*opening
	cls 4
	gzoom ginfo(26),ginfo(27),4,0,0,640,480,1 
	;pos 30,520:gmode 2 : gcopy 5,0,0,222,50
	font msgothic,60,1
	pos 220,170
	color 255,255,255
	mes logo
	pos 224,174
	color 255,0,0
	mes logo
	
	redraw 0
	pos 0,0
    color 255,$80,255:font "HG明朝E",30:pos 224,240:mes "〜貴方の片手で限界を突破せよ！〜"
	redraw 1
	        pos 0,0:mes b_name//ボタン名を表示する
	    	x=x+xx: y=y+yy//表示位置をきめる
	    	if ki = 1{
				gosub *Input_Key2
			}
			if ki = 3{
				gosub *Input_Key3
			}
	
	pos 420,280 : objsize 150,38 : objimage 22, 0, 0 : button goto "",*home
    pos 420,340 : objsize 150,38 : objimage 23, 0, 0 : button gosub "",*exit
    pos 420,400 : objsize 150,38 : objimage 65, 0, 0 : button goto "",*option2
    pos 400,540 : objsize 180,50 : objimage 170, 0, 0 : button gosub "",*how_to
	stop
	
*option2	//WASDキー
	cls 4
	clrobj
	ki = 1
	color 0,0,0
	boxf
	color 255,255,255
	font "",50,16
	pos 430,130
	mes "オプション"
	pos 410,250 : objsize 274,47 : objimage 68, 0, 0, 274, 0: button goto "",*_ki
	pos 410,350 : objsize 130,47 : objimage 70, 0, 0, 202, 0: button goto "",*opening
	stop
	
*option3	//↑↓←→キー
	cls 4
	clrobj
	ki = 3
	color 0,0,0
	boxf
	color 255,255,255
	font "",50,16
	pos 430,130
	mes "オプション"
	pos 410,250 : objsize 274,47 : objimage 68, 0, 0, 274, 0: button goto "",*_ki
	pos 410,350 : objsize 130,47 : objimage 70, 0, 0, 202, 0: button goto "",*opening
	stop
	
*_ki
	cls 4
	clrobj
	pos 410,200 : objsize 297,45 : objimage 66, 0, 0, 297, 0: button goto "",*option2	//WASDキー
	pos 410,300 : objsize 308,45 : objimage 71, 0, 0, 308, 0: button goto "",*option3	//↑↓←→キー
	stop
	
*how_to
	exec "htp.exe"
	return
	stop
*home
	dmmstop
	dmmload "sound\\ogg\\81.ogg",66
	dmmloop 66
	dmmplay 66
*home2
	clrobj
	pos 0,0
	color 0,0,0
	boxf
	gcopy 89,0,0,1024,150
	pos 180,85
	color 255,255,0
	font "ＭＳ 明朝",30,1
	mes ""+keikenti+" EXP"
	pos 600,85
	color 255,255,255
	font "ＭＳ 明朝",30,1
	mes "＄"+gold+""
	pos 200,200 : objsize 630,140 : objimage 126, 0, 0 : button goto "",*mode_select1	//スコアアタック
	if OHS_finish = 1{
		pos 200,380 : objsize 630,140 : objimage 140, 0, 0 : button goto "",*mode_select2	//限界突破ステージ
	}else{
		pos 200,380 : objsize 630,140 : objimage 141, 0, 0 : button goto "",*not_genkai
	}
	stop
*not_genkai
	dialog "ノーマルクエストを100ステージすべてクリアすると遊べるようになります。",0,"解放条件"
	if stat = 1{
		goto *home2
	}
	stop
*mode_select1
	mode == 1
	mode_cnt ++
	goto *select2
	stop
	
*mode_select2
	mode == 2
	goto *limit_break_select
	stop
	
*select2
	dmmstop
	dmmload "sound\\ogg\\69.ogg",17
	dmmloop 17
	dmmplay 17
	if mode_cnt <= 1{
		invincible1 = 300
		invincible2 = 250
		invincible3 = 500
		invincible4 = 200
		invincible5 = 450
		invincible6 = 800
		invincible7 = 600
		invincible8 = 300
		invincible9 = 450
		invincible10 = 450
		invincible11 = 450
		invincible12 = 450
		invincible13 = 550
		invincible14 = 650
		invincible15 = 400
		invincible16 = 500
		invincible17 = 800
		invincible18 = 750
		invincible19 = 850
		invincible20 = 900
		
		//合成前の機体レベル初期値
		kitai_Lv_1 = 1
		kitai_Lv_2 = 1
		kitai_Lv_3 = 1
		kitai_Lv_4 = 1
		kitai_Lv_5 = 1
		kitai_Lv_6 = 1
		kitai_Lv_7 = 1
		kitai_Lv_8 = 1
		kitai_Lv_9 = 1
		kitai_Lv_10 = 1
		kitai_Lv_11 = 1
		kitai_Lv_12 = 1
		kitai_Lv_13 = 1
		kitai_Lv_14 = 1
		kitai_Lv_15 = 1
		kitai_Lv_16 = 1
		kitai_Lv_17 = 1
		kitai_Lv_18 = 1
		kitai_Lv_19 = 1
		kitai_Lv_20 = 1
	}else{
		goto *select
	}
		
*select
	//---------------------------------------------------------------------------------------
	kitai_Lv_now_1 = kitai_Lv_1
	kitai_Lv_now_2 = kitai_Lv_2
	kitai_Lv_now_3 = kitai_Lv_3
	kitai_Lv_now_4 = kitai_Lv_4
	kitai_Lv_now_5 = kitai_Lv_5
	kitai_Lv_now_6 = kitai_Lv_6
	kitai_Lv_now_7 = kitai_Lv_7
	kitai_Lv_now_8 = kitai_Lv_8
	kitai_Lv_now_9 = kitai_Lv_9
	kitai_Lv_now_10 = kitai_Lv_10
	kitai_Lv_now_11 = kitai_Lv_11
	kitai_Lv_now_12 = kitai_Lv_12
	kitai_Lv_now_13 = kitai_Lv_13
	kitai_Lv_now_14 = kitai_Lv_14
	kitai_Lv_now_15 = kitai_Lv_15
	kitai_Lv_now_16 = kitai_Lv_16
	kitai_Lv_now_17 = kitai_Lv_17
	kitai_Lv_now_18 = kitai_Lv_18
	kitai_Lv_now_19 = kitai_Lv_19
	kitai_Lv_now_20 = kitai_Lv_20
	
	//---------------------------------------------------------------------------------------
	v1 == 5.0 : vs1 == 10
	v2 == 7.0 : vs2 == 10
	v3 == 4.0 : vs3 == 17
	v4 == 5.5 : vs4 == 16
	v5 == 5.5 : vs5 == 13
	v6 == 6.0 : vs6 == 22
	v7 == 5.0 : vs7 == 27
	v8 == 5.0 : vs8 == 18
	v9 == 6.0 : vs9 == 22
	v10 == 6.5 : vs10 == 16
	v11 == 6.0 : vs11 == 18
	v12 == 5.5 : vs12 == 23
	v13 == 5.0 : vs13 == 24
	v14 == 6.5 : vs14 == 26
	v15 == 4.0 : vs15 == 25
	v16 == 4.5 : vs16 == 20
	v17 == 5.0 : vs17 == 19
	v18 == 6.0 : vs18 == 22
	v19 == 6.5 : vs19 == 18
	v20 == 7.0 : vs20 == 23
	//---------------------------------------------------------------------------------------
	//1Lv上げる為に必要とする経験値//
	k_p_1 = 300000
	k_p_2 = 250000
	k_p_3 = 400000
	k_p_4 = 200000
	k_p_5 = 500000
	k_p_6 = 550000
	k_p_7 = 800000
	k_p_8 = 250000
	k_p_9 = 550000
	k_p_10 = 600000
	k_p_11 = 900000
	k_p_12 = 800000
	k_p_13 = 700000
	k_p_14 = 650000
	k_p_15 = 600000
	k_p_16 = 900000
	k_p_17 = 950000
	k_p_18 = 850000
	k_p_19 = 990000
	k_p_20 = 1000000

	//無敵時の敵一体を倒したときのスコア（１Lv上がるごとに加算する値）//
	i_p_1 = 60
	i_p_2 = 40
	i_p_3 = 55
	i_p_4 = 60
	i_p_5 = 50
	i_p_6 = 55
	i_p_7 = 65
	i_p_8 = 40
	i_p_9 = 50
	i_p_10 = 60
	i_p_11 = 80
	i_p_12 = 90
	i_p_13 = 60
	i_p_14 = 55
	i_p_15 = 50
	i_p_16 = 85
	i_p_17 = 110
	i_p_18 = 70
	i_p_19 = 95
	i_p_20 = 120
		
	//---------------------------------------------------------------------------------------
	cls 4
	ziki_kind_a = 0
	color 0,0,0
	boxf
	//機体セレクト画面
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	chdir path
	
	pos 0,0 : objsize 150,46 : objimage 128,0,0 : button goto "",*opening_act12
	
	pos 0,60 : objsize 197,100 : objimage 112,0,0 : button goto "",*ziki1
	//---------------------------------------------------------------------------------------
	gold_mes = 200000 - gold
	if gold < 200000{
		pos 200,60 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not1
	}
	if gold_mes <= 0 {
		
		pos 200,60 : objsize 197,100 : objimage 111,0,0 : button goto "",*ziki2
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 500000 - gold
	if gold < 500000{
		pos 400,60 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not2
	}
	if gold_mes <= 0 {
		pos 400,60 : objsize 197,100 : objimage 110,0,0 : button goto "",*ziki3
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 1000000 - gold
	if gold < 1000000 {
		pos 600,60 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not3
	}
	if gold_mes <= 0 {
		pos 600,60 : objsize 197,100 : objimage 109,0,0 : button goto "",*ziki4
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 1500000 - gold
	if gold < 1500000{
		pos 0,170 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not4
	}
	if gold_mes <= 0 {
		pos 0,170 : objsize 197,100 : objimage 100,0,0 : button goto "",*ziki13
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 2000000 - gold
	if gold < 2000000 {
		pos 200,170 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not5
	}
	if gold_mes <= 0 {
		pos 200,170 : objsize 197,100 : objimage 108,0,0 : button goto "",*ziki1_sinka1
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 2500000 - gold
	if gold < 2500000 {
		pos 400,170 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not6
	}
	if gold_mes <= 0 {
		pos 400,170 : objsize 197,100 : objimage 107,0,0 : button goto "",*ziki2_sinka1
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 3000000 - gold
	if gold < 3000000 {
		pos 600,170 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not7
	}
	if gold_mes <= 0 {
		pos 600,170 : objsize 197,100 : objimage 106,0,0 : button goto "",*ziki3_sinka1
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 3500000 - gold
	if gold < 3500000{
		pos 0,280 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not8
	}
	if gold_mes <= 0 {
		pos 0,280 : objsize 197,100 : objimage 105,0,0 : button goto "",*ziki4_sinka1
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 4000000 - gold
	if gold < 4000000 {
		pos 200,280 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not9
	}
	if gold_mes <= 0 {
		pos 200,280 : objsize 197,100 : objimage 99,0,0 : button goto "",*ziki14
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 4500000 - gold
	if gold < 4500000 {
		pos 400,280 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not10
	}
	if gold_mes <= 0 {
		pos 400,280 : objsize 197,100 : objimage 104,0,0 : button goto "",*ziki1_sinka2
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 5000000 - gold
	if gold < 5000000 {
		pos 600,280 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not11
	}
	if gold_mes <= 0{
		pos 600,280 : objsize 197,100 : objimage 103,0,0 : button goto "",*ziki2_sinka2
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 5500000 - gold
	if gold < 5500000 {
		pos 0,390 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not12
	}
	if gold_mes <= 0 {
		pos 0,390 : objsize 197,100 : objimage 102,0,0 : button goto "",*ziki3_sinka2
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 6000000 - gold
	if gold < 6000000 {
		pos 200,390 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not13
	}
	if gold_mes <= 0 {
		pos 200,390 : objsize 197,100 : objimage 101,0,0 : button goto "",*ziki4_sinka2
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 6500000 - gold
	if gold < 6500000 {
		pos 400,390 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not14
	}
	if gold_mes <= 0  {
		pos 400,390 : objsize 197,100 : objimage 98,0,0 : button goto "",*ziki15
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 7000000 - gold
	if gold < 7000000 {
		pos 600,390 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not15
	}
	if gold_mes <= 0 {
		pos 600,390 : objsize 197,100 : objimage 97,0,0 : button goto "",*ziki16
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 7500000 - gold
	if gold < 7500000 {
		pos 0,500 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not16
	}
	if gold_mes <= 0 {
		pos 0,500 : objsize 197,100 : objimage 96,0,0 : button goto "",*ziki17
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 8000000 - gold
	if gold < 8000000{
		pos 200,500 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not17
	}
	if gold_mes <= 0{
		pos 200,500 : objsize 197,100 : objimage 95,0,0 : button goto "",*ziki18
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 8500000 - gold
	if gold < 8500000 {
		pos 400,500 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not18
	}
	if gold_mes <= 0 {
		pos 400,500 : objsize 197,100 : objimage 94,0,0 : button goto "",*ziki19
	}
	//---------------------------------------------------------------------------------------
	gold_mes = 9000000 - gold
	if gold < 9000000 {
		pos 600,500 : objsize 197,100 : objimage 113,0,0 : button goto "",*shop_not19
	}
	if gold_mes <= 0 {
		pos 600,500 : objsize 197,100 : objimage 93,0,0 : button goto "",*ziki20
	}
	//---------------------------------------------------------------------------------------
	stop
	
*shop_not1
	gold_mes = 200000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 200000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	stop
*shop_not2
	gold_mes = 500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	stop
*shop_not3
	gold_mes = 1000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 1000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not4
	gold_mes = 1500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 1500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not5
	gold_mes = 2000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 2000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not6
	gold_mes = 2500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 2500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not7
	gold_mes = 3000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 3000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not8
	gold_mes = 3500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 3500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not9
	gold_mes = 4000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 4000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not10
	gold_mes = 4500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 4500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not11
	gold_mes = 5000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 5000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not12
	gold_mes = 5500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 5500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not13
	gold_mes = 6000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 6000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not14
	gold_mes = 6500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 6500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not15
	gold_mes = 7000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 7000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not16
	gold_mes = 7500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 7500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not17
	gold_mes = 8000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 8000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not18
	gold_mes = 8500000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 8500000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	
	stop
*shop_not19
	gold_mes = 9000000 - gold
	if gold_mes <= 0 : gold_mes == 0
	if gold < 9000000{
		dialog "この機体を購入するまであと、 "+gold_mes+ " ウォルテッドが足りません。",0
	}
	stop
	
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki1
	color 0,0,0 : boxf
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 1
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "エクストラソリューションＶ２"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v1+" km/s\n発射方法 ： 前後とも画面内に１発のみ\n弾のスピード ： "+vs1+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible1+" pt"
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 1
	button goto "",*ziki_powerUp_B
	
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki2
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 2
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 2
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "オキシジェンフローリン"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v2+" km/s\n発射方法 ： 前後とも画面内に１発のみ\n弾のスピード ： "+vs2+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible2+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki3
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 3
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 3
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "アンスウィートＸＶＲ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v3+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs3+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible3+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki4
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 4
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 4
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "戦艦　大鳳　寿"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v4+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs4+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible4+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki1_sinka1
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 5
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 5
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "パタスへパトス＋＋"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v5+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs5+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible5+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki2_sinka1
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 6
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 6
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "メテオザクＳ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v6+" km/s\n発射方法 ： 前後とも画面内に１発のみ\n弾のスピード ： "+vs6+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible6+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki3_sinka1
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 7
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 7
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "アレース・マーレス"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v7+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs7+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible7+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki4_sinka1
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 8
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 8
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "戦線艦隊"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度："+v8+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs8+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible8+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki1_sinka2
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 9
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 9
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "アーヴァンク・イピリア"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v9+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs9+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible9+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki2_sinka2
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 10
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 10
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "フェドラーハギスＱＲ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v10+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs10+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible10+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki3_sinka2
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 11
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 11
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "ベスタ・オル・クス"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v11+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs11+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible11+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki4_sinka2
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 12
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 12
	button goto "",*Game_Start
	await 16
	color 255,255,255
	kitai = "戦艦・月光αβ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v12+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs12+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible12+" pt"
	stop
//--------------------------------------------------------------------------------------------------------------	
*ziki13
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 13
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 13
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "ブライズルＲ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v13+" km/s\n発射方法 ： 前後とも画面内に１発のみ\n弾のスピード ： "+vs13+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible13+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki14
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 14
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 14
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "ヴァレンス・ブライサン"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v14+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs14+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible14+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki15
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 15
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 15
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "レイモンド＝アラスリー"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v15+" km/s\n発射方法 ： 前後とも画面内に１発のみ\n弾のスピード ： "+vs15+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible15+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki16
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 16
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 16
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "アーミックジャスタスＸ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v16+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs16+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible16+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki17
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 17
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 17
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "ライアランホレス"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v17+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs17+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible17+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki18
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 18
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 18
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "エイベン・ルドウィン"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v18+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs18+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible18+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki19
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 19
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 19
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "キャルトンＳＳ"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v19+" km/s\n発射方法 ： 前後とも連射可能\n弾のスピード ： "+vs19+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible19+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki20
	color 0,0,0 : boxf
	
	pos 850,250
	objsize 80,80
	objimage 145,0,0
	ziki_powerUp = 20
	button goto "",*ziki_powerUp_B
	
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	ziki_kind = 20
	button goto "",*Game_Start
	color 0,0,0
	boxf 250,350,650,580
	color 255,255,255
	kitai = "エルヴァー・エイブレット"
	pos 250,0  : gmode 2: gcopy 63,0,0,400,45
	font "",14 : pos 800,350 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v20+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs20+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible20+" pt"
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*limit_break_select
	cls 4
	dmmstop
	dmmload "sound\\ogg\\69.ogg",17
	dmmloop 17
	dmmplay 17
	v20 == 7.0 : vs20 == 23 : invincible20 = 900
	kitai = "エルヴァー・エイブレット"
	pos 0,0 : objsize 150,46 : objimage 128,0,0 : button goto "",*opening_act12
	ziki_kind = 20
	pos 150,40
	color 255,255,0
	font "",20
	mes "「限界突破ステージ」を挑戦する "+aa+" さんへ、このステージで遊ぶ上での条件を説明します。"
	mes "\n・使用する機体は「エルヴァー・エイブレット」のみです。"
	mes "・ゴールは存在しません。"
	mes "・ステージ制ではありません。"
	mes "・一定距離進むと、ボスが出現します。"
	mes "・無敵はあります。"
	mes "・残機は１体のみです。"
	mes "・１UPはしません。"
	mes "\n以上、「限界突破ステージ」の条件説明でした。"
	mes "\n以下は、「エルヴァー・エイブレット」の機体詳細です。"
	color 0,255,255
	font "",20 : pos 150,320 : mes ""+kitai+"\nの各種ステータス\n\n所持金 ： "+gold+"ウォルテッド\n経験値 ： "+keikenti+"EXP\n\n移動速度 ： "+v20+" km/s\n発射方法 ： 前：オート連射\n\t後：連射可能\n弾のスピード ： "+vs20+" km/s\n無敵時の敵一体を倒したときのスコア\n"+invincible20+" pt"
	pos 850,550
	objsize 150,40
	objimage 16, 0, 0
	button goto "",*Game_Start
	stop
//------------------------------------------------------------------------------------------------------------------------------------------------------
*ziki_powerUp_B
	/*-----------------変数説明--([X]は変数の番号)------------------------------------------------------------------
		kitai_Lv_now_X 			合成前の機体のレベル
		kitai_Lv_X 				合成後の機体のレベル
		k_Lv_X					(合成前の機体のレベル）-（合成後の機体のレベル）の差
		invincibleX				合成前の無敵時の敵一体を倒したときのスコア
		invincible_Up_X			合成後の無敵時の敵一体を倒したときのスコア
		keikenti_power_X		必要とする経験値の値
	--------------------------------------------------------------------------------------------------------------*/
	if ziki_powerUp = 1{
		invincible_Up_1 == invincible1
		if kitai_Lv_now_1 <= 0{
			kitai_Lv_now_1 == 1
		}
		kitai_Lv_now_1 == kitai_Lv_1
		keikenti_power_1 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 147,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_1 -= 1
			if kitai_Lv_now_1 >= kitai_Lv_1{
				k_Lv_1 = kitai_Lv_now_1 - kitai_Lv_1
			}
			keikenti_power_1 = k_Lv_1 * k_p_1
			invincible_Up_1 = k_Lv_1 * i_p_1 + invincible1
			if kitai_Lv_now_1 <= kitai_Lv_1{
				kitai_Lv_now_1 = kitai_Lv_1
				keikenti_power_1 == 0
				invincible_Up_1 == invincible1
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_1 += 1
			if kitai_Lv_now_1 <= 100{
				k_Lv_1 = kitai_Lv_now_1 - kitai_Lv_1
			}
			keikenti_power_1 = k_Lv_1 * k_p_1
			invincible_Up_1 = k_Lv_1 * i_p_1 + invincible1
			if kitai_Lv_now_1 >= 100{
				kitai_Lv_now_1 = 100
				keikenti_power_1 == k_Lv_1 * k_p_1
				invincible_Up_1 == k_Lv_1 * i_p_1 + invincible1
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible1+"pt ⇒ "+invincible_Up_1+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_1 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_1+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 2{
		invincible_Up_2 == invincible2
		if kitai_Lv_now_2 <= 0{
			kitai_Lv_now_2 == 1
		}
		kitai_Lv_2 == kitai_Lv_now_2
		keikenti_power_2 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 148,0,0,538,413
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_2 == invincible2
		kitai_Lv_now_2 == kitai_Lv_2
		keikenti_power_2 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_2 -= 1
			if kitai_Lv_now_2 >= kitai_Lv_2{
				k_Lv_2 = kitai_Lv_now_2 - kitai_Lv_2
			}
			keikenti_power_2 = k_Lv_2 * k_p_2
			invincible_Up_2 = k_Lv_2 * i_p_2 + invincible2
			if kitai_Lv_now_2 <= kitai_Lv_2{
				kitai_Lv_now_2 = kitai_Lv_2
				keikenti_power_2 == 0
				invincible_Up_2 == invincible2
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_2 += 1
			if kitai_Lv_now_2 <= 100{
				k_Lv_2 = kitai_Lv_now_2 - kitai_Lv_2
			}
			keikenti_power_2 = k_Lv_2 * k_p_2
			invincible_Up_2 = k_Lv_2 * i_p_2 + invincible2
			if kitai_Lv_now_2 >= 100{
				kitai_Lv_now_2 = 100
				keikenti_power_2 == k_Lv_2 * k_p_2
				invincible_Up_2 == k_Lv_2 * i_p_2 + invincible2
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible2+"pt ⇒ "+invincible_Up_2+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_2 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_2+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 3{
		invincible_Up_3 == invincible3
		if kitai_Lv_now_3 <= 0{
			kitai_Lv_now_3 == 1
		}
		kitai_Lv_3 == kitai_Lv_now_3
		keikenti_power_3 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 149,0,0,538,460
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_3 == invincible3
		kitai_Lv_now_3 == kitai_Lv_3
		keikenti_power_3 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_3 -= 1
			if kitai_Lv_now_3 >= kitai_Lv_3{
				k_Lv_3 = kitai_Lv_now_3 - kitai_Lv_3
			}
			keikenti_power_3 = k_Lv_3 * k_p_3
			invincible_Up_3 = k_Lv_3 * i_p_3 + invincible3
			if kitai_Lv_now_3 <= kitai_Lv_3{
				kitai_Lv_now_3 = kitai_Lv_3
				keikenti_power_3 == 0
				invincible_Up_3 == invincible3
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_3 += 1
			if kitai_Lv_now_3 <= 100{
				k_Lv_3 = kitai_Lv_now_3 - kitai_Lv_3
			}
			keikenti_power_3 = k_Lv_3 * k_p_3
			invincible_Up_3 = k_Lv_3 * i_p_3 + invincible3
			if kitai_Lv_now_3 >= 100{
				kitai_Lv_now_3 = 100
				keikenti_power_3 == k_Lv_3 * k_p_3
				invincible_Up_3 == k_Lv_3 * i_p_3 + invincible3
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible3+"pt ⇒ "+invincible_Up_3+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_3 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_3+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 4{
		invincible_Up_4 == invincible4
		if kitai_Lv_now_4 <= 0{
			kitai_Lv_now_4 == 1
		}
		kitai_Lv_4 == kitai_Lv_now_4
		keikenti_power_4 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 150,0,0,538,472
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_4 == invincible4
		kitai_Lv_now_4 == kitai_Lv_4
		keikenti_power_4 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_4 -= 1
			if kitai_Lv_now_4 >= kitai_Lv_4{
				k_Lv_4 = kitai_Lv_now_4 - kitai_Lv_4
			}
			keikenti_power_4 = k_Lv_4 * k_p_4
			invincible_Up_4 = k_Lv_4 * i_p_4 + invincible4
			if kitai_Lv_now_4 <= kitai_Lv_4{
				kitai_Lv_now_4 = kitai_Lv_4
				keikenti_power_4 == 0
				invincible_Up_4 == invincible4
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_4 += 1
			if kitai_Lv_now_4 <= 100{
				k_Lv_4 = kitai_Lv_now_4 - kitai_Lv_4
			}
			keikenti_power_4 = k_Lv_4 * k_p_4
			invincible_Up_4 = k_Lv_4 * i_p_4 + invincible4
			if kitai_Lv_now_4 >= 100{
				kitai_Lv_now_4 = 100
				keikenti_power_4 == k_Lv_4 * k_p_4
				invincible_Up_4 == k_Lv_4 * i_p_4 + invincible4
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible4+"pt ⇒ "+invincible_Up_4+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_4 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_4+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 5{
		invincible_Up_5 == invincible5
		if kitai_Lv_now_5 <= 0{
			kitai_Lv_now_5 == 1
		}
		kitai_Lv_5 == kitai_Lv_now_5
		keikenti_power_5 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 151,0,0,538,404
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_5 == invincible5
		kitai_Lv_now_5 == kitai_Lv_5
		keikenti_power_5 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_5 -= 1
			if kitai_Lv_now_5 >= kitai_Lv_5{
				k_Lv_5 = kitai_Lv_now_5 - kitai_Lv_5
			}
			keikenti_power_5 = k_Lv_5 * k_p_5
			invincible_Up_5 = k_Lv_5 * i_p_5 + invincible5
			if kitai_Lv_now_5 <= kitai_Lv_5{
				kitai_Lv_now_5 = kitai_Lv_5
				keikenti_power_5 == 0
				invincible_Up_5 == invincible5
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_5 += 1
			if kitai_Lv_now_5 <= 100{
				k_Lv_5 = kitai_Lv_now_5 - kitai_Lv_5
			}
			keikenti_power_5 = k_Lv_5 * k_p_5
			invincible_Up_5 = k_Lv_5 * i_p_5 + invincible5
			if kitai_Lv_now_5 >= 100{
				kitai_Lv_now_5 = 100
				keikenti_power_5 == k_Lv_5 * k_p_5
				invincible_Up_5 == k_Lv_5 * i_p_5 + invincible5
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible5+"pt ⇒ "+invincible_Up_5+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_5 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_5+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 6{
		invincible_Up_6 == invincible6
		if kitai_Lv_now_6 <= 0{
			kitai_Lv_now_6 == 1
		}
		kitai_Lv_6 == kitai_Lv_now_6
		keikenti_power_6 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 152,0,0,538,430
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_6 == invincible6
		kitai_Lv_now_6 == kitai_Lv_6
		keikenti_power_6 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_6 -= 1
			if kitai_Lv_now_6 >= kitai_Lv_6{
				k_Lv_6 = kitai_Lv_now_6 - kitai_Lv_6
			}
			keikenti_power_6 = k_Lv_6 * k_p_6
			invincible_Up_6 = k_Lv_6 * i_p_6 + invincible6
			if kitai_Lv_now_6 <= kitai_Lv_6{
				kitai_Lv_now_6 = kitai_Lv_6
				keikenti_power_6 == 0
				invincible_Up_6 == invincible6
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_6 += 1
			if kitai_Lv_now_6 <= 100{
				k_Lv_6 = kitai_Lv_now_6 - kitai_Lv_6
			}
			keikenti_power_6 = k_Lv_6 * k_p_6
			invincible_Up_6 = k_Lv_6 * i_p_6 + invincible6
			if kitai_Lv_now_6 >= 100{
				kitai_Lv_now_6 = 100
				keikenti_power_6 == k_Lv_6 * k_p_6
				invincible_Up_6 == k_Lv_6 * i_p_6 + invincible6
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible6+"pt ⇒ "+invincible_Up_6+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_6 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_6+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 7{
		invincible_Up_7 == invincible7
		if kitai_Lv_now_7 <= 0{
			kitai_Lv_now_7 == 1
		}
		kitai_Lv_7 == kitai_Lv_now_7
		keikenti_power_7 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 153,0,0,538,507
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_7 == invincible7
		kitai_Lv_now_7 == kitai_Lv_7
		keikenti_power_7 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_7 -= 1
			if kitai_Lv_now_7 >= kitai_Lv_7{
				k_Lv_7 = kitai_Lv_now_7 - kitai_Lv_7
			}
			keikenti_power_7 = k_Lv_7 * k_p_7
			invincible_Up_7 = k_Lv_7 * i_p_7 + invincible7
			if kitai_Lv_now_7 <= kitai_Lv_7{
				kitai_Lv_now_7 = kitai_Lv_7
				keikenti_power_7 == 0
				invincible_Up_7 == invincible7
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_7 += 1
			if kitai_Lv_now_7 <= 100{
				k_Lv_7 = kitai_Lv_now_7 - kitai_Lv_7
			}
			keikenti_power_7 = k_Lv_7 * k_p_7
			invincible_Up_7 = k_Lv_7 * i_p_7 + invincible7
			if kitai_Lv_now_7 >= 100{
				kitai_Lv_now_7 = 100
				keikenti_power_7 == k_Lv_7 * k_p_7
				invincible_Up_7 == k_Lv_7 * i_p_7 + invincible7
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible7+"pt ⇒ "+invincible_Up_7+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_7 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_7+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 8{
		invincible_Up_8 == invincible8
		if kitai_Lv_now_8 <= 0{
			kitai_Lv_now_8 == 1
		}
		kitai_Lv_8 == kitai_Lv_now_8
		keikenti_power_8 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 154,0,0,538,466
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_8 == invincible8
		kitai_Lv_now_8 == kitai_Lv_8
		keikenti_power_8 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_8 -= 1
			if kitai_Lv_now_8 >= kitai_Lv_8{
				k_Lv_8 = kitai_Lv_now_8 - kitai_Lv_8
			}
			keikenti_power_8 = k_Lv_8 * k_p_8
			invincible_Up_8 = k_Lv_8 * i_p_8 + invincible8
			if kitai_Lv_now_8 <= kitai_Lv_8{
				kitai_Lv_now_8 = kitai_Lv_8
				keikenti_power_8 == 0
				invincible_Up_8 == invincible8
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_8 += 1
			if kitai_Lv_now_8 <= 100{
				k_Lv_8 = kitai_Lv_now_8 - kitai_Lv_8
			}
			keikenti_power_8 = k_Lv_8 * k_p_8
			invincible_Up_8 = k_Lv_8 * i_p_8 + invincible8
			if kitai_Lv_now_8 >= 100{
				kitai_Lv_now_8 = 100
				keikenti_power_8 == k_Lv_8 * k_p_8
				invincible_Up_8 == k_Lv_8 * i_p_8 + invincible8
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible8+"pt ⇒ "+invincible_Up_8+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_8 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_8+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 9{
		invincible_Up_9 == invincible9
		if kitai_Lv_now_9 <= 0{
			kitai_Lv_now_9 == 1
		}
		kitai_Lv_9 == kitai_Lv_now_9
		keikenti_power_9 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 156,0,0,538,462
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_9 == invincible9
		kitai_Lv_now_9 == kitai_Lv_9
		keikenti_power_9 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_9 -= 1
			if kitai_Lv_now_9 >= kitai_Lv_9{
				k_Lv_9 = kitai_Lv_now_9 - kitai_Lv_9
			}
			keikenti_power_9 = k_Lv_9 * k_p_9
			invincible_Up_9 = k_Lv_9 * i_p_9 + invincible9
			if kitai_Lv_now_9 <= kitai_Lv_9{
				kitai_Lv_now_9 = kitai_Lv_9
				keikenti_power_9 == 0
				invincible_Up_9 == invincible9
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_9 += 1
			if kitai_Lv_now_9 <= 100{
				k_Lv_9 = kitai_Lv_now_9 - kitai_Lv_9
			}
			keikenti_power_9 = k_Lv_9 * k_p_9
			invincible_Up_9 = k_Lv_9 * i_p_9 + invincible9
			if kitai_Lv_now_9 >= 100{
				kitai_Lv_now_9 = 100
				keikenti_power_9 == k_Lv_9 * k_p_9
				invincible_Up_9 == k_Lv_9 * i_p_9 + invincible9
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible9+"pt ⇒ "+invincible_Up_9+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_9 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_9+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 10{
		invincible_Up_10 == invincible10
		if kitai_Lv_now_10 <= 0{
			kitai_Lv_now_10 == 1
		}
		kitai_Lv_10 == kitai_Lv_now_10
		keikenti_power_10 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 0,150 : gmode 2 : gcopy 155,0,0,538,403
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_10 == invincible10
		kitai_Lv_now_10 == kitai_Lv_10
		keikenti_power_10 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_10 -= 1
			if kitai_Lv_now_10 >= kitai_Lv_10{
				k_Lv_10 = kitai_Lv_now_10 - kitai_Lv_10
			}
			keikenti_power_10 = k_Lv_10 * k_p_10
			invincible_Up_10 = k_Lv_10 * i_p_10 + invincible10
			if kitai_Lv_now_10 <= kitai_Lv_10{
				kitai_Lv_now_10 = kitai_Lv_10
				keikenti_power_10 == 0
				invincible_Up_10 == invincible10
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_10 += 1
			if kitai_Lv_now_10 <= 100{
				k_Lv_10 = kitai_Lv_now_10 - kitai_Lv_10
			}
			keikenti_power_10 = k_Lv_10 * k_p_10
			invincible_Up_10 = k_Lv_10 * i_p_10 + invincible10
			if kitai_Lv_now_10 >= 100{
				kitai_Lv_now_10 = 100
				keikenti_power_10 == k_Lv_10 * k_p_10
				invincible_Up_10 == k_Lv_10 * i_p_10 + invincible10
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible10+"pt ⇒ "+invincible_Up_10+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_10 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_10+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 11{
		invincible_Up_11 == invincible11
		if kitai_Lv_now_11 <= 0{
			kitai_Lv_now_11 == 1
		}
		kitai_Lv_11 == kitai_Lv_now_11
		keikenti_power_11 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 0,150 : gmode 2 : gcopy 157,0,0,538,370
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_11 == invincible11
		kitai_Lv_now_11 == kitai_Lv_11
		keikenti_power_11 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_11 -= 1
			if kitai_Lv_now_11 >= kitai_Lv_11{
				k_Lv_11 = kitai_Lv_now_11 - kitai_Lv_11
			}
			keikenti_power_11 = k_Lv_11 * k_p_11
			invincible_Up_11 = k_Lv_11 * i_p_11 + invincible11
			if kitai_Lv_now_11 <= kitai_Lv_11{
				kitai_Lv_now_11 = kitai_Lv_11
				keikenti_power_11 == 0
				invincible_Up_11 == invincible11
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_11 += 1
			if kitai_Lv_now_11 <= 100{
				k_Lv_11 = kitai_Lv_now_11 - kitai_Lv_11
			}
			keikenti_power_11 = k_Lv_11 * k_p_11
			invincible_Up_11 = k_Lv_11 * i_p_11 + invincible11
			if kitai_Lv_now_11 >= 100{
				kitai_Lv_now_11 = 100
				keikenti_power_11 == k_Lv_11 * k_p_11
				invincible_Up_11 == k_Lv_11 * i_p_11 + invincible11
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible11+"pt ⇒ "+invincible_Up_11+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_11 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_11+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 12{
		invincible_Up_12 == invincible12
		if kitai_Lv_now_12 <= 0{
			kitai_Lv_now_12 == 1
		}
		kitai_Lv_12 == kitai_Lv_now_12
		keikenti_power_12 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 20,150 : gmode 2 : gcopy 158,0,0,538,452
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_12 == invincible12
		kitai_Lv_now_12 == kitai_Lv_12
		keikenti_power_12 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_12 -= 1
			if kitai_Lv_now_12 >= kitai_Lv_12{
				k_Lv_12 = kitai_Lv_now_12 - kitai_Lv_12
			}
			keikenti_power_12 = k_Lv_12 * k_p_12
			invincible_Up_12 = k_Lv_12 * i_p_12 + invincible12
			if kitai_Lv_now_12 <= kitai_Lv_12{
				kitai_Lv_now_12 = kitai_Lv_12
				keikenti_power_12 == 0
				invincible_Up_12 == invincible12
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_12 += 1
			if kitai_Lv_now_12 <= 100{
				k_Lv_12 = kitai_Lv_now_12 - kitai_Lv_12
			}
			keikenti_power_12 = k_Lv_12 * k_p_12
			invincible_Up_12 = k_Lv_12 * i_p_12 + invincible12
			if kitai_Lv_now_12 >= 100{
				kitai_Lv_now_12 = 100
				keikenti_power_12 == k_Lv_12 * k_p_12
				invincible_Up_12 == k_Lv_12 * i_p_12 + invincible12
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible12+"pt ⇒ "+invincible_Up_12+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_12 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_12+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 13{
		invincible_Up_13 == invincible13
		if kitai_Lv_now_13 <= 0{
			kitai_Lv_now_13 == 1
		}
		kitai_Lv_13 == kitai_Lv_now_13
		keikenti_power_13 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 162,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_13 == invincible13
		kitai_Lv_now_13 == kitai_Lv_13
		keikenti_power_13 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_13 -= 1
			if kitai_Lv_now_13 >= kitai_Lv_13{
				k_Lv_13 = kitai_Lv_now_13 - kitai_Lv_13
			}
			keikenti_power_13 = k_Lv_13 * k_p_13
			invincible_Up_13 = k_Lv_13 * i_p_13 + invincible13
			if kitai_Lv_now_13 <= kitai_Lv_13{
				kitai_Lv_now_13 = kitai_Lv_13
				keikenti_power_13 == 0
				invincible_Up_13 == invincible13
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_13 += 1
			if kitai_Lv_now_13 <= 100{
				k_Lv_13 = kitai_Lv_now_13 - kitai_Lv_13
			}
			keikenti_power_13 = k_Lv_13 * k_p_13
			invincible_Up_13 = k_Lv_13 * i_p_13 + invincible13
			if kitai_Lv_now_13 >= 100{
				kitai_Lv_now_13 = 100
				keikenti_power_13 == k_Lv_13 * k_p_13
				invincible_Up_13 == k_Lv_13 * i_p_13 + invincible13
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible13+"pt ⇒ "+invincible_Up_13+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_13 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_13+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 14{
		invincible_Up_14 == invincible14
		if kitai_Lv_now_14 <= 0{
			kitai_Lv_now_14 == 1
		}
		kitai_Lv_14 == kitai_Lv_now_14
		keikenti_power_14 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 163,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_14 == invincible14
		kitai_Lv_now_14 == kitai_Lv_14
		keikenti_power_14 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_14 -= 1
			if kitai_Lv_now_14 >= kitai_Lv_14{
				k_Lv_14 = kitai_Lv_now_14 - kitai_Lv_14
			}
			keikenti_power_14 = k_Lv_14 * k_p_14
			invincible_Up_14 = k_Lv_14 * i_p_14 + invincible14
			if kitai_Lv_now_14 <= kitai_Lv_14{
				kitai_Lv_now_14 = kitai_Lv_14
				keikenti_power_14 == 0
				invincible_Up_14 == invincible14
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_14 += 1
			if kitai_Lv_now_14 <= 100{
				k_Lv_14 = kitai_Lv_now_14 - kitai_Lv_14
			}
			keikenti_power_14 = k_Lv_14 * k_p_14
			invincible_Up_14 = k_Lv_14 * i_p_14 + invincible14
			if kitai_Lv_now_14 >= 100{
				kitai_Lv_now_14 = 100
				keikenti_power_14 == k_Lv_14 * k_p_14
				invincible_Up_14 == k_Lv_14 * i_p_14 + invincible14
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible14+"pt ⇒ "+invincible_Up_14+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_14 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_14+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 15{
		invincible_Up_15 == invincible15
		if kitai_Lv_now_15 <= 0{
			kitai_Lv_now_15 == 1
		}
		kitai_Lv_15 == kitai_Lv_now_15
		keikenti_power_15 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 164,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_15 == invincible15
		kitai_Lv_now_15 == kitai_Lv_15
		keikenti_power_15 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_15 -= 1
			if kitai_Lv_now_15 >= kitai_Lv_15{
				k_Lv_15 = kitai_Lv_now_15 - kitai_Lv_15
			}
			keikenti_power_15 = k_Lv_15 * k_p_15
			invincible_Up_15 = k_Lv_15 * i_p_15 + invincible15
			if kitai_Lv_now_15 <= kitai_Lv_15{
				kitai_Lv_now_15 = kitai_Lv_15
				keikenti_power_15 == 0
				invincible_Up_15 == invincible15
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_15 += 1
			if kitai_Lv_now_15 <= 100{
				k_Lv_15 = kitai_Lv_now_15 - kitai_Lv_15
			}
			keikenti_power_15 = k_Lv_15 * k_p_15
			invincible_Up_15 = k_Lv_15 * i_p_15 + invincible15
			if kitai_Lv_now_15 >= 100{
				kitai_Lv_now_15 = 100
				keikenti_power_15 == k_Lv_15 * k_p_15
				invincible_Up_15 == k_Lv_15 * i_p_15 + invincible15
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible15+"pt ⇒ "+invincible_Up_15+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_15 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_15+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 16{
		invincible_Up_16 == invincible16
		if kitai_Lv_now_16 <= 0{
			kitai_Lv_now_16 == 1
		}
		kitai_Lv_16 == kitai_Lv_now_16
		keikenti_power_16 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 165,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_16 == invincible16
		kitai_Lv_now_16 == kitai_Lv_16
		keikenti_power_16 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_16 -= 1
			if kitai_Lv_now_16 >= kitai_Lv_16{
				k_Lv_16 = kitai_Lv_now_16 - kitai_Lv_16
			}
			keikenti_power_16 = k_Lv_16 * k_p_16
			invincible_Up_16 = k_Lv_16 * i_p_16 + invincible16
			if kitai_Lv_now_16 <= kitai_Lv_16{
				kitai_Lv_now_16 = kitai_Lv_16
				keikenti_power_16 == 0
				invincible_Up_16 == invincible16
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_16 += 1
			if kitai_Lv_now_16 <= 100{
				k_Lv_16 = kitai_Lv_now_16 - kitai_Lv_16
			}
			keikenti_power_16 = k_Lv_16 * k_p_16
			invincible_Up_16 = k_Lv_16 * i_p_16 + invincible16
			if kitai_Lv_now_16 >= 100{
				kitai_Lv_now_16 = 100
				keikenti_power_16 == k_Lv_16 * k_p_16
				invincible_Up_16 == k_Lv_16 * i_p_16 + invincible16
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible8+"pt ⇒ "+invincible_Up_16+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_16 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_16+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 17{
		invincible_Up_17 == invincible17
		if kitai_Lv_now_17 <= 0{
			kitai_Lv_now_17 == 1
		}
		kitai_Lv_17 == kitai_Lv_now_17
		keikenti_power_17 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 0,150 : gmode 2 : gcopy 166,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_17 == invincible17
		kitai_Lv_now_17 == kitai_Lv_17
		keikenti_power_17 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_17 -= 1
			if kitai_Lv_now_17 >= kitai_Lv_17{
				k_Lv_17 = kitai_Lv_now_17 - kitai_Lv_17
			}
			keikenti_power_17 = k_Lv_17 * k_p_17
			invincible_Up_17 = k_Lv_17 * i_p_17 + invincible17
			if kitai_Lv_now_17 <= kitai_Lv_17{
				kitai_Lv_now_17 = kitai_Lv_17
				keikenti_power_17 == 0
				invincible_Up_17 == invincible17
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_17 += 1
			if kitai_Lv_now_17 <= 100{
				k_Lv_17 = kitai_Lv_now_17 - kitai_Lv_17
			}
			keikenti_power_17 = k_Lv_17 * k_p_17
			invincible_Up_17 = k_Lv_17 * i_p_17 + invincible17
			if kitai_Lv_now_17 >= 100{
				kitai_Lv_now_17 = 100
				keikenti_power_17 == k_Lv_17 * k_p_17
				invincible_Up_17 == k_Lv_17 * i_p_17 + invincible17
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible17+"pt ⇒ "+invincible_Up_17+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_17 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_17+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 18{
		invincible_Up_18 == invincible18
		if kitai_Lv_now_18 <= 0{
			kitai_Lv_now_18 == 1
		}
		kitai_Lv_18 == kitai_Lv_now_18
		keikenti_power_18 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 167,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_18 == invincible18
		kitai_Lv_now_18 == kitai_Lv_18
		keikenti_power_18 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_18 -= 1
			if kitai_Lv_now_18 >= kitai_Lv_18{
				k_Lv_18 = kitai_Lv_now_18 - kitai_Lv_18
			}
			keikenti_power_18 = k_Lv_18 * k_p_18
			invincible_Up_18 = k_Lv_18 * i_p_18 + invincible18
			if kitai_Lv_now_18 <= kitai_Lv_18{
				kitai_Lv_now_18 = kitai_Lv_18
				keikenti_power_18 == 0
				invincible_Up_18 == invincible18
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_18 += 1
			if kitai_Lv_now_18 <= 100{
				k_Lv_18 = kitai_Lv_now_18 - kitai_Lv_18
			}
			keikenti_power_18 = k_Lv_18 * k_p_18
			invincible_Up_18 = k_Lv_18 * i_p_18 + invincible18
			if kitai_Lv_now_18 >= 100{
				kitai_Lv_now_18 = 100
				keikenti_power_18 == k_Lv_18 * k_p_18
				invincible_Up_18 == k_Lv_18 * i_p_18 + invincible18
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible18+"pt ⇒ "+invincible_Up_18+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_18 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_18+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 19{
		invincible_Up_19 == invincible19
		if kitai_Lv_now_19 <= 0{
			kitai_Lv_now_19 == 1
		}
		kitai_Lv_19 == kitai_Lv_now_19
		keikenti_power_19 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 110,150 : gmode 2 : gcopy 168,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_19 == invincible19
		kitai_Lv_now_19 == kitai_Lv_19
		keikenti_power_19 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_19 -= 1
			if kitai_Lv_now_19 >= kitai_Lv_19{
				k_Lv_19 = kitai_Lv_now_19 - kitai_Lv_19
			}
			keikenti_power_19 = k_Lv_19 * k_p_19
			invincible_Up_19 = k_Lv_19 * i_p_19 + invincible19
			if kitai_Lv_now_19 <= kitai_Lv_19{
				kitai_Lv_now_19 = kitai_Lv_19
				keikenti_power_19 == 0
				invincible_Up_19 == invincible19
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_19 += 1
			if kitai_Lv_now_19 <= 100{
				k_Lv_19 = kitai_Lv_now_19 - kitai_Lv_19
			}
			keikenti_power_19 = k_Lv_19 * k_p_19
			invincible_Up_19 = k_Lv_19 * i_p_19 + invincible19
			if kitai_Lv_now_19 >= 100{
				kitai_Lv_now_19 = 100
				keikenti_power_19 == k_Lv_19 * k_p_19
				invincible_Up_19 == k_Lv_19 * i_p_19 + invincible19
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible19+"pt ⇒ "+invincible_Up_19+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_19 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_19+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	if ziki_powerUp = 20{
		invincible_Up_20 == invincible20
		if kitai_Lv_now_20 <= 0{
			kitai_Lv_now_20 == 1
		}
		kitai_Lv_20 == kitai_Lv_now_20
		keikenti_power_20 = 0
		cls 4
		pos 0,0 : objsize 625,105 : objimage 146,0,0 : button goto "",*select
		pos 50,150 : gmode 2 : gcopy 169,0,0,538,385
		pos 600,350 : objsize 59,68 : objimage 159,0,0 : button gosub "",*powerUp_left	//左
		pos 950,350 : objsize 59,68 : objimage 160,0,0 : button gosub "",*powerUp_right	//右
		color 255,255,0
		font "",15
		pos 640,450 : mes "←　→キーでも値を変えることができます。"
		pos 600,180
		mes "無敵時の敵一体を倒したときのスコア"
		invincible_Up_20 == invincible20
		kitai_Lv_now_20 == kitai_Lv_20
		keikenti_power_20 = 0
		pos 650,500 : objsize 231,78 : objimage 161,0,0 : button goto "",*Lv_Up	//LvUp
	
		
		repeat
		redraw 0
		color 0,0,0
		boxf 700,350,1000,400
		
		stick Lv_Up_key , 5
		if Lv_Up_key & 1 {	//左
			kitai_Lv_now_20 -= 1
			if kitai_Lv_now_20 >= kitai_Lv_20{
				k_Lv_20 = kitai_Lv_now_20 - kitai_Lv_20
			}
			keikenti_power_20 = k_Lv_20 * k_p_20
			invincible_Up_20 = k_Lv_20 * i_p_20 + invincible20
			if kitai_Lv_now_20 <= kitai_Lv_20{
				kitai_Lv_now_20 = kitai_Lv_20
				keikenti_power_20 == 0
				invincible_Up_20 == invincible20
			}
		}
		if Lv_Up_key & 4 { //右
			kitai_Lv_now_20 += 1
			if kitai_Lv_now_20 <= 100{
				k_Lv_20 = kitai_Lv_now_20 - kitai_Lv_20
			}
			keikenti_power_20 = k_Lv_20 * k_p_20
			invincible_Up_20 = k_Lv_20 * i_p_20 + invincible20
			if kitai_Lv_now_20 >= 100{
				kitai_Lv_now_20 = 100
				keikenti_power_20 == k_Lv_20 * k_p_20
				invincible_Up_20 == k_Lv_20 * i_p_20 + invincible20
			}
		}
		
		
		color 0,0,0
		boxf 600,200,950,250
		pos 610,210
		color 255,255,255
		mes ""+invincible20+"pt ⇒ "+invincible_Up_20+"pt"
		
		pos 700,350
		color 255,255,255
		font "",30
		mes ""+ kitai_Lv_now_20 + "Lv　/　100Lv"
		font "",18
		mes "必要とする経験値　"+keikenti_power_20+" EXP"
		redraw 1
		await 10
		loop
		stop
	}
//------------------------------------------------------------------------------------------------------------------------------------------------------
	stop
	
*powerUp_left
		color 0,0,0
		boxf 700,350,1000,400
		if ziki_powerUp = 1{
			kitai_Lv_now_1 -= 1
			if kitai_Lv_now_1 >= kitai_Lv_1{
				k_Lv_1 = kitai_Lv_now_1 - kitai_Lv_1
			}
			keikenti_power_1 = k_Lv_1 * k_p_1
			invincible_Up_1 = k_Lv_1 * i_p_1 + invincible1
			if kitai_Lv_now_1 <= kitai_Lv_1{
				kitai_Lv_now_1 = kitai_Lv_1
				keikenti_power_1 == 0
				invincible_Up_1 == invincible1
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible1+"pt ⇒ "+invincible_Up_1+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_1 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_1+" EXP"
			return
		}
		if ziki_powerUp = 2{
			kitai_Lv_now_2 -= 1
			if kitai_Lv_now_2 >= kitai_Lv_2{
				k_Lv_2 = kitai_Lv_now_2 - kitai_Lv_2
			}
			keikenti_power_2 = k_Lv_2 * k_p_2
			invincible_Up_2 = k_Lv_2 * i_p_2 + invincible2
			if kitai_Lv_now_2 <= kitai_Lv_2{
				kitai_Lv_now_2 = kitai_Lv_2
				keikenti_power_2 == 0
				invincible_Up_2 == invincible2
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible2+"pt ⇒ "+invincible_Up_2+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_2 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_2+" EXP"
			return
		}
		if ziki_powerUp = 3{
			kitai_Lv_now_3 -= 1
			if kitai_Lv_now_3 >= kitai_Lv_3{
				k_Lv_3 = kitai_Lv_now_3 - kitai_Lv_3
			}
			keikenti_power_3 = k_Lv_3 * k_p_3
			invincible_Up_3 = k_Lv_3 * i_p_3 + invincible3
			if kitai_Lv_now_3 <= kitai_Lv_3{
				kitai_Lv_now_3 = kitai_Lv_3
				keikenti_power_3 == 0
				invincible_Up_3 == invincible3
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible3+"pt ⇒ "+invincible_Up_3+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_3 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_3+" EXP"
			return
		}
		if ziki_powerUp = 4{
			kitai_Lv_now_4 -= 1
			if kitai_Lv_now_4 >= kitai_Lv_4{
				k_Lv_4 = kitai_Lv_now_4 - kitai_Lv_4
			}
			keikenti_power_4 = k_Lv_4 * k_p_4
			invincible_Up_4 = k_Lv_4 * i_p_4 + invincible4
			if kitai_Lv_now_4 <= kitai_Lv_4{
				kitai_Lv_now_4 = kitai_Lv_4
				keikenti_power_4 == 0
				invincible_Up_4 == invincible4
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible4+"pt ⇒ "+invincible_Up_4+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_4 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_4+" EXP"
			return
		}
		if ziki_powerUp = 5{
			kitai_Lv_now_5 -= 1
			if kitai_Lv_now_5 >= kitai_Lv_5{
				k_Lv_5 = kitai_Lv_now_5 - kitai_Lv_5
			}
			keikenti_power_5 = k_Lv_5 * k_p_5
			invincible_Up_5 = k_Lv_5 * i_p_5 + invincible5
			if kitai_Lv_now_5 <= kitai_Lv_5{
				kitai_Lv_now_5 = kitai_Lv_5
				keikenti_power_5 == 0
				invincible_Up_5 == invincible5
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible5+"pt ⇒ "+invincible_Up_5+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_5 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_5+" EXP"
			return
		}
		if ziki_powerUp = 6{
			kitai_Lv_now_6 -= 1
			if kitai_Lv_now_6 >= kitai_Lv_6{
				k_Lv_6 = kitai_Lv_now_6 - kitai_Lv_6
			}
			keikenti_power_6 = k_Lv_6 * k_p_6
			invincible_Up_6 = k_Lv_6 * i_p_6 + invincible6
			if kitai_Lv_now_6 <= kitai_Lv_6{
				kitai_Lv_now_6 = kitai_Lv_6
				keikenti_power_6 == 0
				invincible_Up_6 == invincible6
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible6+"pt ⇒ "+invincible_Up_6+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_6 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_6+" EXP"
			return
		}
		if ziki_powerUp = 7{
			kitai_Lv_now_7 -= 1
			if kitai_Lv_now_7 >= kitai_Lv_7{
				k_Lv_7 = kitai_Lv_now_7 - kitai_Lv_7
			}
			keikenti_power_7 = k_Lv_7 * k_p_7
			invincible_Up_7 = k_Lv_7 * i_p_7 + invincible7
			if kitai_Lv_now_7 <= kitai_Lv_7{
				kitai_Lv_now_7 = kitai_Lv_7
				keikenti_power_7 == 0
				invincible_Up_7 == invincible7
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible7+"pt ⇒ "+invincible_Up_7+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_7 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_7+" EXP"
			return
		}
		if ziki_powerUp = 8{
			kitai_Lv_now_8 -= 1
			if kitai_Lv_now_8 >= kitai_Lv_8{
				k_Lv_8 = kitai_Lv_now_8 - kitai_Lv_8
			}
			keikenti_power_8 = k_Lv_8 * k_p_8
			invincible_Up_8 = k_Lv_8 * i_p_8 + invincible8
			if kitai_Lv_now_8 <= kitai_Lv_8{
				kitai_Lv_now_8 = kitai_Lv_8
				keikenti_power_8 == 0
				invincible_Up_8 == invincible8
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible8+"pt ⇒ "+invincible_Up_8+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_8 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_8+" EXP"
			return
		}
		if ziki_powerUp = 9{
			kitai_Lv_now_9 -= 1
			if kitai_Lv_now_9 >= kitai_Lv_9{
				k_Lv_9 = kitai_Lv_now_9 - kitai_Lv_9
			}
			keikenti_power_9 = k_Lv_9 * k_p_9
			invincible_Up_9 = k_Lv_9 * i_p_9 + invincible9
			if kitai_Lv_now_9 <= kitai_Lv_9{
				kitai_Lv_now_9 = kitai_Lv_9
				keikenti_power_9 == 0
				invincible_Up_9 == invincible9
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible9+"pt ⇒ "+invincible_Up_9+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_9 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_9+" EXP"
			return
		}
		if ziki_powerUp = 10{
			kitai_Lv_now_10 -= 1
			if kitai_Lv_now_10 >= kitai_Lv_10{
				k_Lv_10 = kitai_Lv_now_10 - kitai_Lv_10
			}
			keikenti_power_10 = k_Lv_10 * k_p_10
			invincible_Up_10 = k_Lv_10 * i_p_10 + invincible10
			if kitai_Lv_now_10 <= kitai_Lv_10{
				kitai_Lv_now_10 = kitai_Lv_10
				keikenti_power_10 == 0
				invincible_Up_10 == invincible10
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible10+"pt ⇒ "+invincible_Up_10+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_10 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_10+" EXP"
			return
		}
		if ziki_powerUp = 11{
			kitai_Lv_now_11 -= 1
			if kitai_Lv_now_11 >= kitai_Lv_11{
				k_Lv_11 = kitai_Lv_now_11 - kitai_Lv_11
			}
			keikenti_power_11 = k_Lv_11 * k_p_11
			invincible_Up_11 = k_Lv_11 * i_p_11 + invincible11
			if kitai_Lv_now_11 <= kitai_Lv_11{
				kitai_Lv_now_11 = kitai_Lv_11
				keikenti_power_11 == 0
				invincible_Up_11 == invincible11
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible11+"pt ⇒ "+invincible_Up_11+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_11 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_11+" EXP"
			return
		}
		if ziki_powerUp = 12{
			kitai_Lv_now_12 -= 1
			if kitai_Lv_now_12 >= kitai_Lv_12{
				k_Lv_12 = kitai_Lv_now_12 - kitai_Lv_12
			}
			keikenti_power_12 = k_Lv_12 * k_p_12
			invincible_Up_12 = k_Lv_12 * i_p_12 + invincible12
			if kitai_Lv_now_12 <= kitai_Lv_12{
				kitai_Lv_now_12 = kitai_Lv_12
				keikenti_power_12 == 0
				invincible_Up_12 == invincible12
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible12+"pt ⇒ "+invincible_Up_12+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_12 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_12+" EXP"
			return
		}
		if ziki_powerUp = 13{
			kitai_Lv_now_13 -= 1
			if kitai_Lv_now_13 >= kitai_Lv_13{
				k_Lv_13 = kitai_Lv_now_13 - kitai_Lv_13
			}
			keikenti_power_13 = k_Lv_13 * k_p_13
			invincible_Up_13 = k_Lv_13 * i_p_13 + invincible13
			if kitai_Lv_now_13 <= kitai_Lv_13{
				kitai_Lv_now_13 = kitai_Lv_13
				keikenti_power_13 == 0
				invincible_Up_13 == invincible13
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible13+"pt ⇒ "+invincible_Up_13+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_13 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_13+" EXP"
			return
		}
		if ziki_powerUp = 14{
			kitai_Lv_now_14 -= 1
			if kitai_Lv_now_14 >= kitai_Lv_14{
				k_Lv_14 = kitai_Lv_now_14 - kitai_Lv_14
			}
			keikenti_power_14 = k_Lv_14 * k_p_14
			invincible_Up_14 = k_Lv_14 * i_p_14 + invincible14
			if kitai_Lv_now_14 <= kitai_Lv_14{
				kitai_Lv_now_14 = kitai_Lv_14
				keikenti_power_14 == 0
				invincible_Up_14 == invincible14
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible14+"pt ⇒ "+invincible_Up_14+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_14 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_14+" EXP"
			return
		}
		if ziki_powerUp = 15{
			kitai_Lv_now_15 -= 1
			if kitai_Lv_now_15 >= kitai_Lv_15{
				k_Lv_15 = kitai_Lv_now_15 - kitai_Lv_15
			}
			keikenti_power_15 = k_Lv_15 * k_p_15
			invincible_Up_15 = k_Lv_15 * i_p_15 + invincible15
			if kitai_Lv_now_15 <= kitai_Lv_15{
				kitai_Lv_now_15 = kitai_Lv_15
				keikenti_power_15 == 0
				invincible_Up_15 == invincible15
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible15+"pt ⇒ "+invincible_Up_15+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_15 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_15+" EXP"
			return
		}
		if ziki_powerUp = 16{
			kitai_Lv_now_16 -= 1
			if kitai_Lv_now_16 >= kitai_Lv_16{
				k_Lv_16 = kitai_Lv_now_16 - kitai_Lv_16
			}
			keikenti_power_16 = k_Lv_16 * k_p_16
			invincible_Up_16 = k_Lv_16 * i_p_16 + invincible16
			if kitai_Lv_now_16 <= kitai_Lv_16{
				kitai_Lv_now_16 = kitai_Lv_16
				keikenti_power_16 == 0
				invincible_Up_16 == invincible16
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible16+"pt ⇒ "+invincible_Up_16+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_16 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_16+" EXP"
			return
		}
		if ziki_powerUp = 17{
			kitai_Lv_now_17 -= 1
			if kitai_Lv_now_17 >= kitai_Lv_17{
				k_Lv_17 = kitai_Lv_now_17 - kitai_Lv_17
			}
			keikenti_power_17 = k_Lv_17 * k_p_17
			invincible_Up_17 = k_Lv_17 * i_p_17 + invincible17
			if kitai_Lv_now_17 <= kitai_Lv_17{
				kitai_Lv_now_17 = kitai_Lv_17
				keikenti_power_17 == 0
				invincible_Up_17 == invincible17
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible17+"pt ⇒ "+invincible_Up_17+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_17 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_17+" EXP"
			return
		}
		if ziki_powerUp = 18{
			kitai_Lv_now_18 -= 1
			if kitai_Lv_now_18 >= kitai_Lv_18{
				k_Lv_18 = kitai_Lv_now_18 - kitai_Lv_18
			}
			keikenti_power_18 = k_Lv_18 * k_p_18
			invincible_Up_18 = k_Lv_18 * i_p_18 + invincible18
			if kitai_Lv_now_18 <= kitai_Lv_18{
				kitai_Lv_now_18 = kitai_Lv_18
				keikenti_power_18 == 0
				invincible_Up_18 == invincible18
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible18+"pt ⇒ "+invincible_Up_18+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_18 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_18+" EXP"
			return
		}
		if ziki_powerUp = 19{
			kitai_Lv_now_19 -= 1
			if kitai_Lv_now_19 >= kitai_Lv_19{
				k_Lv_19 = kitai_Lv_now_19 - kitai_Lv_19
			}
			keikenti_power_19 = k_Lv_19 * k_p_19
			invincible_Up_19 = k_Lv_19 * i_p_19 + invincible19
			if kitai_Lv_now_19 <= kitai_Lv_19{
				kitai_Lv_now_19 = kitai_Lv_19
				keikenti_power_19 == 0
				invincible_Up_19 == invincible19
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible19+"pt ⇒ "+invincible_Up_19+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_19 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_19+" EXP"
			return
		}
		if ziki_powerUp = 20{
			kitai_Lv_now_20 -= 1
			if kitai_Lv_now_20 >= kitai_Lv_20{
				k_Lv_20 = kitai_Lv_now_20 - kitai_Lv_20
			}
			keikenti_power_20 = k_Lv_20 * k_p_20
			invincible_Up_20 = k_Lv_20 * i_p_20 + invincible20
			if kitai_Lv_now_20 <= kitai_Lv_20{
				kitai_Lv_now_20 = kitai_Lv_20
				keikenti_power_20 == 0
				invincible_Up_20 == invincible20
			}
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible20+"pt ⇒ "+invincible_Up_20+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_20 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_20+" EXP"
			return
		}
		return
		
*powerUp_right
		color 0,0,0
		boxf 700,350,1000,400
		if ziki_powerUp = 1{
			kitai_Lv_now_1 += 1
			if kitai_Lv_now_1 <= 100{
				k_Lv_1 = kitai_Lv_now_1 - kitai_Lv_1
			}
			keikenti_power_1 = k_Lv_1 * k_p_1
			invincible_Up_1 = k_Lv_1 * i_p_1 + invincible1
			if kitai_Lv_now_1 >= 100{
				kitai_Lv_now_1 = 100
				keikenti_power_1 == k_Lv_1 * k_p_1
				invincible_Up_1 == k_Lv_1 * i_p_1 + invincible1
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible1+"pt ⇒ "+invincible_Up_1+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_1 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_1+" EXP"
			return
		}
		if ziki_powerUp = 2{
			kitai_Lv_now_2 += 1
			if kitai_Lv_now_2 <= 100{
				k_Lv_2 = kitai_Lv_now_2 - kitai_Lv_2
			}
			keikenti_power_2 = k_Lv_2 * k_p_2
			invincible_Up_2 = k_Lv_2 * i_p_2 + invincible2
			if kitai_Lv_now_2 >= 100{
				kitai_Lv_now_2 = 100
				keikenti_power_2 == k_Lv_2 * k_p_2
				invincible_Up_2 == k_Lv_2 * i_p_2 + invincible2
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible2+"pt ⇒ "+invincible_Up_2+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_2 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_2+" EXP"
			return
		}
		if ziki_powerUp = 3{
			kitai_Lv_now_3 += 1
			if kitai_Lv_now_3 <= 100{
				k_Lv_3 = kitai_Lv_now_3 - kitai_Lv_3
			}
			keikenti_power_3 = k_Lv_3 * k_p_3
			invincible_Up_3 = k_Lv_3 * i_p_3 + invincible3
			if kitai_Lv_now_3 >= 100{
				kitai_Lv_now_3 = 100
				keikenti_power_3 == k_Lv_3 * k_p_3
				invincible_Up_3 == k_Lv_3 * i_p_3 + invincible3
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible3+"pt ⇒ "+invincible_Up_3+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_3 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_3+" EXP"
			return
		}
		if ziki_powerUp = 4{
			kitai_Lv_now_4 += 1
			if kitai_Lv_now_4 <= 100{
				k_Lv_4 = kitai_Lv_now_4 - kitai_Lv_4
			}
			keikenti_power_4 = k_Lv_4 * k_p_4
			invincible_Up_4 = k_Lv_4 * i_p_4 + invincible4
			if kitai_Lv_now_4 >= 100{
				kitai_Lv_now_4 = 100
				keikenti_power_4 == k_Lv_4 * k_p_4
				invincible_Up_4 == k_Lv_4 * i_p_4 + invincible4
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible4+"pt ⇒ "+invincible_Up_4+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_4 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_4+" EXP"
			return
		}
		if ziki_powerUp = 5{
			kitai_Lv_now_5 += 1
			if kitai_Lv_now_5 <= 100{
				k_Lv_5 = kitai_Lv_now_5 - kitai_Lv_5
			}
			keikenti_power_5 = k_Lv_5 * k_p_5
			invincible_Up_5 = k_Lv_5 * i_p_5 + invincible5
			if kitai_Lv_now_5 >= 100{
				kitai_Lv_now_5 = 100
				keikenti_power_5 == k_Lv_5 * k_p_5
				invincible_Up_5 == k_Lv_5 * i_p_5 + invincible5
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible5+"pt ⇒ "+invincible_Up_5+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_5 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_5+" EXP"
			return
		}
		if ziki_powerUp = 6{
			kitai_Lv_now_6 += 1
			if kitai_Lv_now_6 <= 100{
				k_Lv_6 = kitai_Lv_now_6 - kitai_Lv_6
			}
			keikenti_power_6 = k_Lv_6 * k_p_6
			invincible_Up_6 = k_Lv_6 * i_p_6 + invincible6
			if kitai_Lv_now_6 >= 100{
				kitai_Lv_now_6 = 100
				keikenti_power_6 == k_Lv_6 * k_p_6
				invincible_Up_6 == k_Lv_6 * i_p_6 + invincible6
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible6+"pt ⇒ "+invincible_Up_6+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_6 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_6+" EXP"
			return
		}
		if ziki_powerUp = 7{
			kitai_Lv_now_7 += 1
			if kitai_Lv_now_7 <= 100{
				k_Lv_7 = kitai_Lv_now_7 - kitai_Lv_7
			}
			keikenti_power_7 = k_Lv_7 * k_p_7
			invincible_Up_7 = k_Lv_7 * i_p_7 + invincible7
			if kitai_Lv_now_7 >= 100{
				kitai_Lv_now_7 = 100
				keikenti_power_7 == k_Lv_7 * k_p_7
				invincible_Up_7 == k_Lv_7 * i_p_7 + invincible7
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible7+"pt ⇒ "+invincible_Up_7+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_7 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_7+" EXP"
			return
		}
		if ziki_powerUp = 8{
			kitai_Lv_now_8 += 1
			if kitai_Lv_now_8 <= 100{
				k_Lv_8 = kitai_Lv_now_8 - kitai_Lv_8
			}
			keikenti_power_8 = k_Lv_8 * k_p_8
			invincible_Up_8 = k_Lv_8 * i_p_8 + invincible8
			if kitai_Lv_now_8 >= 100{
				kitai_Lv_now_8 = 100
				keikenti_power_8 == k_Lv_8 * k_p_8
				invincible_Up_8 == k_Lv_8 * i_p_8 + invincible8
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible8+"pt ⇒ "+invincible_Up_8+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_8 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_8+" EXP"
			return
		}
		if ziki_powerUp = 9{
			kitai_Lv_now_9 += 1
			if kitai_Lv_now_9 <= 100{
				k_Lv_9 = kitai_Lv_now_9 - kitai_Lv_9
			}
			keikenti_power_9 = k_Lv_9 * k_p_9
			invincible_Up_9 = k_Lv_9 * i_p_9 + invincible9
			if kitai_Lv_now_9 >= 100{
				kitai_Lv_now_9 = 100
				keikenti_power_9 == k_Lv_9 * k_p_9
				invincible_Up_9 == k_Lv_9 * i_p_9 + invincible9
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible9+"pt ⇒ "+invincible_Up_9+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_9 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_9+" EXP"
			return
		}
		if ziki_powerUp = 10{
			kitai_Lv_now_10 += 1
			if kitai_Lv_now_10 <= 100{
				k_Lv_10 = kitai_Lv_now_10 - kitai_Lv_10
			}
			keikenti_power_10 = k_Lv_10 * k_p_10
			invincible_Up_10 = k_Lv_10 * i_p_10 + invincible10
			if kitai_Lv_now_10 >= 100{
				kitai_Lv_now_10 = 100
				keikenti_power_10 == k_Lv_10 * k_p_10
				invincible_Up_10 == k_Lv_10 * i_p_10 + invincible10
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible10+"pt ⇒ "+invincible_Up_10+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_10 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_10+" EXP"
			return
		}
		if ziki_powerUp = 11{
			kitai_Lv_now_11 += 1
			if kitai_Lv_now_11 <= 100{
				k_Lv_11 = kitai_Lv_now_11 - kitai_Lv_11
			}
			keikenti_power_11 = k_Lv_11 * k_p_11
			invincible_Up_11 = k_Lv_11 * i_p_11 + invincible11
			if kitai_Lv_now_11 >= 100{
				kitai_Lv_now_11 = 100
				keikenti_power_11 == k_Lv_11 * k_p_11
				invincible_Up_11 == k_Lv_11 * i_p_11 + invincible11
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible11+"pt ⇒ "+invincible_Up_11+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_11 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_11+" EXP"
			return
		}
		if ziki_powerUp = 12{
			kitai_Lv_now_12 += 1
			if kitai_Lv_now_12 <= 100{
				k_Lv_12 = kitai_Lv_now_12 - kitai_Lv_12
			}
			keikenti_power_12 = k_Lv_12 * k_p_12
			invincible_Up_12 = k_Lv_12 * i_p_12 + invincible12
			if kitai_Lv_now_12 >= 100{
				kitai_Lv_now_12 = 100
				keikenti_power_12 == k_Lv_12 * k_p_12
				invincible_Up_12 == k_Lv_12 * i_p_12 + invincible12
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible12+"pt ⇒ "+invincible_Up_12+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_12 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_12+" EXP"
			return
		}
		if ziki_powerUp = 13{
			kitai_Lv_now_13 += 1
			if kitai_Lv_now_13 <= 100{
				k_Lv_13 = kitai_Lv_now_13 - kitai_Lv_13
			}
			keikenti_power_13 = k_Lv_13 * k_p_13
			invincible_Up_13 = k_Lv_13 * i_p_13 + invincible13
			if kitai_Lv_now_13 >= 100{
				kitai_Lv_now_13 = 100
				keikenti_power_13 == k_Lv_13 * k_p_13
				invincible_Up_13 == k_Lv_13 * i_p_13 + invincible13
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible13+"pt ⇒ "+invincible_Up_13+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_13 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_13+" EXP"
			return
		}
		if ziki_powerUp = 14{
			kitai_Lv_now_14 += 1
			if kitai_Lv_now_14 <= 100{
				k_Lv_14 = kitai_Lv_now_14 - kitai_Lv_14
			}
			keikenti_power_14 = k_Lv_14 * k_p_14
			invincible_Up_14 = k_Lv_14 * i_p_14 + invincible14
			if kitai_Lv_now_14 >= 100{
				kitai_Lv_now_14 = 100
				keikenti_power_14 == k_Lv_14 * k_p_14
				invincible_Up_14 == k_Lv_14 * i_p_14 + invincible14
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible14+"pt ⇒ "+invincible_Up_14+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_14 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_14+" EXP"
			return
		}
		if ziki_powerUp = 15{
			kitai_Lv_now_15 += 1
			if kitai_Lv_now_15 <= 100{
				k_Lv_15 = kitai_Lv_now_15 - kitai_Lv_15
			}
			keikenti_power_15 = k_Lv_15 * k_p_15
			invincible_Up_15 = k_Lv_15 * i_p_15 + invincible15
			if kitai_Lv_now_15 >= 100{
				kitai_Lv_now_15 = 100
				keikenti_power_15 == k_Lv_15 * k_p_15
				invincible_Up_15 == k_Lv_15 * i_p_15 + invincible15
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible15+"pt ⇒ "+invincible_Up_15+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_15 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_15+" EXP"
			return
		}
		if ziki_powerUp = 16{
			kitai_Lv_now_16 += 1
			if kitai_Lv_now_16 <= 100{
				k_Lv_16 = kitai_Lv_now_16 - kitai_Lv_16
			}
			keikenti_power_16 = k_Lv_16 * k_p_16
			invincible_Up_16 = k_Lv_16 * i_p_16 + invincible16
			if kitai_Lv_now_16 >= 100{
				kitai_Lv_now_16 = 100
				keikenti_power_16 == k_Lv_16 * k_p_16
				invincible_Up_16 == k_Lv_16 * i_p_16 + invincible16
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible16+"pt ⇒ "+invincible_Up_16+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_16 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_16+" EXP"
			return
		}
		if ziki_powerUp = 17{
			kitai_Lv_now_17 += 1
			if kitai_Lv_now_17 <= 100{
				k_Lv_17 = kitai_Lv_now_17 - kitai_Lv_17
			}
			keikenti_power_17 = k_Lv_17 * k_p_17
			invincible_Up_17 = k_Lv_17 * i_p_17 + invincible17
			if kitai_Lv_now_17 >= 100{
				kitai_Lv_now_17 = 100
				keikenti_power_17 == k_Lv_17 * k_p_17
				invincible_Up_17 == k_Lv_17 * i_p_17 + invincible17
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible17+"pt ⇒ "+invincible_Up_17+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_17 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_17+" EXP"
			return
		}
		if ziki_powerUp = 18{
			kitai_Lv_now_18 += 1
			if kitai_Lv_now_18 <= 100{
				k_Lv_18 = kitai_Lv_now_18 - kitai_Lv_18
			}
			keikenti_power_18 = k_Lv_18 * k_p_18
			invincible_Up_18 = k_Lv_18 * i_p_18 + invincible18
			if kitai_Lv_now_18 >= 100{
				kitai_Lv_now_18 = 100
				keikenti_power_18 == k_Lv_18 * k_p_18
				invincible_Up_18 == k_Lv_18 * i_p_18 + invincible18
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible18+"pt ⇒ "+invincible_Up_18+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_18 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_18+" EXP"
			return
		}
		if ziki_powerUp = 19{
			kitai_Lv_now_19 += 1
			if kitai_Lv_now_19 <= 100{
				k_Lv_19 = kitai_Lv_now_19 - kitai_Lv_19
			}
			keikenti_power_19 = k_Lv_19 * k_p_19
			invincible_Up_19 = k_Lv_19 * i_p_19 + invincible19
			if kitai_Lv_now_19 >= 100{
				kitai_Lv_now_19 = 100
				keikenti_power_19 == k_Lv_19 * k_p_19
				invincible_Up_19 == k_Lv_19 * i_p_19 + invincible19
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible19+"pt ⇒ "+invincible_Up_19+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_19 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_19+" EXP"
			return
		}
		if ziki_powerUp = 20{
			kitai_Lv_now_20 += 1
			if kitai_Lv_now_20 <= 100{
				k_Lv_20 = kitai_Lv_now_20 - kitai_Lv_20
			}
			keikenti_power_20 = k_Lv_20 * k_p_20
			invincible_Up_20 = k_Lv_20 * i_p_20 + invincible20
			if kitai_Lv_now_20 >= 100{
				kitai_Lv_now_20 = 100
				keikenti_power_20 == k_Lv_20 * k_p_20
				invincible_Up_20 == k_Lv_20 * i_p_20 + invincible20
			}
			
			color 0,0,0
			boxf 600,200,950,250
			pos 610,210
			color 255,255,255
			mes ""+invincible20+"pt ⇒ "+invincible_Up_20+"pt"
			
			pos 700,350
			color 255,255,255
			font "",30
			mes ""+ kitai_Lv_now_20 + "Lv　/　100Lv"
			font "",18
			mes "必要とする経験値　"+keikenti_power_20+" EXP"
			return
		}
		return
		
*Lv_Up
	if ziki_powerUp = 1{
		dialog "合成には"+keikenti_power_1+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_1 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_1 == kitai_Lv_1
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_1 > kitai_Lv_1 {
				invincible1 == invincible_Up_1
				kitai_Lv_1 == kitai_Lv_now_1
				keikenti -= keikenti_power_1
				k_Lv_1 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_1 <= kitai_Lv_1 && kitai_Lv_now_1 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_1 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_1 == kitai_Lv_1
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 2{
		dialog "合成には"+keikenti_power_2+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_2 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_2 == kitai_Lv_2
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_2 > kitai_Lv_2 {
				invincible2 == invincible_Up_2
				kitai_Lv_2 == kitai_Lv_now_2
				keikenti -= keikenti_power_2
				k_Lv_2 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_2 <= kitai_Lv_2 && kitai_Lv_now_2 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_2 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_2 == kitai_Lv_2
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 3{
		dialog "合成には"+keikenti_power_3+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_3 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_3 == kitai_Lv_3
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_3 > kitai_Lv_3 {
				invincible3 == invincible_Up_3
				kitai_Lv_3 == kitai_Lv_now_3
				keikenti -= keikenti_power_3
				k_Lv_3 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_3 <= kitai_Lv_3 && kitai_Lv_now_3 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_3 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_3 == kitai_Lv_3
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 4{
		dialog "合成には"+keikenti_power_4+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_4 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_4 == kitai_Lv_4
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_4 > kitai_Lv_4 {
				invincible4 == invincible_Up_4
				kitai_Lv_4 == kitai_Lv_now_4
				keikenti -= keikenti_power_4
				k_Lv_4 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_4 <= kitai_Lv_4 && kitai_Lv_now_4 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_4 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_4 == kitai_Lv_4
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 5{
		dialog "合成には"+keikenti_power_5+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_5 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_5 == kitai_Lv_5
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_5 > kitai_Lv_5 {
				invincible5 == invincible_Up_5
				kitai_Lv_5 == kitai_Lv_now_5
				keikenti -= keikenti_power_5
				k_Lv_5 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_5 <= kitai_Lv_5 && kitai_Lv_now_5 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_5 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_5 == kitai_Lv_5
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 6{
		dialog "合成には"+keikenti_power_6+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_6 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_6 == kitai_Lv_6
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_6 > kitai_Lv_6 {
				invincible6 == invincible_Up_6
				kitai_Lv_6 == kitai_Lv_now_6
				keikenti -= keikenti_power_6
				k_Lv_6 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_6 <= kitai_Lv_6 && kitai_Lv_now_6 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_6 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_6 == kitai_Lv_6
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 7{
		dialog "合成には"+keikenti_power_7+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_7 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_7 == kitai_Lv_7
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_7 > kitai_Lv_7 {
				invincible7 == invincible_Up_7
				kitai_Lv_7 == kitai_Lv_now_7
				keikenti -= keikenti_power_7
				k_Lv_7 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_7 <= kitai_Lv_7 && kitai_Lv_now_7 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_7 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_7 == kitai_Lv_7
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 8{
		dialog "合成には"+keikenti_power_8+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_8 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_8 == kitai_Lv_8
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_8 > kitai_Lv_8 {
				invincible8 == invincible_Up_8
				kitai_Lv_8 == kitai_Lv_now_8
				keikenti -= keikenti_power_8
				k_Lv_8 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_8 <= kitai_Lv_8 && kitai_Lv_now_8 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_8 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_8 == kitai_Lv_8
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 9{
		dialog "合成には"+keikenti_power_9+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_9 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_9 == kitai_Lv_9
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_9 > kitai_Lv_9 {
				invincible9 == invincible_Up_9
				kitai_Lv_9 == kitai_Lv_now_9
				keikenti -= keikenti_power_9
				k_Lv_9 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_9 <= kitai_Lv_9 && kitai_Lv_now_9 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_9 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_9 == kitai_Lv_9
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 10{
		dialog "合成には"+keikenti_power_10+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_10 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_10 == kitai_Lv_10
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_10 > kitai_Lv_10 {
				invincible10 == invincible_Up_10
				kitai_Lv_10 == kitai_Lv_now_10
				keikenti -= keikenti_power_10
				k_Lv_10 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_10 <= kitai_Lv_10 && kitai_Lv_now_10 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_10 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_10 == kitai_Lv_10
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 11{
		dialog "合成には"+keikenti_power_11+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_11 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_11 == kitai_Lv_11
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_11 > kitai_Lv_11 {
				invincible11 == invincible_Up_11
				kitai_Lv_11 == kitai_Lv_now_11
				keikenti -= keikenti_power_11
				k_Lv_11 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_11 <= kitai_Lv_11 && kitai_Lv_now_11 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_11 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_11 == kitai_Lv_11
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 12{
		dialog "合成には"+keikenti_power_12+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_12 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_12 == kitai_Lv_12
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_12 > kitai_Lv_12 {
				invincible12 == invincible_Up_12
				kitai_Lv_12 == kitai_Lv_now_12
				keikenti -= keikenti_power_12
				k_Lv_12 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_12 <= kitai_Lv_12 && kitai_Lv_now_12 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_12 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_12 == kitai_Lv_12
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 13{
		dialog "合成には"+keikenti_power_13+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_13 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_13 == kitai_Lv_13
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_13 > kitai_Lv_13 {
				invincible13 == invincible_Up_13
				kitai_Lv_13 == kitai_Lv_now_13
				keikenti -= keikenti_power_13
				k_Lv_13 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_13 <= kitai_Lv_13 && kitai_Lv_now_13 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_13 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_13 == kitai_Lv_13
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 14{
		dialog "合成には"+keikenti_power_14+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_14 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_14 == kitai_Lv_14
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_14 > kitai_Lv_14 {
				invincible14 == invincible_Up_14
				kitai_Lv_14 == kitai_Lv_now_14
				keikenti -= keikenti_power_14
				k_Lv_14 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_14 <= kitai_Lv_14 && kitai_Lv_now_14 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_14 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_14 == kitai_Lv_14
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 15{
		dialog "合成には"+keikenti_power_15+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_15 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_15 == kitai_Lv_15
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_15 > kitai_Lv_15 {
				invincible15 == invincible_Up_15
				kitai_Lv_15 == kitai_Lv_now_15
				keikenti -= keikenti_power_15
				k_Lv_15 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_15 <= kitai_Lv_15 && kitai_Lv_now_15 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_15 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_15 == kitai_Lv_15
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 16{
		dialog "合成には"+keikenti_power_16+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_16 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_16 == kitai_Lv_16
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_16 > kitai_Lv_16 {
				invincible16 == invincible_Up_16
				kitai_Lv_16 == kitai_Lv_now_16
				keikenti -= keikenti_power_16
				k_Lv_16 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_16 <= kitai_Lv_16 && kitai_Lv_now_16 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_16 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_16 == kitai_Lv_16
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 17{
		dialog "合成には"+keikenti_power_17+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_17 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_17 == kitai_Lv_17
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_17 > kitai_Lv_17 {
				invincible17 == invincible_Up_17
				kitai_Lv_17 == kitai_Lv_now_17
				keikenti -= keikenti_power_17
				k_Lv_17 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_17 <= kitai_Lv_17 && kitai_Lv_now_17 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_17 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_17 == kitai_Lv_17
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 18{
		dialog "合成には"+keikenti_power_18+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_18 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_18 == kitai_Lv_18
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_18 > kitai_Lv_18 {
				invincible18 == invincible_Up_18
				kitai_Lv_18 == kitai_Lv_now_18
				keikenti -= keikenti_power_18
				k_Lv_18 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_18 <= kitai_Lv_18 && kitai_Lv_now_18 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_18 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_18 == kitai_Lv_18
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 19{
		dialog "合成には"+keikenti_power_19+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_19 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_19 == kitai_Lv_19
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_19 > kitai_Lv_19 {
				invincible19 == invincible_Up_19
				kitai_Lv_19 == kitai_Lv_now_19
				keikenti -= keikenti_power_19
				k_Lv_19 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_19 <= kitai_Lv_19 && kitai_Lv_now_19 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_19 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_19 == kitai_Lv_19
			goto *ziki_powerUp_B
		}
		stop
	}
	if ziki_powerUp = 20{
		dialog "合成には"+keikenti_power_20+" EXP消費します。\nよろしいですか？",2,"合成確認"
		if stat = 6{
			if keikenti_power_20 > keikenti {
				dialog "合成に必要なEXPが足りません。",1,"警告"
			}
			if stat = 1{
					kitai_Lv_now_20 == kitai_Lv_20
					goto *ziki_powerUp_B
				}
			if kitai_Lv_now_20 > kitai_Lv_20 {
				invincible20 == invincible_Up_20
				kitai_Lv_20 == kitai_Lv_now_20
				keikenti -= keikenti_power_20
				k_Lv_20 == 0
				cls 4
				dialog "合成が成功しました！",1,"合成確認"
				if stat = 1{
					goto *ziki_powerUp_B
				}
			}
			if kitai_Lv_now_20 <= kitai_Lv_20 && kitai_Lv_now_20 != 100{
				dialog "機体レベルを正しく設定して下さい。",1,"警告"
			}
			if kitai_Lv_now_20 = 100{
				dialog "機体のレベルがＭＡＸです。",1,"警告"
			}
			if stat = 1{
				goto *ziki_powerUp_B
			}
		}else{
			kitai_Lv_now_20 == kitai_Lv_20
			goto *ziki_powerUp_B
		}
		stop
	}
	stop
	
	//ゲームスタート時の初期設定
*Game_Start
	score = 0
	dmmstop
	clrobj
	myship_state = 1
	clear_stage = 0
	extcnt = 0
	if OHS_finish = 1{
		BGM = 0
		haikei = 0
	}
	if sinki = 2{
		chdir path+"\\database\\O-H-S-"+kaiin+"
		kou = str(kou)
		dmmstop -1
		vload_start	"O-H-S-"+kaiin+".sav"
		/*
	vload_get	keikenti
	vload_get	gold
	*/
	vload_get	play
	vload_get	hiscore
	vload_get	noption
	vload_get	BGM
	vload_get	haikei
	vload_get	muteki_cnt
	vload_get	stage_no
	vload_get	interval
	vload_get	gameover_cnt
	vload_get	stage_MAX
	vload_get	anim
	vload_get	mutekiowari
	vload_get	boss		//０：出現してない　1：出現中　2：死亡
	vload_get	block_state
	vload_get	n_myship
	vload_get	extcnt
	vload_get	stage_finish
	vload_get	OHS_finish
	/*
	vload_get	kitai_Lv_1
	vload_get	kitai_Lv_2
	vload_get	kitai_Lv_3
	vload_get	kitai_Lv_4
	vload_get	kitai_Lv_5
	vload_get	kitai_Lv_6
	vload_get	kitai_Lv_7
	vload_get	kitai_Lv_8
	vload_get	kitai_Lv_9
	vload_get	kitai_Lv_10
	vload_get	kitai_Lv_11
	vload_get	kitai_Lv_12
	vload_get	kitai_Lv_13
	vload_get	kitai_Lv_14
	vload_get	kitai_Lv_15
	vload_get	kitai_Lv_16
	vload_get	kitai_Lv_17
	vload_get	kitai_Lv_18
	vload_get	kitai_Lv_19
	vload_get	kitai_Lv_20
	vload_get	invincible1
	vload_get	invincible2
	vload_get	invincible3
	vload_get	invincible4
	vload_get	invincible5
	vload_get	invincible6
	vload_get	invincible7
	vload_get	invincible8
	vload_get	invincible9
	vload_get	invincible10
	vload_get	invincible11
	vload_get	invincible12
	vload_get	invincible13
	vload_get	invincible14
	vload_get	invincible15
	vload_get	invincible16
	vload_get	invincible17
	vload_get	invincible18
	vload_get	invincible19
	vload_get	invincible20
*/
	vload_get	mode_cnt
	vload_end
	if play == 1 | gameover_cnt == 1 | n_myship == 0{ n_myship = 30 : myship_state = 1 : gameover_cnt = 0}
	}
	
	//ゲームスタート時の初期設定(ノーマルクエスト)
	max = 1000
	ss = 800.0
	shot_OK == 0
	s_g == myship_y
	
*Stage_Start
	if haikei >= 20{
		haikei = 0
	}
	if stage_no >= 100{
		stage_no = 100
	}
	animation_stage = 0
	color 0,0,0
	boxf
	chdir path
	boss_clear = 0
	if mode == 1{
		if stage_MAX = 100:goto *gameowari
	}
	color 255, 255, 0
	font "HGS創英角ﾎﾟｯﾌﾟ体",fon4 ,16
	
	text 100
	dmmstop -1
	mmplay 70
	ss = ss
	if mode == 1{
		pos 512, 300
		emes "STAGE " + stage_no
	}
	if mode == 2{
		pos 480, 300
		emes "〜限界突破ステージ〜"
	}
	wait 250
	myship_x = (GWIDTH - 32) / 2
	myship_y = ginfo(21)-130
	shot_f = 0
	
	for i, 0, ENEMAX
		enemy_state(i) = 0
	next
	for i, 0, ESHOTMAX
		eshot_f(i) = 0
	next
	for i, 0, BOSSMAX
		boss(i) = 0
	next
	for i, 0, BSHOTMAX
		bshot_f(i) = 0
	next
	for i, 0, BLOCKMAX
		block_state(i) = 0
	next
	scroll_cnt = 0
	goal_cnt = 4000
	bosssen = 0
	BGM = stage_no
	if BGM = 1 | BGM = 52:dmmload "sound\\ogg\\53.ogg",7 : dmmloop 7 : dmmplay 7
	if BGM = 2 | BGM = 53:dmmload "sound\\ogg\\stageno5.ogg",8 : dmmloop 8 : dmmplay 8
	if BGM = 3 | BGM = 54:dmmload "sound\\ogg\\30.ogg",9 : dmmloop 9 : dmmplay 9
	if BGM = 4 | BGM = 55:dmmload "sound\\ogg\\stage6.ogg",10 : dmmloop 10 :dmmplay 10
	if BGM = 5 | BGM = 56:dmmload "sound\\ogg\\20.ogg",11 : dmmloop 11 :dmmplay 11
	if BGM = 6 | BGM = 57:dmmload "sound\\ogg\\24.ogg",12 : dmmloop 12 :dmmplay 12
	if BGM = 7 | BGM = 58:dmmload "sound\\ogg\\39.ogg",13 : dmmloop 13 :dmmplay 13
	
	if BGM = 8 | BGM = 59:dmmload "sound\\ogg\\stageno8.ogg",18 : dmmloop 18 : dmmplay 18
	if BGM = 9 | BGM = 60:dmmload "sound\\ogg\\23.ogg",19 : dmmloop 19 : dmmplay 19
	if BGM = 10 | BGM = 61:dmmload "sound\\ogg\\14.ogg",20 : dmmloop 20 : dmmplay 20
	if BGM = 11 | BGM = 62:dmmload "sound\\ogg\\bgm-004.ogg",21 : dmmloop 21 : dmmplay 21
	if BGM = 12 | BGM = 63:dmmload "sound\\ogg\\bgm-003.ogg",22 : dmmloop 22 : dmmplay 22
	if BGM = 13 | BGM = 64:dmmload "sound\\ogg\\bgm-002.ogg",23 : dmmloop 23 : dmmplay 23
	if BGM = 14 | BGM = 65:dmmload "sound\\ogg\\bgm-001.ogg",24 : dmmloop 24 : dmmplay 24
	
	if BGM = 15 | BGM = 66:dmmload "sound\\ogg\\bgm-006.ogg",26 : dmmloop 26 : dmmplay 26
	if BGM = 16 | BGM = 67:dmmload "sound\\ogg\\bgm-007.ogg",27 : dmmloop 27 : dmmplay 27
	if BGM = 17 | BGM = 68:dmmload "sound\\ogg\\bgm-008.ogg",28 : dmmloop 28 : dmmplay 28
	if BGM = 18 | BGM = 69:dmmload "sound\\ogg\\bgm-009.ogg",29 : dmmloop 29 : dmmplay 29
	if BGM = 19 | BGM = 70:dmmload "sound\\ogg\\bgm-010.ogg",30 : dmmloop 30 : dmmplay 30
	if BGM = 20 | BGM = 71:dmmload "sound\\ogg\\bgm-011.ogg",31 : dmmloop 31 : dmmplay 31
	if BGM = 21 | BGM = 72:dmmload "sound\\ogg\\bgm-012.ogg",32 : dmmloop 32 : dmmplay 32
	
	if BGM = 22 | BGM = 73:dmmload "sound\\ogg\\stageno3.ogg",33 : dmmloop 33: dmmplay 33
	if BGM = 23 | BGM = 74:dmmload "sound\\ogg\\stageno2.ogg",34 : dmmloop 34: dmmplay 34
	if BGM = 24 | BGM = 75:dmmload "sound\\ogg\\stageno1.ogg",35 : dmmloop 35 : dmmplay 35
	if BGM = 25 | BGM = 76:dmmload "sound\\ogg\\bgm-026.ogg",36 : dmmloop 36: dmmplay 36
	if BGM = 26 | BGM = 77:dmmload "sound\\ogg\\stage9.ogg",37 : dmmloop 37 : dmmplay 37
	if BGM = 27 | BGM = 78:dmmload "sound\\ogg\\stage8.ogg",38 : dmmloop 38 : dmmplay 38
	if BGM = 28 | BGM = 79:dmmload "sound\\ogg\\stage7.ogg",39 : dmmloop 39 : dmmplay 39
	
	if BGM = 29 | BGM = 80:dmmload "sound\\ogg\\bgm-027.ogg",40 : dmmloop 40 : dmmplay 40
	if BGM = 30 | BGM = 81:dmmload "sound\\ogg\\stage4.ogg",41 : dmmloop 41 : dmmplay 41
	if BGM = 31 | BGM = 82:dmmload "sound\\ogg\\stage3.ogg",42 : dmmloop 42 : dmmplay 42
	if BGM = 32 | BGM = 83:dmmload "sound\\ogg\\stage2.ogg",43 : dmmloop 43 : dmmplay 43
	if BGM = 33 | BGM = 84:dmmload "sound\\ogg\\stage1.ogg",44 : dmmloop 44 : dmmplay 44
	if BGM = 34 | BGM = 85:dmmload "sound\\ogg\\70.ogg",45 : dmmloop 45 : dmmplay 45
	if BGM = 35 | BGM = 86:dmmload "sound\\ogg\\58.ogg",46 : dmmloop 46 : dmmplay 46
	
	if BGM = 36 | BGM = 87:dmmload "sound\\ogg\\57.ogg",47 : dmmloop 47 : dmmplay 47
	if BGM = 37 | BGM = 88:dmmload "sound\\ogg\\49.ogg",48 : dmmloop 48 : dmmplay 48
	if BGM = 38 | BGM = 89:dmmload "sound\\ogg\\bgm-025.ogg",49 : dmmloop 49 : dmmplay 49
	if BGM = 39 | BGM = 90:dmmload "sound\\ogg\\bgm-024.ogg",50 : dmmloop 50 : dmmplay 50
	if BGM = 40 | BGM = 91:dmmload "sound\\ogg\\bgm-023.ogg",51 : dmmloop 51 : dmmplay 51
	if BGM = 41 | BGM = 92:dmmload "sound\\ogg\\bgm-022.ogg",52 : dmmloop 52 : dmmplay 52
	if BGM = 42 | BGM = 93:dmmload "sound\\ogg\\bgm-021.ogg",53 : dmmloop 53 : dmmplay 53
	
	if BGM = 43 | BGM = 94:dmmload "sound\\ogg\\bgm-020.ogg",54 : dmmloop 54 : dmmplay 54
	if BGM = 44 | BGM = 95:dmmload "sound\\ogg\\bgm-019.ogg",55 : dmmloop 55 : dmmplay 55
	if BGM = 45 | BGM = 96:dmmload "sound\\ogg\\bgm-018.ogg",56 : dmmloop 56 : dmmplay 56
	if BGM = 46 | BGM = 97:dmmload "sound\\ogg\\bgm-017.ogg",57 : dmmloop 57 : dmmplay 57
	if BGM = 47 | BGM = 98:dmmload "sound\\ogg\\bgm-016.ogg",58 : dmmloop 58 : dmmplay 58
	if BGM = 48 | BGM = 99:dmmload "sound\\ogg\\bgm-015.ogg",59 : dmmloop 59 : dmmplay 59
	if BGM = 49 | BGM = 100:dmmload "sound\\ogg\\bgm-014.ogg",60 : dmmloop 60 : dmmplay 60
	
	if BGM = 50 :dmmload "sound\\ogg\\bgm-013.ogg",61 : dmmloop 61 : dmmplay 61
	if BGM = 51 :dmmload "sound\\ogg\\50.ogg",62 : dmmloop 62 : dmmplay 62

	if haikei = 0:celload "top01.jpg", 8:celdiv 8, 480, 480
	if haikei = 1:celload "top02.jpg", 9:celdiv 9, 480, 480
	if haikei = 2:celload "top03.jpg", 10:celdiv 10, 480, 480
	if haikei = 3:celload "top04.jpg", 11:celdiv 11, 480, 480
	if haikei = 4:celload "top05.jpg", 12:celdiv 12, 480, 480
	if haikei = 5:celload "top06.jpg", 13:celdiv 13, 480, 480
	if haikei = 6:celload "top07.jpg", 14:celdiv 14, 480, 480
	if haikei = 7:celload "top08.jpg", 29:celdiv 29, 480, 480
	if haikei = 8:celload "top09.jpg", 30:celdiv 30, 480, 480
	if haikei = 9:celload "top10.jpg", 31:celdiv 31, 480, 480
	if haikei = 10:celload "top11.jpg", 32:celdiv 32, 480, 480
	if haikei = 11:celload "top12.jpg", 33:celdiv 33, 480, 480
	if haikei = 12:celload "top13.jpg", 34:celdiv 34, 480, 480
	if haikei = 13:celload "top14.jpg", 35:celdiv 35, 480, 480
	if haikei = 14:celload "top15.jpg", 36:celdiv 36, 480, 480
	if haikei = 15:celload "top16.jpg", 37:celdiv 37, 480, 480
	if haikei = 16:celload "top17.jpg", 38:celdiv 38, 480, 480
	if haikei = 17:celload "top18.jpg", 39:celdiv 39, 480, 480
	if haikei = 18:celload "top19.jpg", 40:celdiv 40, 480, 480
	if haikei = 19:celload "top20.jpg", 41:celdiv 41, 480, 480
	
	if ziki_kind = 1{
		level_result = kitai_Lv_1
	}
	if ziki_kind = 2{
		level_result = kitai_Lv_2
	}
	if ziki_kind = 3{
		level_result = kitai_Lv_3
	}
	if ziki_kind = 4{
		level_result = kitai_Lv_4
	}
	if ziki_kind = 5{
		level_result = kitai_Lv_5
	}
	if ziki_kind = 6{
		level_result = kitai_Lv_6
	}
	if ziki_kind = 7{
		level_result = kitai_Lv_7
	}
	if ziki_kind = 8{
		level_result = kitai_Lv_8
	}
	if ziki_kind = 9{
		level_result = kitai_Lv_9
	}
	if ziki_kind = 10{
		level_result = kitai_Lv_10
	}
	if ziki_kind = 11{
		level_result = kitai_Lv_11
	}
	if ziki_kind = 12{
		level_result = kitai_Lv_12
	}
	if ziki_kind = 13{
		level_result = kitai_Lv_13
	}
	if ziki_kind = 14{
		level_result = kitai_Lv_14
	}
	if ziki_kind = 15{
		level_result = kitai_Lv_15
	}
	if ziki_kind = 16{
		level_result = kitai_Lv_16
	}
	if ziki_kind = 17{
		level_result = kitai_Lv_17
	}
	if ziki_kind = 18{
		level_result = kitai_Lv_18
	}
	if ziki_kind = 19{
		level_result = kitai_Lv_19
	}
	if ziki_kind = 20{
		level_result = kitai_Lv_20
	}
	//ステージスタート時の初期設定(限界突破ステージ)
	if mode == 2{
		chdir path
		bosssen2 = 0
		BGM2 = 1
		n_myship == 1
		if BGM2 = 1 : dmmload "sound\\ogg\\83.ogg",66 : dmmloop 66 : dmmplay 66	
		haikei = 20
		if haikei = 20:celload "special.jpg", 142:celdiv 142, 480, 480
	}
	
	//ルーレットの音楽を読み込み
	dmmload "sound\\ogg\\84.ogg",67
	mmload "sound\\wave\\kettei.wav",71

chdir path
	xv = 10	//ボスのX座標の増加量
	yv = 10	//ボスのY座標の増加量
gosub *boss_shori
animation == 0
animation2 == 0
animation_boss = 0
animation_shotgun1 = 0

*Main_Loop
	if ss < max{
		shot_OK = -1
	}
	for i,0,BOSSMAX
		await 14
		boss_x(i) = boss_x(i) + xv
		boss_y(i) = boss_y(i) + xv
	
	if boss_x(i)<=0{
		boss_x(i) = 0
		xv =- xv
	}
	if boss_x(i)>ginfo(20)-240{
		boss_x(i) = ginfo(20)-240
		xv =- xv
	}
	
	if boss_y(i)<= 0{
		boss_y(i) = 0
		yv =- yv
	}
	if boss_y(i)>ginfo(21)/2{
		boss_y(i) = ginfo(21)/2
		yv =- yv
	}
	next
	if ki == 1{
		gosub *Input_Key2
	}
	if ki == 3{
		gosub *Input_Key3
	}
	
	//自機の移動
if ziki_kind = 1{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v1 }
		if rightkey == 1 { myship_x += v1 }
		if upkey == 1 { myship_y -= v1 }
		if downkey == 1 { myship_y += v1 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 48{ myship_y = ginfo(27) - 48 }
	}
}
if ziki_kind = 2{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v2 }
		if rightkey == 1 { myship_x += v2 }
		if upkey == 1 { myship_y -= v2 }
		if downkey == 1 { myship_y += v2 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 48 { myship_y = ginfo(27) - 48 }
	}
}
if ziki_kind = 3{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v3 }
		if rightkey == 1 { myship_x += v3 }
		if upkey == 1 { myship_y -= v3 }
		if downkey == 1 { myship_y += v3 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 48 { myship_y = ginfo(27) - 48 }
	}
}

if ziki_kind = 4{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v4 }
		if rightkey == 1 { myship_x += v4 }
		if upkey == 1 { myship_y -= v4 }
		if downkey == 1 { myship_y += v4 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 73 { myship_y = ginfo(27) - 73 }
	}
}

if ziki_kind = 5{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v5 }
		if rightkey == 1 { myship_x += v5 }
		if upkey == 1 { myship_y -= v5 }
		if downkey == 1 { myship_y += v5 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 73 { myship_y = ginfo(27) - 73 }
	}
}

if ziki_kind = 6{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v6 }
		if rightkey == 1 { myship_x += v6 }
		if upkey == 1 { myship_y -= v6 }
		if downkey == 1 { myship_y += v6 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 73 { myship_y = ginfo(27) - 73 }
	}
}

if ziki_kind = 7{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v7 }
		if rightkey == 1 { myship_x += v7 }
		if upkey == 1 { myship_y -= v7 }
		if downkey == 1 { myship_y += v7 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 73 { myship_y = ginfo(27) - 73 }
	}
}

if ziki_kind = 8{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v8 }
		if rightkey == 1 { myship_x += v8 }
		if upkey == 1 { myship_y -= v8 }
		if downkey == 1 { myship_y += v8 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 73 { myship_y = ginfo(27) - 73 }
	}
}

if ziki_kind = 9{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v9 }
		if rightkey == 1 { myship_x += v9 }
		if upkey == 1 { myship_y -= v9 }
		if downkey == 1 { myship_y += v9 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 40 { myship_y = ginfo(27) - 40 }
	}
}

if ziki_kind = 10{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v10 }
		if rightkey == 1 { myship_x += v10 }
		if upkey == 1 { myship_y -= v10 }
		if downkey == 1 { myship_y += v10 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 108 { myship_y = ginfo(27) - 108 }
	}
}

if ziki_kind = 11{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v11 }
		if rightkey == 1 { myship_x += v11 }
		if upkey == 1 { myship_y -= v11 }
		if downkey == 1 { myship_y += v11 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 23 { myship_y = ginfo(27) - 23 }
	}
}

if ziki_kind = 12{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v12 }
		if rightkey == 1 { myship_x += v12 }
		if upkey == 1 { myship_y -= v12 }
		if downkey == 1 { myship_y += v12 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 50 { myship_x = ginfo(26) - 50 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 102 { myship_y = ginfo(27) - 102 }
	}
}

if ziki_kind = 13{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v13 }
		if rightkey == 1 { myship_x += v13 }
		if upkey == 1 { myship_y -= v13 }
		if downkey == 1 { myship_y += v13 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 137 { myship_x = ginfo(26) - 137 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 14{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v14 }
		if rightkey == 1 { myship_x += v14 }
		if upkey == 1 { myship_y -= v14 }
		if downkey == 1 { myship_y += v14 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 169 { myship_x = ginfo(26) - 169 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 15{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v15 }
		if rightkey == 1 { myship_x += v15 }
		if upkey == 1 { myship_y -= v15 }
		if downkey == 1 { myship_y += v15 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 52 { myship_x = ginfo(26) - 52 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 16{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v16 }
		if rightkey == 1 { myship_x += v16 }
		if upkey == 1 { myship_y -= v16 }
		if downkey == 1 { myship_y += v16 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 74 { myship_x = ginfo(26) - 74 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 17{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v17 }
		if rightkey == 1 { myship_x += v17 }
		if upkey == 1 { myship_y -= v17 }
		if downkey == 1 { myship_y += v17 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 51 { myship_x = ginfo(26) - 51 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 18{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v18 }
		if rightkey == 1 { myship_x += v18 }
		if upkey == 1 { myship_y -= v18 }
		if downkey == 1 { myship_y += v18 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 83 { myship_x = ginfo(26) - 83 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 19{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v19 }
		if rightkey == 1 { myship_x += v19 }
		if upkey == 1 { myship_y -= v19 }
		if downkey == 1 { myship_y += v19 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 76 { myship_x = ginfo(26) - 76 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}

if ziki_kind = 20{
	if myship_state != 2 {
		if leftkey == 1 { myship_x -= v20 }
		if rightkey == 1 { myship_x += v20 }
		if upkey == 1 { myship_y -= v20 }
		if downkey == 1 { myship_y += v20 }
		if myship_x < 0 { myship_x = 0 }
		if myship_x > ginfo(26) - 40 { myship_x = ginfo(26) - 40 }
		if myship_y < 0 { myship_y = 0 }
		if myship_y > ginfo(27) - 50 { myship_y = ginfo(27) - 50 }
	}
}
	
	//自機の弾の移動1,2
	if ziki_kind = 1 | ziki_kind = 2 {
		if shot_f == 1 {
			shot_y -= vs1
			if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
		}
		if shot_ff == 1 {
			shot_yy += vs1
			if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
		}
	}
	//自機の弾の移動3
	if ziki_kind = 3{
		if shot_f == 1 {
		shot_y -= vs3	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
		}
		if shot_ff == 1 {
			shot_yy += vs3
			if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
		}
	}

	//自機の弾の移動4
	if ziki_kind = 4{
		if shot_f == 1 {
		shot_y -= vs4	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs4
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}
	//自機の弾の移動5
	if ziki_kind = 5{
		if shot_f == 1 {
		shot_y -= vs5	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs5
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動6
	if ziki_kind = 6{
		if shot_f == 1 {
		shot_y -= vs6	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs6
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動7
	if ziki_kind = 7{
		if shot_f == 1 {
		shot_y -= vs7	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs7
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動8
	if ziki_kind = 8{
		if shot_f == 1 {
		shot_y -= vs8	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs8
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動9
	if ziki_kind = 9{
		if shot_f == 1 {
		shot_y -= vs9	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs9
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動10
	if ziki_kind = 10{
		if shot_f == 1 {
		shot_y -= vs10	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs10
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動11
	if ziki_kind = 11{
		if shot_f == 1 {
		shot_y -= vs11	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs11
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

	//自機の弾の移動12
	if ziki_kind = 12{
		if shot_f == 1 {
			shot_y -= vs12	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs12
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動13
	if ziki_kind = 13{
		if shot_f == 1 {
			shot_y -= vs13	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs13
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動14
	if ziki_kind = 14{
		if shot_f == 1 {
			shot_y -= vs14	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs14
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動15
	if ziki_kind = 15{
		if shot_f == 1 {
			shot_y -= vs15	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs15
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動16
	if ziki_kind = 16{
		if shot_f == 1 {
			shot_y -= vs16	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs16
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動17
	if ziki_kind = 17{
		if shot_f == 1 {
			shot_y -= vs17	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs17
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動18
	if ziki_kind = 18{
		if shot_f == 1 {
			shot_y -= vs18	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs18
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動19
	if ziki_kind = 19{
		if shot_f == 1 {
			shot_y -= vs19	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs19
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}

//自機の弾の移動20
	if ziki_kind = 20{
		if shot_f == 1 {
			shot_y -= vs20	//弾のスピード
		if shot_y <= 0 { shot_f = 0 & shot_ff = 0 }
	}
		if shot_ff == 1 {
		shot_yy += vs20
		if shot_yy >= 600 { shot_ff = 0 & shot_f = 0 }
	}
}
	//自機の弾の射出
	if ziki_kind = 1 | ziki_kind = 2 | ziki_kind = 6 | ziki_kind = 13 | ziki_kind = 15{
		if myship_state != 2 & zkey == 1 & shot_f == 0 {	//画面内に１発のみ
			dmmplay 0
			shot_f = 1
			shot_x = myship_x
			shot_y = myship_y - 53
		}
		if myship_state != 2 & per_shot == 0 & down_shot == 1 & shot_ff == 0 {	//画面内に１発のみ
			dmmplay 0
			shot_ff = 1
			shot_xx = myship_x
			shot_yy = myship_y - 53
		}
	}


	if ziki_kind = 3 | ziki_kind = 5 | ziki_kind = 7 | ziki_kind = 9 | ziki_kind = 10 | ziki_kind = 11 | ziki_kind = 14 | ziki_kind = 18 | ziki_kind = 19{
		if myship_state != 2 & zkey == 1 & shot_f == 0 {	//連射可能
		dmmplay 0
		shot_f = 1
		shot_x = myship_x
		shot_y = myship_y - 53
	}
	if myship_state != 2 & down_shot == 1 & shot_ff == 0 {	//連射可能
		dmmplay 0
		shot_ff = 1
		shot_xx = myship_x
		shot_yy = myship_y - 53
	}
}

if ziki_kind = 4 | ziki_kind = 8 | ziki_kind = 12 | ziki_kind = 16 | ziki_kind = 17 | ziki_kind = 20{
		if myship_state != 2  & shot_f == 0 {	//オート連射
		dmmplay 0
		shot_f = 1
		shot_x = myship_x
		shot_y = myship_y - 53
	}
	if myship_state != 2 & down_shot == 1 & shot_ff == 0 {	//連射可能
		dmmplay 0
		shot_ff = 1
		shot_xx = myship_x
		shot_yy = myship_y - 53
	}
}

	//敵の移動
	for i, 0, ENEMAX
		if enemy_state(i) == 1 {
			enemy_x(i) += enemy_dx(i)
			enemy_y(i) += enemy_dy(i)
			switch enemy_kind(i)
			case 0: //まっすぐ降りる敵
				switch enemy_phase(i)
				case 0:
					if enemy_y(i) == GHEIGHT - 60{
						enemy_phase(i) = 1
						if enemy_x(i) >= myship_x {
							enemy_dx(i) = -2
						} else {
							enemy_dx(i) = 2
						}
						enemy_dy(i) = -2
					}
					swbreak
				case 1://下から現れる敵
					if enemy_x(i) <= -32 | enemy_x(i) >= GWIDTH { enemy_state(i) = 0 }
					swbreak
				swend
				swbreak
			case 1:
				if enemy_x(i) <= -32 | enemy_x(i) >= GWIDTH { enemy_state(i) = 0 }
				swbreak
			case 2://横から現れる敵
				if enemy_dx(i) == -3 & enemy_x(i) <= -32 { enemy_state(i) = 0 }
				if enemy_dx(i) == 3 & enemy_x(i) >= GWIDTH { enemy_state(i) = 0 }
				swbreak
			swend
			enemy_cnt(i)++
		}
	next
	

	
	
				
	//敵の出現
	if scroll_cnt \ interval == 0 {
		for n, 0, ENEMAX
			if enemy_state(n) == 0 { _break } 
		next
		if n != ENEMAX {
			enemy_kind(n) = rnd(3)
			enemy_state(n) = 1
			enemy_cnt(n) = 0
			switch enemy_kind(n)
			case 0://まっすぐ降りる敵
				enemy_phase(n) = 0
				enemy_x(n) = rnd(GWIDTH - 32 + 1)
				enemy_y(n) = 0
				enemy_dx(n) = 0
				enemy_dy(n) = 2
				swbreak
			case 1://下から現れる敵
				enemy_x(n) = rnd(GWIDTH - 32 + 1)
				enemy_y(n) = GHEIGHT
				if enemy_x(n) + 16 >= GWIDTH / 2 {
					enemy_dx(n) = -2
				} else {
					enemy_dx(n) = 2
				}
				enemy_dy(n) = -1
				swbreak
			case 2://横から現れる敵
				if rnd(2) == 0 {
					enemy_x(n) = -32
				} else {
					enemy_x(n) = GWIDTH
				}
				enemy_y(n) = rnd(GHEIGHT / 2 + 1)
				if enemy_x(n) == -32 {
					enemy_dx(n) = 3
				} else {
					enemy_dx(n) = -3
				}
				enemy_dy(n) = 1
				swbreak
			swend
		}
	}
	
	
	//ボスの出現(ノーマルクエスト)
	if stage_no \ 5 = 0 & bosssen = 1000{// | stage_no = 14 | stage_no = 21 | stage_no = 28 | stage_no = 35 | stage_no = 42 | stage_no = 49 | stage_no = 56 | stage_no = 63 | stage_no = 70 | stage_no = 77 | stage_no = 84 | stage_no = 91 | stage_no = 100 & bosssen = 1000{
		dmmstop -1
		dmmloop 5
		dmmplay 5
	}
	for i, 0, BOSSMAX
	if stage_no = 5 | stage_no = 30 | stage_no = 55 | stage_no = 80 & bosssen = 1500 & boss(i) = 0{
		pos boss_x(i),boss_y(i)
		dmmload "sound\\ogg\\boss.ogg",17
		dmmloop 17
		dmmplay 17
		boss(i) = 1
		bossHP = stage_no*500
		enemy_state(i) = 0
		dmmstop 5
	}
	next
	
	for i, 0, BOSSMAX
	if stage_no = 10 | stage_no = 35 | stage_no = 60 | stage_no = 85 & bosssen = 1500 & boss(i) = 0 {
		dmmload "sound\\ogg\\66.ogg",25
		dmmloop 25
		dmmplay 25
		boss(i) = 1
		bossHP = stage_no*500
		enemy_state(i) = 0
		dmmstop 5
	}
	next
	
	for i, 0, BOSSMAX
	if stage_no = 15 | stage_no = 40 | stage_no = 65 | stage_no = 90 & bosssen = 1500 & boss(i) = 0{
		dmmload "sound\\ogg\\11.ogg",63
		dmmloop 63
		dmmplay 63
		boss(i) = 1
		bossHP = stage_no*500
		enemy_state(i) = 0
		dmmstop 5
	}
	next
	
	for i, 0, BOSSMAX
	if stage_no = 20 | stage_no = 45 | stage_no = 70 | stage_no = 95 & bosssen = 1500 & boss(i) = 0{
		dmmload "sound\\ogg\\60.ogg",64
		dmmloop 64
		dmmplay 64
		boss(i) = 1
		bossHP = stage_no*500
		enemy_state(i) = 0
		dmmstop 5
	}
	next
	
	for i, 0, BOSSMAX
 	if stage_no = 25 | stage_no = 50 | stage_no = 75 | stage_no = 100 & bosssen = 1500 & boss(i) = 0{
		dmmload "sound\\ogg\\67.ogg",65
		dmmloop 65
		dmmplay 65
		boss(i) = 1
		bossHP = stage_no*500
		enemy_state(i) = 0
		dmmstop 5
	}
	next
	
	//ボスの出現(限界突破ステージ)
	for i, 0, BOSSMAX
	if mode == 2 & bosssen2 == 3000 & scroll_cnt != 0 & boss(i) = 0 {
		dmmstop -1
		dmmloop 5
		dmmplay 5
	}
	next
	for i, 0, BOSSMAX
	if mode == 2 & bosssen2 = 3500 & boss(i) = 0{
		dmmload "sound\\ogg\\82.ogg",17
		dmmloop 17
		dmmplay 17
		pos boss_x(i),boss_y(i)
		boss(i) = 1
		bossHP = 10000
		enemy_state(i) = 0
		dmmstop 5
	}
	next
	
	for i, 0, BOSSMAX
	if boss(i) = 1{enemy_state(i) = 0}
	next
	
	
	//敵の弾の移動
	for i, 0, ESHOTMAX
		if eshot_f(i) == 1 {
			eshot_x(i) += eshot_dx(i)
			eshot_y(i) += eshot_dy(i)
			if eshot_x(i) <= -16 | eshot_x(i) >= GWIDTH | eshot_y(i) <= -16 | eshot_y(i) >= GHEIGHT { eshot_f(i) = 0 }
		}
	next
	
	//ボスの弾の移動
	for i, 0, BSHOTMAX
		if bshot_f(i) == 1 {
			bshot_x(i) += bshot_dx(i)
			bshot_y(i) += bshot_dy(i)
			if bshot_x(i) <= -16 | bshot_x(i) >= GWIDTH | bshot_y(i) <= -16 | bshot_y(i) >= GHEIGHT { bshot_f(i) = 0 }
		}
	next
	
	//敵の弾の射出
	for i, 0, ENEMAX
		if enemy_state(i) == 1 & enemy_x(i) >= 0 & enemy_x(i) <= GWIDTH -32 & enemy_y(i) >= 0 & enemy_y(i) <= GHEIGHT - 32 & enemy_cnt(i) \ 64 == 0 {
			for n, 0, ESHOTMAX
				if eshot_f(n) == 0 { _break }
			next
			if n != ESHOTMAX {
				eshot_f(n) = 1
				eshot_x(n) = enemy_x(i) + 8
				eshot_y(n) = enemy_y(i) + 8
				switch enemy_kind(i)
				case 0:
					eshot_dx(n) = 0
					eshot_dy(n) = 6
					swbreak
				case 1:
					eshot_dx(n) = 0
					eshot_dy(n) = -6
					swbreak
				case 2:
					if enemy_dx(i) == -3 {
						eshot_dx(n) = -6
					} else {
						eshot_dx(n) = 6
					}
					eshot_dy(n) = 0
					swbreak
				swend
			}
		}
	next
	

	//ボスの弾の射出
	for i, 0, BOSSMAX
		if boss(i) == 1 & boss_x(i) >= 0 & boss_x(i) <= GWIDTH -0 & boss_y(i) >= 0 & boss_y(i) <= GHEIGHT - 50 & boss_cnt(i) \ 64 == 0 {
			for n, 0, BSHOTMAX
				if bshot_f(n) == 0 { _break }
			next

				if n != BSHOTMAX {
					bshot_f(n) = 1
					bshot_x(n) = boss_x(i) + 15
					bshot_y(n) = boss_y(i) + 15
					
					bshot_dx(n) = 0
					bshot_dy(n) = 4
					}

				}

	next

	
	//敵が爆発中の処理
	for i, 0, ENEMAX
		if enemy_state(i) == 2 {
			eneexplode_cnt(i)++
			if eneexplode_cnt(i) == 32 { enemy_state(i) = 0 }
		}
	next
	//ボスが爆発中の処理
	for i, 0, BOSSMAX
		if boss(i) == 2 {
			bossexplode_cnt(i)++
			if bossexplode_cnt(i) == 16 { boss(i) = 0 : boss_clear = 1}
		}
	next
	
	//ボスが爆発中の処理(限界突破ステージ)
	for i, 0, BOSSMAX
		if mode == 2 & boss(i) == 2 {
			bossexplode_cnt(i)++
			dmmstop 17
			dmmloop 66
			dmmplay 66
			if bossexplode_cnt(i) == 16 { boss(i) = 0 : boss_clear = 1 : bosssen2 == 0 }
		}
	next
	//敵と自機の弾の当たり判定(前方ショット)
	if shot_f == 1 {
		keikenti_rnd =rnd(1000)
		gold_rnd = rnd(1000)
		for i, 0, ENEMAX
		if ziki_kind = 1 | ziki_kind = 2 | ziki_kind = 3 {
			shot_front_hit_x = 50 : shot_front_hit_y = 48
		}
		if ziki_kind = 4 | ziki_kind = 5 | ziki_kind = 6 | ziki_kind = 7 | ziki_kind = 8 {
			shot_front_hit_x = 50 : shot_front_hit_y = 73
		}
		if ziki_kind = 9 {
			shot_front_hit_x = 50 : shot_front_hit_y = 40
		}
		if ziki_kind = 10 {
			shot_front_hit_x = 50 : shot_front_hit_y = 108
		}
		if ziki_kind = 11 {
			shot_front_hit_x = 50 : shot_front_hit_y = 23
		}
		if ziki_kind = 12 {
			shot_front_hit_x = 50 : shot_front_hit_y = 102
		}
		if ziki_kind = 13 {
			shot_front_hit_x = 137 : shot_front_hit_y = 50
		}
		if ziki_kind = 14 {
			shot_front_hit_x = 169 : shot_front_hit_y = 50
		}
		if ziki_kind = 15 {
			shot_front_hit_x = 52 : shot_front_hit_y = 50
		}
		if ziki_kind = 16 {
			shot_front_hit_x = 74 : shot_front_hit_y = 50
		}
		if ziki_kind = 17 {
			shot_front_hit_x = 51 : shot_front_hit_y = 50
		}
		if ziki_kind = 18 {
			shot_front_hit_x = 83 : shot_front_hit_y = 50
		}
		if ziki_kind = 19 {
			shot_front_hit_x = 76 : shot_front_hit_y = 50
		}
		if ziki_kind = 20 {
			shot_front_hit_x = 40 : shot_front_hit_y = 50
		}
			if enemy_state(i) == 1 & shot_x + shot_front_hit_x >= enemy_x(i) & shot_x <= enemy_x(i) + shot_front_hit_x & shot_y + shot_front_hit_y >= enemy_y(i) & shot_y <= enemy_y(i) + shot_front_hit_y {
				dmmplay 1
				enemy_state(i) = 2
				eneexplode_cnt(i) = 0
				shot_f = 0
				shot_OK = 0
				if myship_state == 1 | myship_state == 3{
					if score < 2147483647{
						score += 100
					}
					if score >= 2147483647{
						score = "2147483647 ++"
					}
					keikenti += keikenti_rnd
					gold += gold_rnd
				}
				if ziki_kind = 1{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible1
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 2{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible2
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 3{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible3
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 4{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible4
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 5{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible5
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 6{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible6
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 7{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible7
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 8{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible8
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 9{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible9
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 10{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible10
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 11{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible11
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 12{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible12
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 13{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible13
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 14{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible14
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 15{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible15
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 16{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible16
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 17{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible17
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 18{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible18
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 19{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible19
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 20{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible20
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				muteki_cnt += 1
				mutekiowari -= 1
				dg + 10
				if dg = 10{
					dg = 0
				}
				if score > hiscore { hiscore = score }
			}
		next
	}
	
		//敵と自機の弾の当たり判定(後方ショット)
	if shot_ff == 1 {
		keikenti_rnd =rnd(5000)
		gold_rnd = rnd(5000)
		for i, 0, ENEMAX
		if ziki_kind = 1 | ziki_kind = 2 | ziki_kind = 3 {
			shot_back_hit_x = 50 : shot_back_hit_y = 48
		}
		if ziki_kind = 4 | ziki_kind = 5 | ziki_kind = 6 | ziki_kind = 7 | ziki_kind = 8 {
			shot_back_hit_x = 50 : shot_back_hit_y = 73
		}
		if ziki_kind = 9 {
			shot_back_hit_x = 50 : shot_back_hit_y = 40
		}
		if ziki_kind = 10 {
			shot_back_hit_x = 50 : shot_back_hit_y = 108
		}
		if ziki_kind = 11 {
			shot_back_hit_x = 50 : shot_back_hit_y = 23
		}
		if ziki_kind = 12 {
			shot_back_hit_x = 50 : shot_back_hit_y = 102
		}
		if ziki_kind = 13 {
			shot_back_hit_x = 137 : shot_back_hit_y = 50
		}
		if ziki_kind = 14 {
			shot_back_hit_x = 169 : shot_back_hit_y = 50
		}
		if ziki_kind = 15 {
			shot_back_hit_x = 52 : shot_back_hit_y = 50
		}
		if ziki_kind = 16 {
			shot_back_hit_x = 74 : shot_back_hit_y = 50
		}
		if ziki_kind = 17 {
			shot_back_hit_x = 51 : shot_back_hit_y = 50
		}
		if ziki_kind = 18 {
			shot_back_hit_x = 83 : shot_back_hit_y = 50
		}
		if ziki_kind = 19 {
			shot_back_hit_x = 76 : shot_back_hit_y = 50
		}
		if ziki_kind = 20 {
			shot_back_hit_x = 40 : shot_back_hit_y = 50
		}
			if enemy_state(i) == 1 & shot_xx + shot_back_hit_x >= enemy_x(i) & shot_xx <= enemy_x(i) + shot_back_hit_x & shot_yy + shot_back_hit_y >= enemy_y(i) & shot_yy <= enemy_y(i) + shot_back_hit_y {
				dmmplay 1
				enemy_state(i) = 2
				eneexplode_cnt(i) = 0
				shot_ff = 0
				shot_OK = 0
				if myship_state == 1 | myship_state == 3{
					if score < 2147483647{
						score += 200
					}
					if score >= 2147483647{
						score = "2147483647 ++"
					}
					keikenti += keikenti_rnd
					gold += gold_rnd
				}
				if ziki_kind = 1{
					if muteki_cnt >= 15{
						if score < 2147483647{
						score += invincible1
					}
					if score >= 2147483647{
						score = "2147483647 ++"
					}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 2{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible2
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 3{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible3
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 4{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible4
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 5{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible5
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 6{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible6
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 7{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible7
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 8{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible8
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 9{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible9
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 10{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible10
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 11{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible11
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 12{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible12
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 13{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible13
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 14{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible14
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 15{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible15
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 16{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible16
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 17{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible17
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 18{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible18
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 19{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible19
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				if ziki_kind = 20{
					if muteki_cnt >= 15{
						if score < 2147483647{
							score += invincible20
						}
						if score >= 2147483647{
							score = "2147483647 ++"
						}
						keikenti += keikenti_rnd
						gold += gold_rnd
					}
				}
				muteki_cnt += 1
				mutekiowari -= 1
				dg + 10
				if dg = 10{
					dg = 0
				}
				if score > hiscore { hiscore = score }
			}
		next
	}
	//ボスと自機の弾の当たり判定
	if shot_f == 1 {
		for i, 0, BOSSMAX
			if boss(i) == 1 & shot_x + 50 >= boss_x(i) & shot_x <= boss_x(i) + 171 & shot_y + 480 >= boss_y(i) & shot_y <= boss_y(i) + 250 {  //ボスに自機のショットが当たる範囲
				bossHP = bossHP - 50
				shot_OK = 0
				if score < 2147483647{
					score += 10
				}
				if score >= 2147483647{
					score = "2147483647 ++"
				}
				keikenti += keikenti_rnd
				gold += gold_rnd
				muteki_cnt += 1
				mutekiowari -= 1
				if score > hiscore { hiscore = score }
	if bossHP <= 0 : boss = 2{
		dmmplay 1
		boss(i) = 2
		bossexplode_cnt(i) = 0
		bshot_f = 0
		if score < 2147483647{
			score += 10000
		}
		if score >= 2147483647{
			score = "2147483647 ++"
		}
		keikenti += keikenti_rnd
		gold += gold_rnd
		muteki_cnt += 1
		mutekiowari -= 1
		dg + 10
		if score > hiscore { hiscore = score }
			if dg = 10{
				dg = 0
					}
				}
			}
		next
	}
	
		//ボスと自機の弾の当たり判定
	if shot_ff == 1 {
		for i, 0, BOSSMAX
			if boss(i) == 1 & shot_xx + 50 >= boss_x(i) & shot_xx <= boss_x(i) + 171 & shot_yy + 480 >= boss_y(i) & shot_yy <= boss_y(i) + 250 {  //ボスに自機のショットが当たる範囲
				bossHP = bossHP - 50
				shot_OK = 0
				if score < 2147483647{
					score += 10
				}
				if score >= 2147483647{
					score = "2147483647 ++"
				}
				keikenti += keikenti_rnd
				gold += gold_rnd
				muteki_cnt += 1
				mutekiowari -= 1
				if score > hiscore { hiscore = score }
	if bossHP <= 0 : boss = 2{
		dmmplay 1
		boss(i) = 2
		bossexplode_cnt(i) = 0
		bshot_f = 0
		if score < 2147483647{
			score += 10000
		}
		if score >= 2147483647{
			score = "2147483647 ++"
		}
		keikenti += keikenti_rnd
		gold += gold_rnd
		muteki_cnt += 1
		mutekiowari -= 1
		dg + 10
		if score > hiscore { hiscore = score }
			if dg = 10{
				dg = 0
					}
				}
			}
		next
	}

	//自機が復活中の処理
	if myship_state == 3 {
		myrevival_cnt++
		if myrevival_cnt == 200 { myship_state = 1 }
	}
	//自機が爆発中の処理
	if myship_state == 2 {
		myexplode_cnt++
		if myexplode_cnt == 100 {
			n_myship--
			if n_myship > 0 {
				myship_state = 3
				myrevival_cnt = 0
				myship_x = (GWIDTH - 32) / 2
				myship_y = GHEIGHT - 64
			} else {
				//GAME OVER処理
				cls 4
				dmmstop -1
				if mode == 1 {
					n_myship_cnt == n_myship
					gscore == (n_myship * 1000) + (clear_stage * 500) + score
				}
				if mode == 2 {
					gscore2 == (scroll_cnt * 100) + score
				}
				color 255, 255, 0
				font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
				pos 510,340
				mes "GAME OVER"
				extcnt == 0
				n_myship == 30
				shot_OK = 0
				
				exec "RunDll32.exe InetCpl.cpl,ClearMyTracksByProcess 8"
	
				neturl "http://expresshr99.html.xdomain.jp/ohsranking/"
				netload FILE
				netload FILE2
				/*
				netinit
				if stat : dialog "ネット接続できません。" : end
				
				ftpopen adr,user,pass
				if stat != 0 : dialog "FTP接続エラーです" : end
				
				ftpdir start_dir,"ohsranking"
				
				ftpget "OHS-test.rnk"
				ftpget "Limit_breaking.rnk"
				if stat != 0 : dialog "ランキングデータがダウンロードできませんでした...\n(インターネット接続を確認してください)" : ftpclose : end
				
				//mes "ランキングへ登録できました。"
				ftpclose
*/
				if mode = 2 {
					gosub *rank_check
				}
				goto *result
				//goto *init
				//gosub *rank_save
			}
		}
	}
	//自機と敵、敵の弾との当たり判定
	if ziki_kind = 1 | ziki_kind = 2 | ziki_kind = 3 {
		if myship_state == 1 {
			f = 0
			cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
			cy = myship_y + 48 //ここの値を変えると自機のあたり判定のYサイズが変わる
			for i, 0, ENEMAX
				if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 50 & cy >= enemy_y(i) & cy <= enemy_y(i) + 48 {
					enemy_state(i) = 0
					f = 1
				}
			next
			for i, 0, ESHOTMAX
				if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 50 & cy >= eshot_y(i) & cy <= eshot_y(i) + 48 {
					eshot_f(i) = 0
					f = 1
				}
			next
			if f == 1 {
				dmmplay 2
				myship_state = 2
				myexplode_cnt = 0
			}
		}
	}
	
	//自機と敵、敵の弾との当たり判定
	if ziki_kind = 4 | ziki_kind = 5 | ziki_kind = 6 | ziki_kind = 7 | ziki_kind = 8{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 73 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 50 & cy >= enemy_y(i) & cy <= enemy_y(i) + 73 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 50 & cy >= eshot_y(i) & cy <= eshot_y(i) + 73 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

		//自機と敵、敵の弾との当たり判定
	if ziki_kind = 9{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 40 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 50 & cy >= enemy_y(i) & cy <= enemy_y(i) + 40 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 50 & cy >= eshot_y(i) & cy <= eshot_y(i) + 40 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
		//自機と敵、敵の弾との当たり判定
	if ziki_kind = 10{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 108 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 50 & cy >= enemy_y(i) & cy <= enemy_y(i) + 108 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 50 & cy >= eshot_y(i) & cy <= eshot_y(i) + 108 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
		//自機と敵、敵の弾との当たり判定
	if ziki_kind = 11{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 23 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 50 & cy >= enemy_y(i) & cy <= enemy_y(i) + 23 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 50 & cy >= eshot_y(i) & cy <= eshot_y(i) + 23 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
		//自機と敵、敵の弾との当たり判定
	if ziki_kind = 12{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 102 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 50 & cy >= enemy_y(i) & cy <= enemy_y(i) + 102 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 50 & cy >= eshot_y(i) & cy <= eshot_y(i) + 102 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 13{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 137 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 137 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 137 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 14{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 169 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 169 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 169 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 15{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 52 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 52 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 52 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 16{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 74 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 74 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 74 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 17{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 51 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 51 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 51 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 18{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 83 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 83 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 83 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 19{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 76 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 76 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 76 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機と敵、敵の弾との当たり判定
	if ziki_kind = 20{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 40 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & cx >= enemy_x(i) & cx <= enemy_x(i) + 40 & cy >= enemy_y(i) & cy <= enemy_y(i) + 50 {
				enemy_state(i) = 0
				f = 1
			}
		next
		for i, 0, ESHOTMAX
			if eshot_f(i) == 1 & cx >= eshot_x(i) & cx <= eshot_x(i) + 40 & cy >= eshot_y(i) & cy <= eshot_y(i) + 50 {
				eshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
	//自機とボスの弾との当たり判定
	
	if ziki_kind = 1 | ziki_kind = 2 | ziki_kind = 3 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 48 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 50 & cy >= boss_y(i) & cy <= boss_y(i) + 48 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 50 & cy >= bshot_y(i) & cy <= bshot_y(i) + 48 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}




//自機とボスの弾との当たり判定
if ziki=kind = 4 | ziki_kind = 5 | ziki_kind = 6 | ziki_kind = 7 | ziki_kind = 8{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 73 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 50 & cy >= boss_y(i) & cy <= boss_y(i) + 73 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 50 & cy >= bshot_y(i) & cy <= bshot_y(i) + 73 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
	
	//自機とボスの弾との当たり判定
if ziki_kind = 9{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 40 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 50 & cy >= boss_y(i) & cy <= boss_y(i) + 40 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 50 & cy >= bshot_y(i) & cy <= bshot_y(i) + 40 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 10{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 108 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 50 & cy >= boss_y(i) & cy <= boss_y(i) + 108 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 108 & cy >= bshot_y(i) & cy <= bshot_y(i) + 108 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 11{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 23 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 50 & cy >= boss_y(i) & cy <= boss_y(i) + 23 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 50 & cy >= bshot_y(i) & cy <= bshot_y(i) + 23 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 12{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 50 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 102 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 50 & cy >= boss_y(i) & cy <= boss_y(i) + 102 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 50 & cy >= bshot_y(i) & cy <= bshot_y(i) + 102 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 13{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 137 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 137 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 137 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
//自機とボスの弾との当たり判定
if ziki_kind = 14{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 169 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 169 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 169 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 15{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 52 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 52 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 52 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 16{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 74 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 74 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 74 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 17{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 51 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 51 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 51 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 18{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 83 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 83 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 83 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 19{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 76 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 76 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 76 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}

//自機とボスの弾との当たり判定
if ziki_kind = 20{
	if myship_state == 1 {
		f = 0
		cx = myship_x + 40 //ここの値を変えると自機のあたり判定のXサイズが変わる
		cy = myship_y + 50 //ここの値を変えると自機のあたり判定のYサイズが変わる
		for i, 0, BOSSMAX
			if boss(i) == 1 & cx >= boss_x(i) & cx <= boss_x(i) + 40 & cy >= boss_y(i) & cy <= boss_y(i) + 50 {
				boss(i) = 1
				f = 1
			}
			next
		for i, 0, BSHOTMAX
			if bshot_f(i) == 1 & cx >= bshot_x(i) & cx <= bshot_x(i) + 40 & cy >= bshot_y(i) & cy <= bshot_y(i) + 50 {
				bshot_f(i) = 0
				f = 1
			}
		next
		if f == 1 {
			dmmplay 2
			myship_state = 2
			myexplode_cnt = 0
		}
	}
}
	//ESCキーで終了
	if esckey == 1 {
		dialog "ゲームを終了し、タイトル画面へ戻ります。\n（データはセーブされません）\n\n（完全にゲームを終了したい場合は、画面右上の「×」を押してください。）",0,"終了確認"
		if stat = 1{
			goto *opening_act12
		}
	}
	//画面の更新
	redraw 0	// 描画始め
	//背景の描画
	if mode == 1{ 
	if haikei = 0 {
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 8
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 1{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 9
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 2{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 10
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 3{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 11
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 4{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 12
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 5{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 13
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 6{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 14
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 7{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 29
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 8{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 30
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 9{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 31
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 10{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 32
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 11{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 33
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 12{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 34
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 13{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 35
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 14{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 36
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 15{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 37
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 16{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 38
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 17{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 39
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 18{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 40
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
	if haikei = 19{
		for i, 0, 20
			for j, 0, 19
				g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
				win_id = 41
				split_id = 0
				gosub *graphic_draw
			next
		next
	}
}
if mode == 2 & haikei = 20{
	for i, 0, 20
		for j, 0, 19
			g_x = j * 480 : g_y = -480 + scroll_cnt \ 480 + i * 480
			win_id = 142
			split_id = 0
			gosub *graphic_draw
		next
	next
}

	//敵の描画
	for i, 0, ENEMAX
		if enemy_state(i) == 1 {
			g_x = enemy_x(i) : g_y = enemy_y(i)
			win_id = 1
			split_id = 1 + enemy_kind(i)
			gosub *graphic_draw
		}
		if enemy_state(i) == 2 {
			
			pos enemy_x(i) - 16 , enemy_y(i) - 16
			redraw 0
			gmode 2
			celput 121,animation,1.5,1.5
			animation+1
			redraw 3
			if animation = 65{
				animation == 0
			}
		}
	next
	
	//ボスの描画
	for i, 0, BOSSMAX
		if boss(i) == 1 {
			//ボスの残りのHP
			bossHP_gage = bossHP / stage_no
			color 230,230,230
			circle 76,30,116,55
			circle 586,30,626,55
			boxf 95,30,605,55	//外枠
			color 255,0,0		//赤色
			boxf 100,35,600,50	//ボスの残りのHP
			color 0,0,0			//黒色
			boxf 100,35,600 - bossHP_gage,50	//ボスの残りのHP
			g_x = boss_x(i) : g_y = boss_y(i)
			win_id = 25
			split_id = 0
			gosub *graphic_draw
		}
		if boss(i) == 2 {
			pos myship_x - g_x2 , myship_y - g_y2
			redraw 0
			gmode 2
			celput 121,animation_boss,1.5,1.5
			animation_boss + 1
			await 10
			redraw 3
			if animation_boss = 65{
			animation_boss == 0
		}
	}
	next
	
	//自機の描画 1
	if ziki_kind = 1{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 48
		split_id = 0
		gosub *graphic_draw
	}
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 48
		split_id = 0
		gosub *graphic_draw
	}
}
//自機の描画 2
if ziki_kind = 2{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 49
		split_id = 0
		gosub *graphic_draw
	}
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 49
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 3
if ziki_kind = 3{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 50
		split_id = 0
		gosub *graphic_draw
	}
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 50
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 4
if ziki_kind = 4{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 47
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 47
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 5
if ziki_kind = 5{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 48
		split_id = 1
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 48
		split_id = 1
		gosub *graphic_draw
	}
}

//自機の描画 6
if ziki_kind = 6{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 49
		split_id = 1
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 49
		split_id = 1
		gosub *graphic_draw
	}
}

//自機の描画 7
if ziki_kind = 7{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 50
		split_id = 1
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 50
		split_id = 1
		gosub *graphic_draw
	}
}

//自機の描画 8
if ziki_kind = 8{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 47
		split_id = 1
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 47
		split_id = 1
		gosub *graphic_draw
	}
}

//自機の描画 9
if ziki_kind = 9{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 49
		split_id = 2
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 49
		split_id = 2
		gosub *graphic_draw
	}
}

//自機の描画 10
if ziki_kind = 10{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 48
		split_id = 2
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 48
		split_id = 2
		gosub *graphic_draw
	}
}

//自機の描画 11
if ziki_kind = 11{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 50
		split_id = 2
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 50
		split_id = 2
		gosub *graphic_draw
	}
}

//自機の描画 12
if ziki_kind = 12{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 47
		split_id = 2
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 47
		split_id = 2
		gosub *graphic_draw
	}
}

//自機の描画 13
if ziki_kind = 13{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 129
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 129
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 14
if ziki_kind = 14{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 130
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 130
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 15
if ziki_kind = 15{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 131
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 131
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 16
if ziki_kind = 16{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 132
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 132
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 17
if ziki_kind = 17{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 133
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 133
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 18
if ziki_kind = 18{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 134
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 134
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 19
if ziki_kind = 19{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 135
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 135
		split_id = 0
		gosub *graphic_draw
	}
}

//自機の描画 20
if ziki_kind = 20{
	if myship_state == 1 {
		g_x = myship_x : g_y = myship_y
		win_id = 136
		split_id = 0
		gosub *graphic_draw
	}
	
	if myship_state == 2 {
		gosub *Explosion_animation
	}
	if myship_state == 3 & myrevival_cnt \ 10 < 5 {
		g_x = myship_x : g_y = myship_y
		win_id = 136
		split_id = 0
		gosub *graphic_draw
	}
}
	
	//無敵のプログラム1
	if muteki_cnt >= 15{
		myship_state == 0
	if shot_f == 1 | shot_ff == 1{
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & shot_x >= enemy_x(i) & shot_x <= enemy_x(i) & shot_y >= enemy_y(i) & shot_y <= enemy_y(i) {
		}
		next
	}
		g_x = myship_x - 85: g_y = myship_y - 85
		
		if ziki_kind = 1{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 171,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 48
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 2{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 172,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 49
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 3{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 173,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 50
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 4{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 174,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 47
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 5{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 175,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 48
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 6{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 176,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 49
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 7{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 177,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 50
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 8{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 178,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 47
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 9{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 179,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 49
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 10{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 180,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 48
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 11{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 181,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 50
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 12{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 182,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 47
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 13{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 183,0,0,220,220
			g_x = myship_x - 30 : g_y = myship_y - 5
			win_id = 129
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 14{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 184,0,0,220,220
			g_x = myship_x - 50 : g_y = myship_y
			win_id = 130
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 15{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 185,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 131
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 16{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 186,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 132
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 17{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 187,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 133
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 18{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 188,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 134
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 19{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 189,0,0,220,220
			g_x = myship_x : g_y = myship_y
			win_id = 135
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 20{
			pos g_x,g_y
			gmode 7,220,220,255
			gcopy 190,0,0,220,220
			g_x = myship_x + 5 : g_y = myship_y
			win_id = 136
			split_id = 0
			gosub *graphic_draw
		}
	}
		

	if muteki_cnt >= 25{
		muteki_cnt == 0
		myship_state == 1
	if shot_f == 1 | shot_ff == 1{
		for i, 0, ENEMAX
			if enemy_state(i) == 1 & shot_x + 31 >= enemy_x(i) & shot_x <= enemy_x(i) + 31 & shot_y + 31 >= enemy_y(i) & shot_y <= enemy_y(i) + 31 {
		}
		next
	}

		g_x = myship_x : g_y = myship_y
		if ziki_kind = 1{
			win_id = 48
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 2{
			win_id = 49
			split_id = 5
			gosub *graphic_draw
		}
		if ziki_kind = 3{
			win_id = 50
			split_id = 6
			gosub *graphic_draw
		}
		if ziki_kind = 4{
			win_id = 47
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 5{
			win_id = 48
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 6{
			win_id = 49
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 7{
			win_id = 50
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 8{
			win_id = 47
			split_id = 1
			gosub *graphic_draw
		}
		if ziki_kind = 9{
			win_id = 49
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 10{
			win_id = 48
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 11{
			win_id = 50
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 12{
			win_id = 47
			split_id = 2
			gosub *graphic_draw
		}
		if ziki_kind = 13{
			win_id = 129
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 14{
			win_id = 130
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 15{
			win_id = 131
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 16{
			win_id = 132
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 17{
			win_id = 133
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 18{
			win_id = 134
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 19{
			win_id = 135
			split_id = 0
			gosub *graphic_draw
		}
		if ziki_kind = 20{
			win_id = 136
			split_id = 0
			gosub *graphic_draw
		}
	}
	
	//自機の弾の描画
	if ziki_kind = 1 | ziki_kind = 2 | ziki_kind = 3 | ziki_kind = 4 | ziki_kind = 5 | ziki_kind = 6 | ziki_kind = 7 | ziki_kind = 9 | ziki_kind = 10 | ziki_kind = 11 | ziki_kind = 15 {
	if shot_f == 1 {
		g_x = shot_x : g_y = shot_y
		win_id = 1
		split_id = 4
		gosub *graphic_draw
	}
	if shot_ff == 1 {
		g_x = shot_xx : g_y = shot_yy
		win_id = 1
		split_id = 4
		gosub *graphic_draw
	}
}	
	//自機の弾の描画
	if ziki_kind = 17 {
	if shot_f == 1 {
		g_x = shot_x : g_y = shot_y
		win_id = 1
		split_id = 4
		gosub *graphic_draw
	}
	if shot_ff == 1 {
		g_x = shot_xx - 10 : g_y = shot_yy
		win_id = 1
		split_id = 4
		gosub *graphic_draw
		g_x = shot_xx : g_y = shot_yy
		win_id = 1
		split_id = 4
		gosub *graphic_draw
		g_x = shot_xx + 10 : g_y = shot_yy
		win_id = 1
		split_id = 4
		gosub *graphic_draw
	}
}	
	//自機の弾の描画
	if ziki_kind = 8 | ziki_kind = 20{
	if shot_f == 1{
			g_x = shot_x - 10: g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 10 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	
	if shot_ff == 1{
			g_x = shot_xx - 10: g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 10 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	
	//自機の弾の描画
	if ziki_kind = 14 {
		if shot_f == 1{
			g_x = shot_x : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 10 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 85 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 140 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 150 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	if shot_ff == 1{
			g_x = shot_xx : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 10 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 85 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 140 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 150 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	//自機の弾の描画
	if ziki_kind = 12 {
		if shot_f == 1 {
			g_x = shot_x - 25: g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 25: g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	if shot_ff == 1 {
			g_x = shot_xx - 25: g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 25: g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	
	//自機の弾の描画
	if ziki_kind = 19 {
		if shot_f == 1 {
			g_x = shot_x - 20 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 5 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 30 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	if shot_ff == 1 {
			g_x = shot_xx - 20 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 5 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 30: g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	
	//自機の弾の描画
	if ziki_kind = 18 {
		if shot_f == 1 {
			g_x = shot_x : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 25: g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 50: g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	if shot_ff == 1 {
			g_x = shot_xx : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 25: g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 50: g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	//自機の弾の描画
	if ziki_kind = 13{
		if shot_f == 1 {
			g_x = shot_x : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 10 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 55 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 110 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 120 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
		if shot_ff == 1 {
			g_x = shot_xx : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 10 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 55 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 110 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 120 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	
	//自機の弾の描画
	if ziki_kind = 16{
		if shot_f == 1 {
			g_x = shot_x : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_x + 10 : g_y = shot_y
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
		if shot_ff == 1 {
			g_x = shot_xx : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
			g_x = shot_xx + 10 : g_y = shot_yy
			win_id = 1
			split_id = 4
			gosub *graphic_draw
		}
	}
	//敵の弾の描画
	for i, 0, ESHOTMAX
		if eshot_f(i) == 1 {
			g_x = eshot_x(i) : g_y = eshot_y(i)
			win_id = 3
			split_id = 4
			gosub *graphic_draw
		}
	next
	
	//ボスの弾の描画
	for i, 0, BSHOTMAX
		if bshot_f(i) == 1 {
			g_x = bshot_x(i) : g_y = bshot_y(i)
			win_id = 3
			split_id = 5
			gosub *graphic_draw
		}
	next

	//スコアの表示
	color 255, 255, 0
	font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
	pos 850 , 32
	mes "SCORE:"
	pos 850 , 52
	mes ""+score
	
	pos 850 , 72
	mes"HI-SCORE:"
	pos 850 , 92
	mes ""+hiscore
	
	//残機数表示
	pos 900 , 112
	mes "\n残機残り : "+n_myship+""
	
	//無敵のプログラム
	if muteki_cnt >= 15{
		color 255, 255, 0
		font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
		pos 850 , 200
		mes "無敵終了まで残り"
		pos 900 , 220
		mes ""+mutekiowari+"体"
	}
	if mutekiowari <= 0{
		mutekiowari = 25
	}
	if mode == 1 {
		pos 880 , 300
		mes "STAGE " + stage_no
		 //描画位置確認（変数y）
		if stage_no \ 5 != 0 {//stage_no = 1 | stage_no = 2 | stage_no = 3 | stage_no = 4 | stage_no = 5 | stage_no = 6 | stage_no = 8 | stage_no = 9 | stage_no = 10 | stage_no = 11 | stage_no = 12 | stage_no = 13 | stage_no = 15 | stage_no = 16 | stage_no = 17 | stage_no = 18 | stage_no = 19 | stage_no = 20 | stage_no = 22 | stage_no = 23 | stage_no = 24 | stage_no = 25 | stage_no = 26 | stage_no = 27 | stage_no = 29 | stage_no = 30 | stage_no = 31 | stage_no = 32 | stage_no = 33 | stage_no = 34 | stage_no = 36 | stage_no = 37 | stage_no = 38 | stage_no = 39 | stage_no = 40 | stage_no = 41 | stage_no = 43 | stage_no = 44 | stage_no = 45 | stage_no = 46 | stage_no = 47 | stage_no = 48 | stage_no = 50 | stage_no = 51 | stage_no = 52 | stage_no = 53 | stage_no = 54 | stage_no = 55 | stage_no = 57 | stage_no = 58 | stage_no = 59 | stage_no = 60 | stage_no = 61 | stage_no = 62 | stage_no = 64 | stage_no = 65 | stage_no = 66 | stage_no = 67 | stage_no = 68 | stage_no = 69 | stage_no = 71 | stage_no = 72 | stage_no = 73 | stage_no = 74 | stage_no = 75 | stage_no = 76 | stage_no = 78 | stage_no = 79 | stage_no = 80 | stage_no = 81 | stage_no = 82 | stage_no = 83 | stage_no = 85 | stage_no = 86 | stage_no = 87 | stage_no = 88 | stage_no = 89 | stage_no = 90 | stage_no = 92 | stage_no = 93 | stage_no = 94 | stage_no = 95 | stage_no = 96 | stage_no = 97 | stage_no = 98 | stage_no = 99 {
			color 255, 255, 0
			font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
			pos 880 , 350
			mes "ゴールまであと:"
			color 255,255,255
			pos 880 , 370
			mes ""+goal_cnt+"ｍ"
		}
	}
	
	if stage_no \ 5 = 0 & bosssen >=1000 & bosssen <1500 & bosssen / 15 {//stage_no = 7 | stage_no = 14 | stage_no = 21 | stage_no = 28 | stage_no = 35 | stage_no = 42 | stage_no = 49 | stage_no = 56 | stage_no = 63 | stage_no = 70 | stage_no = 77 | stage_no = 84 | stage_no = 91 | stage_no = 100 & bosssen >=1000 & bosssen <1500 & bosssen / 15 {
		color 255, 0, 0
		font "HGS創英角ﾎﾟｯﾌﾟ体",25 ,16
		pos 880 , 350
		mes "Warning!!"
		pos 200,360
		gmode 2
		gcopy 61,0,0,454,133
	}
	if mode == 2 & bosssen2 >=3000 & bosssen2 <3500 & bosssen / 15 {
		color 255, 0, 0
		font "HGS創英角ﾎﾟｯﾌﾟ体",25 ,16
		pos 880 , 350
		mes "Warning!!"
		pos 200,360
		gmode 2
		gcopy 61,0,0,454,133
	}
	
	font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
	color 255,255,255
	pos 800, 400
	mes "F10キーを押して一時停止"
	
	
	font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
	pos 730,490
	mes "獲得した経験値　:　"+keikenti+"EXP
	mes "獲得した所持金　:　"+gold+"ウォルテッド"
	if mode == 1 {
		mes "クリアしたステージ数　:　"+clear_stage+"ステージ"
	}
	if mode == 2 {
		mes "進んだ距離　:　"+scroll_cnt+"ｍ"
	}
	pos 730,560
	mes "ESCキーでホーム画面へ戻ります"
	if shot_OK = 1 & myship_state != 2{
		font "",15
		pos 0,0
		color 255,255,0
		mes "コマンド入力" + txt
		pos 1,1
		color 255,255,0
		mes "コマンド入力" + txt
	}
	redraw 1
		
	scroll_cnt++
	goal_cnt--
	bosssen ++
	bosssen2 ++

	//スコア2000で1up
	if mode == 1{
		if extcnt <= 20 {				  //1up回数が20回以内なら
			if score >= extscr {		  //スコアが2千以上になったらなら
				  n_myship = n_myship + 1	//残機を1機加算
				  dmmplay 3
				  extscr = extscr + 2000	//extscrに+[2000]する
				  extcnt = extcnt + 1		//1upした回数を数える
				  gosub *graphic_draw
				  redraw 1
			}
		}
	}
	
	//ステージクリア処理
	if mode == 1 {
		if stage_no \ 5 != 0 {
			if scroll_cnt == 4000 {
			goal_cnt == 0
			stage_no ++
			clear_stage ++
			;BGM += 1
			haikei += 1
			;if haikei >= 20{
			;	haikei = 0
			;}
			stage_MAX += 1
			if interval > 32 { interval -= 32 }
			goto *Stage_Start
		}
	}
for i, 0, BOSSMAX
	if stage_no \ 5 = 0 & boss(i) == 2 & stage_no != 100{
			goal_cnt == 0
			;stage_no ++
			clear_stage ++
			;BGM += 1
			haikei += 1
			;if haikei == 19{
			;	haikei = 0
			;}
			stage_MAX += 1
			if interval > 32 { interval -= 32 }
			pos 350,280
			gcopy 43,0,0,329,173	//ダイアログ描画
			repeat
			await 16
			stick key,0
			if (key&32) : goto *slot
			loop
	}
	next
	
	for i, 0, BOSSMAX
	if stage_no = 100 & boss(i) == 2{
		
			
			goal_cnt == 0
			;stage_no ++
			clear_stage ++
			;BGM += 1
			haikei += 1
			;if haikei == 19{
			;	haikei = 0
			;}
			stage_MAX += 1
			if interval > 32 { interval -= 32 }
			pos 350,280
			gcopy 43,0,0,329,173	//ダイアログ描画
			repeat
			await 16
			stick key,0
			if (key&32) : goto *gameowari
			loop
	}
	next
}
	for i, 0, BOSSMAX
	if mode == 2 & boss(i) == 2 {
			if interval > 32 { interval -= 32 }
	}
	next
	
	if mode == 1{
		if stage_no = 100 & boss_clear == 1{
			goto *gameowari
		}
	}
	
	if shot_OK = 0{
		ss += 3.5
	}
	if ss >= max{//全て青ゲージの時(つまり発射可能の時)
		ss == max
		shot_OK = 1		//ショットガンが撃てる
		pos 850,460
		font "ＭＳ 明朝",20
		color 255,255,255
		mes "準備OK！"
	}
	color 255,0,0
	boxf 797,427,max+3,453
	color
	boxf 800,430,max,450	//枠
	color ,,255
	boxf 800,430, ss, 450	//ゲージ
	
	if txt = "↑↑↓↓" | txt = "WWSS" {
		command = 0
		ss == 800.0
		shot_OK == 0
		txt == ""
		mmplay 69
		repeat 30
			redraw 0
			color 0,0,0
			boxf
			pos 0,0
			gmode 2
			celput 124,animation_shotgun1,3.2,3.416666666666667
			redraw 1
			await 45
			animation_shotgun1+1
			if animation_shotgun1=30 : animation_shotgun1 = 0
		loop
		for i, 0, ENEMAX
			if enemy_state(i) == 1{
				keikenti_rnd =rnd(500)
				gold_rnd = rnd(500)
				dmmplay 1
				enemy_state(i) = 2
				eneexplode_cnt(i) = 0
				shot_OK = 0
				if score < 2147483647{
					score += 200
				}
				if score >= 2147483647{
					score = "2147483647 ++"
				}
				keikenti += keikenti_rnd
				gold += gold_rnd
				if dg = 10{
					dg = 0
				}
			}
		next
			dmmplay 0
		}
	goto *Main_Loop


*boss_shori
	//ボスの移動
	for i, 0, BOSSMAX
		if boss(i) == 1 {
			if boss_x < 0 { boss_x = 0 }
			if boss_x > ginfo(20) - 150 { boss_x = ginfo(20) - 150 }
			if boss_y < 0 { boss_y = 0 }
			if boss_y > ginfo(21) - 300 { boss_y = ginfo(21) - 300 }
	
			boss_phase(i) = 0
				boss_x(i) = rnd(ginfo(20))	//ボスの移動範囲（X）
				boss_y(i) = rnd(ginfo(21)/3)//ボスの移動範囲（Y）
				wait 16
					if boss_y(i) == GHEIGHT - 100 {
						boss_phase(i) = 1
						if boss_x(i) <= myship_x{
							boss_dx(i) = -2
						} else {
							boss_dx(i) = 2
						}
						boss_dy(i) = -2
					}
			}
	next
	goto *Main_Loop
	
	//画面のクリア
*Clear_Screen
	color 0, 0, 0
	boxf 0, 0, ginfo(20), ginfo(21)
	return

	//メッセージの表示
*Write_Message
	//msx,msy	: 表示する座標
	//message	: メッセージの内容
	pos msx, msy
	color 255, 255, 0
	font "HGS創英角ﾎﾟｯﾌﾟ体",15 ,16
	mes message
	return
	
	//指定した絵を描画
*graphic_draw
	//g_x, g_y	: 描画する座標
	//win_id		: ウィンドウID
	//split_id		: 分割画像No.
	pos g_x, g_y
	gmode 2
	celput win_id, split_id
	return
	
	//爆発アニメーションの描画（自分）
*Explosion_animation
	pos myship_x - g_x2 , myship_y - g_y2
	redraw 0
	gmode 2
	celput 122,animation2,1.5,1.5
	animation2 + 1
	await 10
	redraw 3
	if animation2 = 65{
		animation2 == 0
	}
	return
			
	//エンディング
*gameowari
	cls 4
	n_myship_cnt == n_myship
	dmmload "sound\\ogg\\bgm-005.ogg",14 : dmmloop 14 : dmmplay 14
	stage_MAX = 0
	stage_no = 1
	stage_finish = 1
	n_myship = 30
	;BGM = 0
	haikei = 0
	OHS_finish = 1
	repeat 2200
	redraw 0
	pos 274,0
	gzoom 750,615,127,0,0,480,480
	color 0,0,0
	boxf 0,0,273,615
	color 255, 255, 0:font "HG明朝E",30:pos 350,171:mes "Congratulations!!\nThank you for playing my game!"
	color 255,255,255:font "HG明朝E",20:pos 0,ginfo(21)-cnt:	mes "ディレクター\n製作者(EXPRESS_HR)\n\n\nメインプログラム\n製作者(EXPRESS_HR)\n\n\nフィールドデザイン\n製作者(EXPRESS_HR)\n\n\n背景データ設計\n製作者(EXPRESS_HR)\n\n\nUIデザイン\n製作者(EXPRESS_HR)\n\n\nBGグラフィックス\n製作者(EXPRESS_HR)\n\n\n統括プロデューサー\n製作者(EXPRESS_HR)\n\n\nデザインディレクター\n製作者(EXPRESS_HR)\n\n\nキャラクターデザイン\n製作者(EXPRESS_HR)\n\n\nプレイヤープログラミング\n製作者(EXPRESS_HR)\n\n\n敵のプログラミング\n製作者(EXPRESS_HR)\n\n\nプログラミング\n製作者(EXPRESS_HR)\n\n\nシステムプログラミング\n製作者(EXPRESS_HR)\n\n\nサウンドディレクター\n製作者(EXPRESS_HR)\n\n\nサウンドプログラミング\n製作者(EXPRESS_HR)\n\n\nデバッグ\n製作者(EXPRESS_HR)\n(~_~;)\n琥珀\n\n\nスペシャルサンクス\n"+aa+" 様"
	redraw 1
	wait 1//ここの数字を小さくすることでスクロールスピード早くできる。
	loop
	
	color 255, 255, 0:font "HG明朝E",20:pos 350, 424:mes "キーボードのEnterキーを押してランキング画面へ"
	gscore == (n_myship * 1000) + (clear_stage * 500) + score
	repeat
		stick key,0
		if (key&32):break:dmmstop -1
		await 20
	loop
	
	wait 5
	if mode = 2 {
		gosub *rank_check
	}
	goto *result

//------------------------------------------------------------------------
*slot
	mx = 1024
	time_mx = 0
	dmmstop -1
	repeat
	redraw 0
	color 0,0,0
	boxf
	color 51,102,255
	boxf 0,250,ginfo(20),360
	font "ＭＳ ゴシック",40
	color 255,255,0
	if mx >= 320{
		mx -= 7
	}
	if mx < 320{
		time_mx ++
	}
	if time_mx >= 100{
		mx -= 10
	}
	if mx < -400 {
		break
	}
	pos mx,280
	mes "ボーナスチャレンジ"
	redraw 1
	await 10
	loop
	goto *slot_start
	stop
	
*slot_start
	cls 4
	color 0,0,0
	boxf
		dmmloop 67
		dmmplay 67
	repeat
	
	color 255,255,255
	pos 120,200
	font "",20
	mes "Enterキーで決定"
	mes "現在のスコア："+score
	mes "現在の残機："+n_myship
	mes "現在のステージ数："+stage_no
	pos 120,280
	font "",40
	mes "score×2   score×3   ステージワープ   残機＋10"
	slot_x += 1
	if slot_x = 50{
		f = 1
		gosub *mess
	}
	if slot_x = 100{
		f = 2
		gosub *mess
	}
	if slot_x = 150{
		f = 3
		gosub *mess
	}
	if slot_x = 200{
		f = 4
		slot_x = 0
		gosub *mess
	}
	
	getkey slot_key,13
	if slot_key :mmplay 71 : wait 20 : break
	await 1
	loop
	
	color 255,255,255
	pos 120,200
	font "",20
	mes "Enterキーで決定"
	mes "現在のスコア："+score
	mes "現在の残機："+n_myship
	mes "現在のステージ数："+stage_no
	pos 120,280
	font "",40
	mes "score×2   score×3   ステージワープ   残機＋10"
	
	if f = 1 : dialog "score × 2",0,"メッセージ" : score == score * 2 : stage_no += 1
	if f = 2 : dialog "score × 3",0,"メッセージ" : score == score * 3 : stage_no += 1
	if f = 3 : dialog "ステージワープ\nワープチャレンジモードに移行します。",0,"メッセージ" : wait 20 : goto *warp_mode
	if f = 4 : dialog "残機 ＋ 10",0,"メッセージ": n_myship == n_myship + 10 : stage_no += 1
	
	if stat = 1{
		goto *Stage_Start
		stop
	}
*mess
	if f = 1{
		color 0,0,0
		boxf
		pos 150,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 2{
		color 0,0,0
		boxf
		pos 350,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 3{
		color 0,0,0
		boxf
		pos 550,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 4{
		color 0,0,0
		boxf
		pos 800,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	return
	
*warp_mode
	cls 4
	slot_x_warp = 0
	repeat
	pos 432,100
	color  255,255,255
	font "",20
	mes "ワープするステージ数："
	font "",20
	pos 300,500
	mes "現在のステージ"
	pos 280,530
	mes ""+stage_no
	pos 450,200
	color  255,255,255
	font "",20
	mes "Enterキーで決定"
	pos 130,280
	font "",40
	mes "１     ２     ３     ４     ５     ６     ７     ８     ９     １０"
	slot_x_warp += 1
	if slot_x_warp = 40{
		f = 1
		gosub *mess_warp
	}
	if slot_x_warp = 100{
		f = 2
		gosub *mess_warp
	}
	if slot_x_warp = 160{
		f = 3
		gosub *mess_warp
	}
	if slot_x_warp = 220{
		f = 4
		gosub *mess_warp
	}
	if slot_x_warp = 280{
		f = 5
		gosub *mess_warp
	}
	if slot_x_warp = 340{
		f = 6
		gosub *mess_warp
	}
	if slot_x_warp = 400{
		f = 7
		gosub *mess_warp
	}
	if slot_x_warp = 460{
		f = 8
		gosub *mess_warp
	}
	if slot_x_warp = 520{
		f = 9
		gosub *mess_warp
	}
	if slot_x_warp = 580{
		f = 10
		slot_x_warp = 0
		gosub *mess_warp
	}
	getkey slot_key,13
	if slot_key :mmplay 71 : wait 20 : break
	await 1
	loop
	dmmstop -1
	if f = 1 : warp_stage_no == 1 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 2 : warp_stage_no == 2 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 3 : warp_stage_no == 3 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 4 : warp_stage_no == 4 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 5 : warp_stage_no == 5 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 6 : warp_stage_no == 6 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 7 : warp_stage_no == 7 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 8 : warp_stage_no == 8 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 9 : warp_stage_no == 9 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	if f = 10 : warp_stage_no == 10 : stage_no_warp = stage_no + warp_stage_no : haikei = haikei + warp_stage_no 
	color 
	boxf 0,0,1024,200
	pos 432,100
	color  255,255,255
	font "",20
	mes "ワープするステージ数："+warp_stage_no
	font "",20
	pos 300,500
	mes "現在のステージ"
	pos 280,530
	mes ""+stage_no
	pos 500,500
	mes "ワープ後のステージ"
	pos 520,530
	mes ""+stage_no_warp
	stage_no = stage_no_warp
	pos 432,570
	mes "Enterキーで次へ"
	repeat
	getkey slot_key,13
	if slot_key : break
	await 1
	loop
	wait 20
	goto *Stage_Start
	stop
	//------------------------------------------------------------------------
	
*mess_warp
	if f = 1{
		color 0,0,0
		boxf
		pos 100,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 2{
		color 0,0,0
		boxf
		pos 190,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 3{
		color 0,0,0
		boxf
		pos 280,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 4{
		color 0,0,0
		boxf
		pos 370,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 5{
		color 0,0,0
		boxf
		pos 460,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 6{
		color 0,0,0
		boxf
		pos 540,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 7{
		color 0,0,0
		boxf
		pos 630,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 8{
		color 0,0,0
		boxf
		pos 710,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 9{
		color 0,0,0
		boxf
		pos 800,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	if f = 10{
		color 0,0,0
		boxf
		pos 900,320
		color 255,255,255
		font "",80
		mes "↑"
		
	}
	return
	//------------------------------------------------------------------------
		
*Input_Key2	//WASD
	command ++
	zkey = 0
	upkey = 0
	downkey = 0
	leftkey = 0
	rightkey = 0
	esckey = 0
	Shift = 0
	down_shot = 0
	
	getkey key2, 87
	if key2 { down_shot = 1 }
	getkey key2, 65
	if key2 { leftkey = 1 }
	getkey key2, 87
	if key2 { upkey = 1 }
	getkey key2, 68
	if key2 { rightkey = 1 }
	getkey key2, 83
	if key2 { downkey = 1 }
	if key2 { zkey = 1 }
	
	if shot_OK = 1 & myship_state != 2{
		command ++
		onkey gosub *key_jump	//参考http://lhsp.s206.xrea.com/command/onkey.html
		if command > 40{
			command = 0
			txt == ""
		}
		
	}
	getkey esckey, 27
	return
*key_jump
	getkey key3_a,65
	if shot_OK = 1 {
		if key3_a{
			if lparam >> 30 = 0{
				txt+"A" : command = 0
			}
		}
		getkey key3_a,87
		if key3_a{
			if lparam >> 30 = 0{
				txt+"W" : command = 0
			}
		}
		getkey key3_a,68
		if key3_a{
			if lparam >> 30 = 0{
				txt+"D" : command = 0
			}
		}
		getkey key3_a,83
		if key3_a{
			if lparam >> 30 = 0{
				txt+"S" : command = 0
			}
		}
	}
	return
	
*Input_Key3	//↑↓←→
	zkey = 0
	upkey = 0
	downkey = 0
	leftkey = 0
	rightkey = 0
	esckey = 0
	down_shot = 0
	
	getkey key3, 38
	if key3{ down_shot = 1 : upkey = 1 }	// [ down_shot = 1 ]後方に弾丸を発射
	getkey key3, 37
	if key3{ leftkey = 1 }
	getkey key3, 39
	if key3{ rightkey = 1 }
	getkey key3, 40
	if key3{ downkey = 1 : zkey = 1 }	// [ zkey = 1 ]前方に弾丸を発射
	
	if shot_OK = 1 & myship_state != 2{
		command ++
		stick key3_a
		if key3_a&1 : txt+"←" : command = 0
		if key3_a&2 : txt+"↑" : command = 0
		if key3_a&4 : txt+"→" : command = 0
		if key3_a&8 : txt+"↓" : command = 0
			
		if command > 40{
			command = 0
			txt == ""
		}
		
	}
	getkey esckey, 27
	return
	

*web_ie
//	最大化ウィンドウ、ウィンドウサイズ可変サンプル (by Kpan)

///////////ウインドウサイズ指定/////////////
Window_Size_x=ginfo(20)
Window_Size_y=ginfo(21)
////////////////////////////////////////////

//	あらかじめ最大サイズでウィンドウ作成
	screen 5,Window_Size_x,Window_Size_y
//	自ウィンドウのスタイルを変更
//		$10000 = 最大化ボタン有効
//		$40000 = ウィンドウサイズ可変有効
	GetWindowLong hwnd, -16
	SetWindowLong hwnd, -16, stat | $10000 | $40000

//	実際に表示するサイズを指定
	width ginfo(20), ginfo(21)

//	スクリプトから最大化ウィンドウにしたい場合
	sendmsg hwnd, $112, $F030
	gsel 5,1

#define DIID_DWebBrowserEvents2 "{34A715A0-6587-11D0-924A-0020AFC7AC4D}"
#define DISPID_NAVIGATECOMPLETE2 252
cls 1
sdim url2,512
url2="http://expresshr99.html.xdomain.jp/"
pos 0,2:mes "URL:"
pos 0,26:mes "WEB Browser Sample"
objsize Window_Size_x-40,24
pos 40,0:input url2
objsize 120,24
pos (Window_Size_x-120),24:button "移動",*wow
pos (Window_Size_x-240),24:button "進む",*go_f
pos (Window_Size_x-360),24:button "戻る",*go_b
pos 0,48
axobj ie, "Shell.Explorer.2",Window_Size_x,Window_Size_y-48//＜＜＜ここ
num=stat
comevent ie_event, ie, "{34A715A0-6587-11D0-924A-0020AFC7AC4D}",*event // DIID_DWebBrowserEvents2
ie->"Navigate" url2
*main_web
stop
*event
// COMイベント処理
dispid = comevdisp(ie_event)
if dispid = DISPID_NAVIGATECOMPLETE2 : gosub *OnNavigateComplete2
return

*OnNavigateComplete2
name = ie("LocationURL")
objprm 0,name
pDoc = ie("Document")
name = pDoc("Title")
title name
delcom pDoc
return
*wow
ie->"Navigate" url2
goto *main_web
*go_f
ie->"GoForward"
goto *main_web
*go_b
ie->"GoBack"
goto *main_web

	//ランキング処理
*rank_load
	chdir path
	notesel ranking
	exist FILE
	if strsize = -1 {
		color 255, 255, 255:ranking = "\t\n\t\n\t\n\t\n\t\n\t\t\n\t\n\t\n\t\n\t\n\t\t\n\t\n\t\n\t\n\t\n\t\t"
		notesave FILE
	} else {
		noteload FILE
	}
	
	if OHS_finish = 1{
		notesel limit_break_ranking
		exist FILE2
		if strsize = -1 {
			color 255, 255, 255:limit_break_ranking = "\t\n\t\n\t\n\t\n\t\n\t\t\n\t\n\t\n\t\n\t\n\t\t\n\t\n\t\n\t\n\t\n\t\t"
			notesave FILE2
		} else {
			noteload FILE2
		}
	}
	return
	
*rank_draw
	cls 4
*rank_draw2
	rank_hen = 1
	redraw 0
	color 0,0,0
	boxf
	color 255,255,0:font "HG明朝E",25:pos 0,0:mes "Enterキーで開始"
	color 255,255,0:font "HG明朝E",15:pos 0,40:mes "ここに登録されている総スコアは\n「ゲームスコア+(残機×1000)+(クリアしたステージ数×500)＝総スコア」で計算され、登録されます。（↑↓キーでランキング移動）"
	font msmincho, 15
	color 255, 255, 255
	pos 50, 80 : mes "ランク"
	pos 150, 80 : mes "名前"
	pos 300, 80 : mes "総スコア"
	pos 500, 80 : mes "機体名"
	pos 850,80 : mes "機体レベル"
	font msmincho, 15

	notesel ranking
	noteload FILE
	cnt_a = 0
	cnt_b = 1
	cnt_c = 2
	cnt_d = 3
	repeat notemax
		
		color 0,0,0
		boxf 0,601,ginfo(20),ginfo(21)
		color 255, 255, 0
		line 1000, cnt * 20 + 100, 0, cnt * 20 + 100
		line 1000,615 - 15,1000,100
		pos_YY = 20 * notemax + 105 - 20
		pos_Y == cnt * 20 + 105 - ranking_Y
		if cnt >= 1{
				cnt_a += 4
				cnt_b += 4
				cnt_c += 4
				cnt_d += 4
			}
		if pos_Y >= 20 + 105 - 20 | rank_pos = 1{
			color 255, 0, 255:pos 50, pos_Y : mes cnt + 1
			noteget tmp_1,cnt_a
			color 255, 255, 255:pos 150, pos_Y : mes tmp_1		//名前
			noteget tmp_2,cnt_b
			color 0, 255, 255:pos 300, pos_Y : mes tmp_2			//総スコア
			noteget tmp_3,cnt_c
			color 255, 255, 255:pos 500, pos_Y : mes tmp_3		//機体名
			noteget tmp_4,cnt_d
			color 255, 255, 0:pos 880, pos_Y : mes tmp_4			//機体レベル
		} if pos_Y <= 1085{
			color 0,0,0 : pos 50, pos_Y : mes ""
			color 0,0,0 : pos 150, pos_Y : mes ""
			color 0,0,0 : pos 300, pos_Y : mes ""
			color 0,0,0 : pos 500, pos_Y : mes ""
			color 0,0,0 : pos 880, pos_Y : mes ""
		}
	loop
	redraw 1
	return

*rank_draw_limit
	cls 4
*rank_draw_limit2
	rank_hen = 2
	redraw 0
	color 0,0,0
	boxf
	color 255,255,0:font "HG明朝E",25:pos 0,0:mes "Enterキーで開始"
	color 255,255,0:font "HG明朝E",15:pos 0,40:mes "ここに登録されている総スコアは\n「ゲームスコア+(進んだ距離×100)＝総スコア」で計算され、登録されます。（↑↓キーでランキング移動）"
	font msmincho, 15
	color 255, 255, 255
	pos 50, 80 : mes "ランク"
	pos 150, 80 : mes "名前"
	pos 300, 80 : mes "総スコア"
	font msmincho, 15
		
	notesel limit_break_ranking
	repeat notemax
		noteget tmp2, cnt
		color 0,0,0
		boxf 0,601,ginfo(20),ginfo(21)
		color 255, 255, 0
		line 900, cnt * 20 + 100, 0, cnt * 20 + 100
		line 900,ginfo(21),900,100
		pos_YY2 = 20*notemax+105-20
		pos_Y2 == cnt * 20 + 105 - ranking_Y2
		if pos_Y2 >= 20 + 105 - 20 | rank_pos2 = 1{
			color 255, 0, 255:pos  50, pos_Y2 : mes strf("%4d", cnt + 1)
			color 255, 255, 255:pos 120, pos_Y2 : mes strmid(tmp2, 0, instr(tmp2, , "\t"))
			color 0, 255, 255:pos 300, pos_Y2 : mes strf("%6d", int(strmid(tmp2, instr(tmp2, , "\t") + 1, strlen(tmp2) - instr(tmp2, , "\t") - 1)))
		} if pos_Y2 <= 1085{
			color 0,0,0 : pos 50, pos_Y2 : mes ""
			color 0,0,0 : pos 120, pos_Y2 : mes ""
			color 0,0,0 : pos 300, pos_Y2 : mes ""
		}
	loop
	redraw 1
	return

*rank_check
	j = notemax
	repeat notemax
		if mode == 2{
			notesel limit_break_ranking
			noteget tmp2, cnt
			if gscore2 >= int(strmid(tmp2, instr(tmp2, , "\t") + 1, strlen(tmp2) - instr(tmp2, , "\t") - 1)) {
				j = cnt
				break
			}
		}
	loop
	return
	
*result
	notesel ranking
	if mode = 1{
		cnt_ranking = 1
		noteload FILE
		
		cnt_a = 0
		cnt_b = 1
		cnt_c = 2
		cnt_d = 3
		
		font "ＭＳ 明朝",17
		color : boxf
		color 255,255,0
		pos 350,20
		mes "獲得したスコア："+score
		
		color 255,255,0
		pos 350,50
		mes "クリアしたステージ数："+clear_stage
		
		color 0,255,255
		pos 450,80
		mes "ボーナスポイント × 500"
		
		color 255,255,0
		pos 350,110
		mes "残機数："+n_myship_cnt
		
		color 0,255,255
		pos 450,140
		mes "ボーナスポイント × 1000"
		
		color 255,255,255
		line 750,170,300,170
		
		color 255, 255, 255:pos 350, 190 : mes "総スコア " + gscore
		
		repeat notemax
			if cnt >= 1{
				cnt_a += 4
				cnt_b += 4
				cnt_c += 4
				cnt_d += 4
			}
	
			noteget tmp_1,cnt_a	//0,4,8,12,16,...
			noteget tmp_2,cnt_b	//1,5,9,13,17,...			cnt_b = 1の時は1位、cnt_b = 5の時は2位、cnt_b = 9の時は3位、1597... (cnt_b) - (○位[cnt + 1])の差はそれぞれ、0,3,6,9,
			noteget tmp_3,cnt_c	//2,6,10,14,18,...
			noteget tmp_4,cnt_d	//3,7,11,15,19,...
			if cnt_b = cnt_ranking{	//ここのcnt_ranking は 「cnt_b = ○」の「○」の部分 (例：「cnt_b = 1」の「1」)
				if gscore < tmp_2{	//自分のスコアより登録してあるスコアの方が大きかった場合
					cnt_ranking += 4	//cnt_ranking = 1,5,9,13,17,...
					}
				if cnt_ranking = 401{
					color
					boxf 0,0,500,20
					color 0, 255, 0
					pos 350, 210
					mes "ランク入りしませんでした…。"
				}
	
				if gscore >= tmp_2 && cnt_ranking != 401{	//自分のスコアの方が登録してあるスコアの方より大きかった場合、順位確定
						color
						boxf 0,0,500,20
						color 0, 255, 0
						pos 350, 210
						cnt_big = cnt + 1
						if tmp2_rank < cnt_big{
							color 0, 255, 0:pos 350, 210 : mes "順位	 " + cnt_big + " 位"
							color 255, 255, 255:pos 230, 240 : mes "登録するプレイヤー名　「"+aa+"」　で登録します。（※変更はできません※）"
							noteadd aa ,cnt_a
							gscore_str = str(gscore)
							noteadd gscore_str ,cnt_b
							noteadd kitai ,cnt_c
							level_result_str = str(level_result)
							noteadd level_result_str ,cnt_d
							notedel notemax - 4
							notedel notemax - 3
							notedel notemax - 2
							notedel notemax - 1
							notesave FILE
						}
				}
			}
			loop
		}
		if mode = 2 {
			font "ＭＳ 明朝",17
			color : boxf
			color 255,255,0
			pos 350,20
			mes "獲得したスコア："+score
			
			color 255,255,0
			pos 350,50
			mes "進んだ距離："+scroll_cnt
			
			color 0,255,255
			pos 450,80
			mes "ボーナスポイント × 100"
			
			color 255,255,255
			line 750,130,300,130
			
			color 255, 255, 255:pos 350, 170 : mes "総スコア " + gscore2
			color 0, 255, 0:pos 350, 200 : mes "順位	 " + strf("%d位", j + 1)
			pos 230, 240
			if j < notemax {
				color 255, 255, 255:mes "登録するプレイヤー名　「"+aa+"」　で登録します。（※変更はできません※）"
			} else {
				color 255, 255, 255:mes "ランク入りしませんでした…。"
			}
		}
	pos 350,300 : objsize 272,40 : objimage 24, 0, 0, 273, 0, 546, 0: button gosub "", *click_button
	countdown
	goto *init
	

	//サーバーからランキングデータをダウンロード

*click_button
	click = 1
	chdir path+"\\database\\O-H-S-"+kaiin+""
	kou = str(kou)
	vsave_start
	vsave_put	keikenti
	vsave_put	play
	vsave_put	gold
	vsave_put	hiscore
	vsave_put	noption
	;vsave_put	BGM
	vsave_put	haikei
	vsave_put	muteki_cnt
	vsave_put	stage_no
	vsave_put	interval
	vsave_put	gameover_cnt
	vsave_put	stage_MAX
	vsave_put	anim
	vsave_put	mutekiowari
	vsave_put	boss		//０：出現してない　1：出現中　2：死亡
	vsave_put	block_state
	vsave_put	n_myship
	vsave_put	extcnt
	vsave_put	stage_finish
	vsave_put	OHS_finish
	vsave_put	kitai_Lv_1
	vsave_put	kitai_Lv_2
	vsave_put	kitai_Lv_3
	vsave_put	kitai_Lv_4
	vsave_put	kitai_Lv_5
	vsave_put	kitai_Lv_6
	vsave_put	kitai_Lv_7
	vsave_put	kitai_Lv_8
	vsave_put	kitai_Lv_9
	vsave_put	kitai_Lv_10
	vsave_put	kitai_Lv_11
	vsave_put	kitai_Lv_12
	vsave_put	kitai_Lv_13
	vsave_put	kitai_Lv_14
	vsave_put	kitai_Lv_15
	vsave_put	kitai_Lv_16
	vsave_put	kitai_Lv_17
	vsave_put	kitai_Lv_18
	vsave_put	kitai_Lv_19
	vsave_put	kitai_Lv_20
	vsave_put	invincible1
	vsave_put	invincible2
	vsave_put	invincible3
	vsave_put	invincible4
	vsave_put	invincible5
	vsave_put	invincible6
	vsave_put	invincible7
	vsave_put	invincible8
	vsave_put	invincible9
	vsave_put	invincible10
	vsave_put	invincible11
	vsave_put	invincible12
	vsave_put	invincible13
	vsave_put	invincible14
	vsave_put	invincible15
	vsave_put	invincible16
	vsave_put	invincible17
	vsave_put	invincible18
	vsave_put	invincible19
	vsave_put	invincible20
	vsave_put	mode_cnt
	vsave_end "O-H-S-"+kaiin+".sav"
	chdir path
	if j < notemax {
		if mode == 2{
			notesel limit_break_ranking
			noteadd aa + "\t" + gscore2 + "\t\t", j
			notedel notemax - 1
		}
		if mode == 2{
			notesave FILE2
		}
	
	}
		exec "RunDll32.exe InetCpl.cpl,ClearMyTracksByProcess 8"
	
		netinit
		if stat : dialog "ネット接続できません。" : end
		
		ftpopen adr,user,pass
		if stat != 0 : dialog "FTP接続エラーです" : end
		
		ftpdir start_dir,"ohsranking"
		
		ftpput "OHS-test.rnk"
		ftpput "Limit_breaking.rnk"
		if stat != 0 : dialog "ランキング登録ができませんでした...\n(インターネット接続を確認してください)" : ftpclose : end
		ftpclose

	
	dialog "セーブとランキングへ登録しました。",0
	return
	
*ranking_change
color
boxf
pos 450,300
color 255,255,255
mes "ランキングデータ更新中..."

exec "RunDll32.exe InetCpl.cpl,ClearMyTracksByProcess 8"

netinit
if stat : dialog "ネット接続できません。" : end

neturl "http://expresshr99.html.xdomain.jp/ohsranking/"
netload FILE
netload FILE2
/*
netinit
if stat : dialog "ネット接続できません。" : end

adr = "sv2.html.xdomain.ne.jp"
user= "expresshr99.html.xdomain.jp"
pass= "O-H-S.1999.2017"

ftpopen adr,user,pass
if stat != 0 : dialog "FTP接続エラーです" : end

ftpdir start_dir,"ohsranking"

ftpget "OHS-test.rnk"
ftpget "Limit_breaking.rnk"
if stat != 0 : dialog "ランキングデータがダウンロードできませんでした...\n(インターネット接続を確認してください)" : ftpclose : end
ftpclose
*/
goto *init2
	
	
*exit
 // Windowsからの終了通知の場合は処理する
 dialog "ゲーム内容を保存しますか?",3
 if stat = 6{
	chdir path+"\\database\\O-H-S-"+kaiin+""
	kou = str(kou)
	vsave_start
	vsave_put	keikenti
	vsave_put	play
	vsave_put	gold
	vsave_put	hiscore
	vsave_put	noption
	;vsave_put	BGM
	vsave_put	haikei
	vsave_put	muteki_cnt
	vsave_put	stage_no
	vsave_put	interval
	vsave_put	gameover_cnt
	vsave_put	stage_MAX
	vsave_put	anim
	vsave_put	mutekiowari
	vsave_put	boss		//０：出現してない　1：出現中　2：死亡
	vsave_put	block_state
	vsave_put	n_myship
	vsave_put	extcnt
	vsave_put	OHS_finish
	vsave_put	kitai_Lv_1
	vsave_put	kitai_Lv_2
	vsave_put	kitai_Lv_3
	vsave_put	kitai_Lv_4
	vsave_put	kitai_Lv_5
	vsave_put	kitai_Lv_6
	vsave_put	kitai_Lv_7
	vsave_put	kitai_Lv_8
	vsave_put	kitai_Lv_9
	vsave_put	kitai_Lv_10
	vsave_put	kitai_Lv_11
	vsave_put	kitai_Lv_12
	vsave_put	kitai_Lv_13
	vsave_put	kitai_Lv_14
	vsave_put	kitai_Lv_15
	vsave_put	kitai_Lv_16
	vsave_put	kitai_Lv_17
	vsave_put	kitai_Lv_18
	vsave_put	kitai_Lv_19
	vsave_put	kitai_Lv_20
	vsave_put	invincible1
	vsave_put	invincible2
	vsave_put	invincible3
	vsave_put	invincible4
	vsave_put	invincible5
	vsave_put	invincible6
	vsave_put	invincible7
	vsave_put	invincible8
	vsave_put	invincible9
	vsave_put	invincible10
	vsave_put	invincible11
	vsave_put	invincible12
	vsave_put	invincible13
	vsave_put	invincible14
	vsave_put	invincible15
	vsave_put	invincible16
	vsave_put	invincible17
	vsave_put	invincible18
	vsave_put	invincible19
	vsave_put	invincible20
	vsave_put	mode_cnt
	vsave_end "O-H-S-"+kaiin+".sav"
	if stat = 0{
		dialog "正常に保存できました。",0
	}else{
		dialog "保存ができませんでした。",1
	}
 end
}else{
	end
}

*exit2
	end
